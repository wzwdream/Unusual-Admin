import{_ as I}from"./index-DRVtrlAz.js";import{a as F,q as $,j as L,w as A,l as u,m,ag as l,bj as p,F as g,b4 as y,P as w}from"./@vue-BxoxtTAP.js";import"./@vueuse-DrRc1vxu.js";import"./pinia-CmUssEbr.js";import"./vue-i18n-D8g7FhYN.js";import"./@intlify-ZcBRI--x.js";import"./naive-ui-BLfgJAqn.js";import"./date-fns-CMuzgvE5.js";import"./vueuc-CJldP7Lx.js";import"./evtd-CI_DDEu_.js";import"./seemly-DXTCRGqE.js";import"./@css-render-EhH995Cp.js";import"./vooks-Cw9CgJAa.js";import"./vdirs-DRH9Xvnd.js";import"./@juggle-C8OzoCMD.js";import"./css-render-BDrvWz3H.js";import"./@emotion-WldOFDRm.js";import"./lodash-es-DkZVwyoF.js";import"./treemate-DKekKYbv.js";import"./async-validator-9PlIezaS.js";import"./vue-echarts-CTGpP_pZ.js";import"./resize-detector-G6vbKCU7.js";import"./echarts-CuRpVpP4.js";import"./zrender-DGX4euIw.js";import"./tslib-BDyQ-Jie.js";import"./vue-router-dgZRC-ml.js";import"./@iconify-CL9SbJpr.js";import"./axios-B9ygI19o.js";import"./@codemirror-Dl84AIwu.js";import"./@lezer-BKSZuLkY.js";import"./crelt-C8TCjufn.js";import"./@marijn-DXwl3gUT.js";import"./style-mod-Bc2inJdb.js";import"./w3c-keyname-Vcq4gwWv.js";import"./pinia-plugin-persistedstate-RV7uh3T-.js";import"./vite-plugin-mock-DJeSL9NM.js";import"./mockjs-CZ65nlWZ.js";import"./copy-to-clipboard-CoXQxBGa.js";import"./toggle-selection-BHUZwh74.js";import"./path-to-regexp-CkFk_Ecl.js";const V={class:"diy-calendar-wrapper"},P={class:"calendar-header"},B={class:"center-title"},E={class:"diy-calendar-table"},J={class:"table-header-row"},R=["data-date"],W={class:"td-content-box"},q=["onClick"],z=1900,X=9999,G={__name:"CalendarComponent",props:{modelValue:Date},emits:["update:modelValue"],setup(M,{emit:_}){const S=M,k=_,o=F(S.modelValue),N={chineseFullName:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],fullName:["January","February","March","April","May","June","July","August","September","October","November","December"]},D=[{chineseFullName:"周日",chineseShortName:"日",fullName:"Sunday",shortName:"Sun",dayNumber:0},{chineseFullName:"周一",chineseShortName:"一",fullName:"Monday",shortName:"Mon",dayNumber:1},{chineseFullName:"周二",chineseShortName:"二",fullName:"Tuesday",shortName:"Tue",dayNumber:2},{chineseFullName:"周三",chineseShortName:"三",fullName:"Wednesday",shortName:"Wed",dayNumber:3},{chineseFullName:"周四",chineseShortName:"四",fullName:"Thursday",shortName:"Thu",dayNumber:4},{chineseFullName:"周五",chineseShortName:"五",fullName:"Friday",shortName:"Fri",dayNumber:5},{chineseFullName:"周六",chineseShortName:"六",fullName:"Saturday",shortName:"Sat",dayNumber:6}],j=new Date,e=$({target:{year:null,month:null,date:null,day:null,monthShortName:null,monthFullName:null,monthChineseFullName:null,firstDay:null,firstDayIndex:null,totalDays:null},previous:{totalDays:null}}),f=F([]);c();function c(){b(),C()}function b(){if(o.value||(o.value=j),e.target.year=o.value.getFullYear(),e.target.month=o.value.getMonth(),e.target.date=o.value.getDate(),e.target.day=o.value.getDay(),e.target.year<z||e.target.year>X){console.error("无效的年份，请检查传入的数据是否是正常");return}let a;a=o.value.toString().split(" "),e.target.monthShortName=a[1],e.target.monthFullName=N.fullName[e.target.month],e.target.monthChineseFullName=N.chineseFullName[e.target.month];const t=new Date(e.target.year,e.target.month,1);e.target.firstDay=t.getDay(),e.target.firstDayIndex=D.findIndex(n=>n.dayNumber===e.target.firstDay);const r=new Date(e.target.year,e.target.month+1,0);e.target.totalDays=r.getDate();const s=new Date(e.target.year,e.target.month,0);e.previous.totalDays=s.getDate(),console.log("calendarProps:",e)}function C(){let a,t=1;const r=[],s=[];for(a=0;a<=6;a++)if(a<e.target.firstDayIndex){const n=e.previous.totalDays-e.target.firstDayIndex+(a+1);s.push({dateObj:new Date(e.target.year,e.target.month-1,n),dateNumber:n,dateType:"previous"})}else s.push({dateObj:new Date(e.target.year,e.target.month,t),dateNumber:t,dateType:"current"}),t++;r.push(s);for(let n=0;n<=4;n++){const i=[];for(let d=0;d<=6;d++){if(t<=e.target.totalDays)i.push({dateObj:new Date(e.target.year,e.target.month,t),dateNumber:t,dateType:"current"});else{const h=t-e.target.totalDays;i.push({dateObj:new Date(e.target.year,e.target.month+1,h),dateNumber:h,dateType:"next"})}t++}r.push(i)}f.value=r}function T(a){const t=a.dateObj,r=t.getFullYear(),s=t.getMonth(),n=t.getDate(),i=o.value.getFullYear(),d=o.value.getMonth(),h=o.value.getDate();return r===i&&s===d&&n===h}function x(a){return a.dateType==="current"}function O(a){const t=a.dateObj,r=o.value;t.getTime()!==r.getTime()&&(a.dateType==="current"?(o.value=a.dateObj,b()):(o.value=a.dateObj,c()))}function v(a){let t=e.target.month,r=e.target.year;o.value=e.target.date,t+=a,t>11?(r+=1,t=0):t<0&&(r-=1,t=11),o.value=new Date(r,t,o.value),c()}const Y=L(()=>{const a=o.value.getMonth()+1;let t="";return a>10?t=a+"":t="0"+a,`${o.value.getFullYear()}.${t}`});return A(o,a=>{k("update:modelValue",a)}),(a,t)=>(m(),u("div",V,[l("div",P,[l("div",{class:"left-arrow",onClick:t[0]||(t[0]=r=>v(-1))},[...t[2]||(t[2]=[l("svg",{width:"30",height:"30"},[l("path",{d:"M 19,9 L 11,15 18,21",stroke:"rgba(95,147,238,0.3)",fill:"none","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)])]),l("div",B,p(Y.value),1),l("div",{class:"right-arrow",onClick:t[1]||(t[1]=r=>v(1))},[...t[3]||(t[3]=[l("svg",{width:"30",height:"30"},[l("path",{d:"M 11,9 L 18,15 11,21",stroke:"rgba(95,147,238,0.3)",fill:"none","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)])])]),l("table",E,[l("thead",null,[l("tr",J,[(m(),u(g,null,y(D,r=>l("th",{key:r.chineseShortName,class:"table-header"},p(r.shortName),1)),64))])]),l("tbody",null,[(m(!0),u(g,null,y(f.value,(r,s)=>(m(),u("tr",{class:"table-body-row",key:s},[(m(!0),u(g,null,y(r,n=>(m(),u("td",{class:"table-data","data-date":n.dateNumber,key:`${n.dateObj.getMonth()}-${n.dateNumber}`},[l("div",W,[l("div",{class:w(["content-border",{selected:T(n)}]),onClick:i=>O(n)},[l("div",{class:w(["date-number",{current:x(n)}])},p(n.dateNumber),3)],10,q)])],8,R))),128))]))),128))])])]))}},$e=I(G,[["__scopeId","data-v-df242aae"]]);export{$e as default};
