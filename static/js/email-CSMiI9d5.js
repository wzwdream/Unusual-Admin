import{d as h,a as _,l as y,m as j,ag as d,y as e,bI as n,u as r,bK as q,bM as B,E as k}from"./@vue-hDPt79YI.js";import{h as c}from"./index-BukTgyxp.js";import{K as A,L as E,n as K,a7 as M,a8 as V,B as z,M as C}from"./naive-ui-B0x1dlqI.js";import"./@vueuse-BiuUNhkd.js";import"./pinia-BjKXS5ic.js";import"./vue-i18n-Dk-SIn3V.js";import"./@intlify-ZcBRI--x.js";import"./vue-echarts-DSlFlwne.js";import"./resize-detector-G6vbKCU7.js";import"./echarts-CuRpVpP4.js";import"./zrender-DGX4euIw.js";import"./tslib-BDyQ-Jie.js";import"./vue-router-DqVd_W5F.js";import"./@iconify-BjyHS9ah.js";import"./axios-BQJyKPGC.js";import"./@codemirror-BcTyK8Ct.js";import"./@lezer-Bq4_8UpH.js";import"./crelt-C8TCjufn.js";import"./@marijn-DXwl3gUT.js";import"./style-mod-Bc2inJdb.js";import"./w3c-keyname-Vcq4gwWv.js";import"./lodash-es-DkZVwyoF.js";import"./pinia-plugin-persistedstate-RV7uh3T-.js";import"./vite-plugin-mock-m67_kHJ6.js";import"./mockjs-DcYjckXe.js";import"./copy-to-clipboard-CoXQxBGa.js";import"./toggle-selection-BHUZwh74.js";import"./path-to-regexp-CkFk_Ecl.js";import"./date-fns-pQOEqued.js";import"./vueuc-Cy6NzoKr.js";import"./evtd-CI_DDEu_.js";import"./seemly-DXTCRGqE.js";import"./@css-render-Ed7HajDt.js";import"./vooks-COlTATDB.js";import"./vdirs-DRH9Xvnd.js";import"./@juggle-C8OzoCMD.js";import"./css-render-BDrvWz3H.js";import"./@emotion-WldOFDRm.js";import"./treemate-DKekKYbv.js";import"./async-validator-9PlIezaS.js";const N=()=>c.post("/user"),U=m=>c.post("/mail",m),Z={class:"w-100%"},D={class:"m-auto px-20px md:w-400px"},R={class:"flex justify-end"},Bt=h({__name:"email",setup(m){const p=_(null),u=A(),o=_({email:"1758417159@qq.com",subject:"测试",text:"测试"}),f={email:[{required:!0,message:"请按规则填写",trigger:["input","blur"],validator(a,t){return/^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(.[a-zA-Z0-9_-]+)+$/.test(t)}}],subject:[{required:!0,trigger:["input","blur"],message:"请按规则填写"}],text:[{required:!0,message:"请按规则填写",trigger:["input","blur"]}]};N().then(a=>{console.table(a.data)});function g(){var a;(a=p.value)==null||a.validate(t=>{t?(console.error("Verification failure"),u.error("请按规则填写")):U({...o.value}).then(i=>{i.code===200&&u.success("success")})})}return(a,t)=>{const i=K,l=E,b=z,v=V,x=M,w=C;return j(),y("div",Z,[d("div",D,[e(w,{ref_key:"formRef",ref:p,model:r(o),rules:f},{default:n(()=>[e(l,{path:"email",label:"收件人"},{default:n(()=>[e(i,{value:r(o).email,"onUpdate:value":t[0]||(t[0]=s=>r(o).email=s),maxlength:"30",clearable:"","show-count":""},null,8,["value"])]),_:1}),e(l,{path:"subject",label:"主题"},{default:n(()=>[e(i,{value:r(o).subject,"onUpdate:value":t[1]||(t[1]=s=>r(o).subject=s),maxlength:"30",clearable:"","show-count":""},null,8,["value"])]),_:1}),e(l,{path:"text",label:"内容"},{default:n(()=>[e(i,{value:r(o).text,"onUpdate:value":t[2]||(t[2]=s=>r(o).text=s),type:"textarea",placeholder:"请输入",maxlength:"1000",clearable:"","show-count":""},null,8,["value"])]),_:1}),e(x,{gutter:[0,24]},{default:n(()=>[e(v,{span:24},{default:n(()=>[d("div",R,[e(b,{disabled:r(o).email===null,round:"",type:"primary",onKeydown:t[3]||(t[3]=q(B(()=>{},["prevent"]),["enter"])),onClick:t[4]||(t[4]=s=>g())},{default:n(()=>[...t[5]||(t[5]=[k(" 发送 ",-1)])]),_:1},8,["disabled"])])]),_:1})]),_:1})]),_:1},8,["model"])])])}}});export{Bt as default};
