import{e,l as a,u as l,g as s,_ as r,a as o}from"./index-ff32be84.js";import{h as n,M as t,aT as u,aU as i,aG as d,O as c,o as p,q as g,t as h,k as m,w as v,l as f,aV as w,C as b,X as y,F as _,Y as k,S as x,aW as q,aX as N,a7 as U,aB as T,aC as C}from"./.pnpm-d3a0ebca.js";import{c as P,a as z,b as K}from"./calibrationRules-6d34d65c.js";const j=e=>(T("data-v-1d7bc1f7"),e=e(),C(),e),F={"wh-full":"","f-c-c":"",class:"bg-content"},I={class:"form-container sign-in-container"},L=j((()=>h("h1",{"m-0":""},"登录",-1))),M=j((()=>h("span",{"mb-10":"","font-size-12":""},"或者使用你的账号",-1))),R=["innerHTML"],H=j((()=>h("div",{flex:"","mb-10":"","min-w-308":""},[h("span",{"font-size-12":""},"忘记密码？")],-1))),X={class:"form-container sign-up-container"},B=j((()=>h("h1",{"m-0":""},"注册",-1))),G={class:"overlay-container"},O={class:"overlay"},S={class:"overlay-panel overlay-left"},V=j((()=>h("p",null,"要与我们保持联系，请使用您的个人信息登录",-1))),W={class:"overlay-panel overlay-right"},Y=j((()=>h("p",null,"非常感谢您选择我们！我们将竭诚为您提供最优质、最全面的服务。",-1))),A=n({name:"Login"}),D=o(n({...A,setup(o){const n=t("signUp"),T=u({userName:"admin",userPassword:"widgets@123",captchaText:"eybk"}),C=t(null),j=t(!1),A=i(),D={userName:[{required:!0,message:"请输入用户名",trigger:"blur"}],userPassword:[{required:!0,message:"请输入密码",trigger:"blur"}],captchaText:[{required:!0,message:"请输入验证码",trigger:"blur"}]},E=d(),J=c(),Q=()=>{var s;null==(s=C.value)||s.validate((s=>{if(!s){j.value=!0;const s={...T,userPassword:e(T.userPassword)};a(s).then((async e=>{j.value=!1,A.success("登录成功,欢迎回来");l().setToken(e.data);const{redirect:a}=E.query;J.push(a||"/")})).catch((()=>{j.value=!1,$()}))}}))},Z=t(""),$=()=>{s().then((e=>{Z.value=e.data}))};$();const ee=u({userName:"",pwd:"",email:"",phone:""}),ae={userName:[{required:!0,message:"请输入用户名",trigger:"blur"}],pwd:[{required:!0,message:"请输入密码",trigger:"blur"},{validator:P,message:"密码格式不正确",trigger:"input"}],email:[{required:!0,message:"请输入邮箱",trigger:"blur"},{validator:z,message:"请输入正确的邮箱",trigger:"input"}],phone:[{required:!0,message:"请输入手机号",trigger:"blur"},{validator:K,message:"请输入正确的手机号",trigger:"input"}]},le=t(null),se=t(!1),re=()=>{var e;null==(e=le.value)||e.validate((e=>{}))};return(e,a)=>{const l=r,s=_,o=k,t=x,u=q,i=N,d=U;return p(),g("div",F,[h("div",{class:y(["bg-white rd-12 relative w768 max-w-full min-h-480 card-shadow dark:bg-dark",{"right-panel-active":"signIn"===f(n)}])},[h("div",I,[m(i,{ref_key:"loginFormRef",ref:C,size:"small","show-label":!1,model:f(T),rules:D,class:"flex-col-c bg-white h-full rounded-10"},{default:v((()=>[L,m(o,{"my-20":""},{default:v((()=>[m(s,{circle:""},{icon:v((()=>[m(l,{icon:"bi:tencent-qq"})])),_:1}),m(s,{circle:""},{icon:v((()=>[m(l,{icon:"tabler:brand-wechat"})])),_:1}),m(s,{circle:""},{icon:v((()=>[m(l,{icon:"mdi:github"})])),_:1})])),_:1}),M,m(u,{path:"userName",class:"w-[80%]"},{default:v((()=>[m(t,{value:f(T).userName,"onUpdate:value":a[0]||(a[0]=e=>f(T).userName=e),placeholder:"请输入账户名称"},null,8,["value"])])),_:1}),m(u,{path:"userPassword",class:"w-[80%]"},{default:v((()=>[m(t,{value:f(T).userPassword,"onUpdate:value":a[1]||(a[1]=e=>f(T).userPassword=e),type:"password","show-password-on":"mousedown",placeholder:"请输入账户密码",maxlength:12},null,8,["value"])])),_:1}),m(u,{path:"captchaText",class:"w-[80%]"},{default:v((()=>[m(t,{value:f(T).captchaText,"onUpdate:value":a[2]||(a[2]=e=>f(T).captchaText=e),placeholder:"请输入验证码"},null,8,["value"]),h("div",{onClick:$,innerHTML:f(Z),"h-28":"","w-100":"","cursor-pointer":""},null,8,R)])),_:1}),H,m(s,{class:"w-[40%] font-bold",round:"",type:"primary",loading:f(j),onClick:Q,onKeyup:w(Q,["enter"])},{default:v((()=>[b("登录")])),_:1},8,["loading","onKeyup"])])),_:1},8,["model"])]),h("div",X,[m(i,{ref_key:"registFormRef",ref:le,size:"small","show-label":!1,model:f(ee),rules:ae,class:"flex-col-c bg-white h-full rounded-10"},{default:v((()=>[B,m(u,{path:"userName",class:"w-[80%]"},{default:v((()=>[m(t,{value:f(ee).userName,"onUpdate:value":a[3]||(a[3]=e=>f(ee).userName=e),placeholder:"请输入账户名称"},null,8,["value"])])),_:1}),m(u,{path:"pwd",class:"w-[80%]"},{default:v((()=>[m(t,{value:f(ee).pwd,"onUpdate:value":a[4]||(a[4]=e=>f(ee).pwd=e),type:"password","show-password-on":"click",placeholder:"请输入账户密码",maxlength:12},null,8,["value"])])),_:1}),m(u,{path:"email",class:"w-[80%]"},{default:v((()=>[m(t,{value:f(ee).email,"onUpdate:value":a[5]||(a[5]=e=>f(ee).email=e),placeholder:"请输入邮箱"},null,8,["value"])])),_:1}),m(u,{path:"phone",class:"w-[80%]"},{default:v((()=>[m(t,{value:f(ee).phone,"onUpdate:value":a[6]||(a[6]=e=>f(ee).phone=e),placeholder:"请输入手机号"},null,8,["value"])])),_:1}),m(s,{class:"w-[40%] font-bold",round:"",type:"primary",loading:f(se),onKeyup:w(re,["enter"]),onClick:re},{default:v((()=>[b("注册")])),_:1},8,["loading","onKeyup"])])),_:1},8,["model"])]),h("div",G,[h("div",O,[h("div",S,[h("h1",null,[b("欢迎回来！"),m(d,{width:"48",height:"48","preview-disabled":"",src:"/logo.webp",class:"b-rd-[50%]"})]),V,m(s,{ghost:"",round:"",color:"#fff",onClick:a[7]||(a[7]=e=>n.value="signUp")},{default:v((()=>[b("去登录")])),_:1})]),h("div",W,[h("h1",null,[b("你好，朋友！"),m(d,{width:"48",height:"48","preview-disabled":"",src:"/logo.webp",class:"b-rd-[50%]"})]),Y,m(s,{ghost:"",round:"",color:"#fff",onClick:a[8]||(a[8]=e=>n.value="signIn")},{default:v((()=>[b("去注册")])),_:1})])])])],2)])}}}),[["__scopeId","data-v-1d7bc1f7"]]);export{D as default};
