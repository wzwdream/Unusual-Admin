import{E as T}from"./md-editor-v3-xLt3RsoC.js";import{b,c as E}from"./index-DRVtrlAz.js";import{d as u,j as f,ae as w,m as _,u as a,S as M,f as v,a as P}from"./@vue-BxoxtTAP.js";import"./@vavt-Buy4dV4O.js";import"./@codemirror-Dl84AIwu.js";import"./@lezer-BKSZuLkY.js";import"./crelt-C8TCjufn.js";import"./@marijn-DXwl3gUT.js";import"./style-mod-Bc2inJdb.js";import"./w3c-keyname-Vcq4gwWv.js";import"./medium-zoom-bWEtUbjf.js";import"./copy-to-clipboard-CoXQxBGa.js";import"./toggle-selection-BHUZwh74.js";import"./markdown-it-C44Roubk.js";import"./mdurl-k9Sl0PQj.js";import"./uc.micro-kMc2yuuw.js";import"./entities-C20TfXL6.js";import"./linkify-it-DmNjr4Kv.js";import"./punycode.js-Dj65hjkv.js";import"./markdown-it-image-figures-IpqUZCLv.js";import"./markdown-it-sub-Bxi31R0z.js";import"./markdown-it-sup-Bp2DoVCN.js";import"./lru-cache-DmfXgoGS.js";import"./@vueuse-DrRc1vxu.js";import"./pinia-CmUssEbr.js";import"./vue-i18n-D8g7FhYN.js";import"./@intlify-ZcBRI--x.js";import"./naive-ui-BLfgJAqn.js";import"./date-fns-CMuzgvE5.js";import"./vueuc-CJldP7Lx.js";import"./evtd-CI_DDEu_.js";import"./seemly-DXTCRGqE.js";import"./@css-render-EhH995Cp.js";import"./vooks-Cw9CgJAa.js";import"./vdirs-DRH9Xvnd.js";import"./@juggle-C8OzoCMD.js";import"./css-render-BDrvWz3H.js";import"./@emotion-WldOFDRm.js";import"./lodash-es-DkZVwyoF.js";import"./treemate-DKekKYbv.js";import"./async-validator-9PlIezaS.js";import"./vue-echarts-CTGpP_pZ.js";import"./resize-detector-G6vbKCU7.js";import"./echarts-CuRpVpP4.js";import"./zrender-DGX4euIw.js";import"./tslib-BDyQ-Jie.js";import"./vue-router-dgZRC-ml.js";import"./@iconify-CL9SbJpr.js";import"./axios-B9ygI19o.js";import"./pinia-plugin-persistedstate-RV7uh3T-.js";import"./vite-plugin-mock-DJeSL9NM.js";import"./mockjs-CZ65nlWZ.js";import"./path-to-regexp-CkFk_Ecl.js";const U=u({name:"Markdown"}),O=u({...U,props:{editorId:{default:"markRaw_MdEditor"},previewTheme:{default:"default"},codeTheme:{default:"atom"},readOnly:{type:Boolean},mStyle:{default:""},toolbarsExclude:{default:()=>["htmlPreview","codeRow","code","unorderedList","orderedList","quote"]},modelValue:{default:""},uploadImgMethod:{},methodParams:{}},emits:["update:modelValue","save","uploadImg"],setup(s,{emit:i}){const e=s,t=i,p=f({get(){return e.modelValue},set(r){t("update:modelValue",r)}}),l=b(),y=f(()=>l.isDark?"dark":"light"),I=f(()=>l.language==="en"?"en-US":"zh-CN"),V=(r,m)=>{t("save",r,m)},k=async(r,m)=>{const n=await Promise.all(r.map(c=>new Promise((x,S)=>{const h=new FormData;h.append("file",c);const d=e.methodParams;d&&Object.keys(d).map(o=>{d.hasOwn(o)&&h.append(o,d[o])});const g=e.uploadImgMethod;g&&g(d).then(o=>{x(o)}).catch(o=>{S(o)})})));m(n.map(c=>c.data.url)),t("uploadImg",n)};return(r,m)=>(_(),w(a(T),{modelValue:a(p),"onUpdate:modelValue":m[0]||(m[0]=n=>v(p)?p.value=n:null),editorId:e.editorId,theme:a(y),language:a(I),previewTheme:e.previewTheme,codeTheme:e.codeTheme,noImgZoomIn:!0,autofocus:!0,"read-only":s.readOnly,style:M(e.mStyle||{height:a(E)("main")}),toolbarsExclude:e.toolbarsExclude,onSave:V,onUploadImg:k},null,8,["modelValue","editorId","theme","language","previewTheme","codeTheme","read-only","style","toolbarsExclude"]))}}),z=u({name:"MarkdownDemo"}),ze=u({...z,setup(s){const i=P("Markdown基于[MdEditorV3](https://imzbf.github.io/md-editor-v3/en-US/index)");return(e,t)=>{const p=O;return _(),w(p,{modelValue:a(i),"onUpdate:modelValue":t[0]||(t[0]=l=>v(i)?i.value=l:null)},null,8,["modelValue"])}}});export{ze as default};
