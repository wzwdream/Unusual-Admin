import{_ as O,u as W,a as j}from"./index-4074b9b4.js";import{e as G,a as J,_ as X}from"./index-54c8dad2.js";import{b as Y,c as Z,f as ee}from"./dict-ed1115bc.js";import{g as te,U as oe,V as ie,T as ae,k as ne,M as le,W as de,O as se,o as re}from"./naive-ui-e3a37dce.js";import{d as g,a as me,h as v,e as pe,k as _e,l as p,a8 as _,af as ue,u as e,bt as t,q as o,B as b,f as ce}from"./@vue-b1321081.js";import"./vue-i18n-d9dd9a4c.js";import"./@intlify-9ddbe450.js";import"./lodash-es-000674ce.js";import"./@vueuse-d91fccee.js";import"./pinia-44adfabd.js";import"./vue-demi-71ba0ef2.js";import"./vue-echarts-f350ff7c.js";import"./resize-detector-a5205554.js";import"./echarts-8b4ffd07.js";import"./zrender-d04178fe.js";import"./tslib-54e39b60.js";import"./vue-router-655d402f.js";import"./@iconify-688b7688.js";import"./axios-47b9d439.js";import"./@codemirror-f87e1e31.js";import"./@lezer-42a0dbdf.js";import"./style-mod-fd510d21.js";import"./w3c-keyname-9fb136d3.js";import"./pinia-plugin-persistedstate-02097300.js";import"./date-fns-2c268c3c.js";import"./@babel-31db5498.js";import"./vueuc-e19c7b48.js";import"./evtd-b614532e.js";import"./seemly-4f9c12c5.js";import"./@css-render-490b4d85.js";import"./vooks-db1138e2.js";import"./vdirs-b0483831.js";import"./@juggle-41516555.js";import"./css-render-d3958e6a.js";import"./@emotion-8a8e73f6.js";import"./treemate-426a560e.js";import"./async-validator-dee29e8b.js";const fe=g({name:"Details"}),ve=g({...fe,props:{pid:{},name:{}},setup(y){const{hasPermission:k}=G(),u={add:["admin","dictDetails:add"],del:["admin","dictDetails:del"],edit:["admin","dictDetails:edit"],download:["admin","dictDetails:download"]},d=y,D=me([{title:"ID",key:"id"},{title:"所属字典",key:"name",render(){return v("span",{},d.name)}},{title:"字典标签",key:"label"},{title:"字典值",key:"value"},{title:"排序",key:"dictSort"},{title:"操作",key:"actions",align:"center",fixed:"right",render(n){return[v(O,{permission:u,onHandleDelete:()=>V(n.id),onHandleEdit:()=>B(n),onHandleView:()=>F(n)})]}}]),h={value:[{required:!0,message:"请输入字典值",trigger:"blur"}],label:[{required:!0,message:"请输入字典标签",trigger:"blur"}]},{modalVisible:s,modalAction:w,modalShowFooter:x,modalTitle:S,modalLoading:C,handleAdd:U,handleDelete:V,handleEdit:B,handleView:F,handleSave:H,defualtQuery:I,modalForm:a,modalFormRef:Q,listQuery:R,listData:c,pagination:r,loading:$,rowKey:q}=W({name:"字典详情",url:"/dictDetails",key:"id",isInitQuery:!1,initForm:{id:void 0,pid:void 0,label:"",value:"",dictSort:1},initQuery:{pid:void 0},doCreate:Y,doDelete:Z,doUpdate:ee,beforeSave:n=>(n.pid=d.pid,n)});return pe(()=>{_e(()=>{d.pid?(I.pid=d.pid,R()):(c.value=[],r.itemCount=0,r.page=1)})}),(n,i)=>{const E=J,M=te,N=oe,T=ie,z=ae,f=ne,m=le,A=de,L=se,P=j,K=re;return p(),_(K,{title:"字典详情",size:"small",segmented:!0},ue({default:t(()=>[d.pid===void 0?(p(),_(T,{key:0,prefix:"bar"},{default:t(()=>[o(N,{type:"primary"},{default:t(()=>[b(" 点击字典查看详情")]),_:1})]),_:1})):(p(),_(z,{key:1,columns:e(D),data:e(c),pagination:e(r),loading:e($),"row-key":e(q),striped:"",remote:!0},null,8,["columns","data","pagination","loading","row-key"])),o(P,{visible:e(s),"onUpdate:visible":i[3]||(i[3]=l=>ce(s)?s.value=l:null),title:e(S),loading:e(C),"show-footer":e(x),width:"450px",onSave:e(H)},{default:t(()=>[o(L,{ref_key:"modalFormRef",ref:Q,"label-placement":"left","label-align":"right","label-width":80,model:e(a),rules:h,disabled:e(w)==="view"},{default:t(()=>[o(m,{label:"字典标签",path:"label"},{default:t(()=>[o(f,{value:e(a).label,"onUpdate:value":i[0]||(i[0]=l=>e(a).label=l)},null,8,["value"])]),_:1}),o(m,{label:"字典值",path:"value"},{default:t(()=>[o(f,{value:e(a).value,"onUpdate:value":i[1]||(i[1]=l=>e(a).value=l)},null,8,["value"])]),_:1}),o(m,{label:"字典排序",path:"dictSort"},{default:t(()=>[o(A,{value:e(a).dictSort,"onUpdate:value":i[2]||(i[2]=l=>e(a).dictSort=l)},null,8,["value"])]),_:1})]),_:1},8,["model","disabled"])]),_:1},8,["visible","title","loading","show-footer","onSave"])]),_:2},[e(k)(u.add)?{name:"header-extra",fn:t(()=>[o(M,{type:"primary",disabled:d.pid===void 0,size:"small",onClick:e(U)},{icon:t(()=>[o(E,{icon:"material-symbols:add-rounded"})]),default:t(()=>[b(" 新增 ")]),_:1},8,["disabled","onClick"])]),key:"0"}:void 0]),1024)}}});const et=X(ve,[["__scopeId","data-v-61e5d6ab"]]);export{et as default};
