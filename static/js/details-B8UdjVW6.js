import{u as j,_ as W,a as X}from"./index-BI4jCDnk.js";import{j as G,a as J,k as O,m as Y,o as Z,_ as ee}from"./index-CbgEwbzS.js";import{i as te,B as oe,V as ie,W as ae,U as ne,M as le,L as de,n as re,X as se}from"./naive-ui-Bk4TGpAc.js";import{d as g,a as me,h as v,b as pe,k as ue,ae as p,m as u,al as _e,bK as o,u as e,y as i,E as b,f as ce}from"./@vue-BxoxtTAP.js";import"./vue-i18n-D8g7FhYN.js";import"./@intlify-ZcBRI--x.js";import"./lodash-es-DkZVwyoF.js";import"./@vueuse-DrRc1vxu.js";import"./pinia-CmUssEbr.js";import"./vue-echarts-CTGpP_pZ.js";import"./resize-detector-G6vbKCU7.js";import"./echarts-CuRpVpP4.js";import"./zrender-DGX4euIw.js";import"./tslib-BDyQ-Jie.js";import"./vue-router-dgZRC-ml.js";import"./@iconify-CL9SbJpr.js";import"./axios-B9ygI19o.js";import"./@codemirror-Dl84AIwu.js";import"./@lezer-BKSZuLkY.js";import"./crelt-C8TCjufn.js";import"./@marijn-DXwl3gUT.js";import"./style-mod-Bc2inJdb.js";import"./w3c-keyname-Vcq4gwWv.js";import"./pinia-plugin-persistedstate-RV7uh3T-.js";import"./date-fns-CMuzgvE5.js";import"./vueuc-CJldP7Lx.js";import"./evtd-CI_DDEu_.js";import"./seemly-DXTCRGqE.js";import"./@css-render-EhH995Cp.js";import"./vooks-Cw9CgJAa.js";import"./vdirs-DRH9Xvnd.js";import"./@juggle-C8OzoCMD.js";import"./css-render-BDrvWz3H.js";import"./@emotion-WldOFDRm.js";import"./treemate-DKekKYbv.js";import"./async-validator-9PlIezaS.js";const fe=g({name:"Details"}),ve=g({...fe,props:{pid:{},name:{}},setup(y){const{hasPermission:k}=G(),_={add:["admin","dictDetails:add"],del:["admin","dictDetails:del"],edit:["admin","dictDetails:edit"],download:["admin","dictDetails:download"]},d=y,D=me([{title:"ID",key:"id"},{title:"所属字典",key:"name",render(){return v("span",{},d.name)}},{title:"字典标签",key:"label"},{title:"字典值",key:"value"},{title:"排序",key:"dictSort"},{title:"操作",key:"actions",align:"center",fixed:"right",render(n){return[v(W,{permission:_,onHandleDelete:()=>U(n.id),onHandleEdit:()=>V(n),onHandleView:()=>F(n)})]}}]),w={value:[{required:!0,message:"请输入字典值",trigger:"blur"}],label:[{required:!0,message:"请输入字典标签",trigger:"blur"}]},{modalVisible:r,modalAction:S,modalShowFooter:h,modalTitle:x,modalLoading:B,handleAdd:C,handleDelete:U,handleEdit:V,handleView:F,handleSave:E,defualtQuery:H,modalForm:a,modalFormRef:I,listQuery:Q,listData:c,pagination:s,loading:R,rowKey:L}=j({name:"字典详情",url:"/dictDetails",key:"id",isInitQuery:!1,initForm:{id:void 0,pid:void 0,label:"",value:"",dictSort:1},initQuery:{pid:void 0},doCreate:O,doDelete:Y,doUpdate:Z,beforeSave:n=>(n.pid=d.pid,n)});return pe(()=>{ue(()=>{d.pid?(H.pid=d.pid,Q()):(c.value=[],s.itemCount=0,s.page=1)})}),(n,t)=>{const M=J,N=oe,$=ae,q=ie,z=ne,f=re,m=de,A=se,K=le,P=X,T=te;return u(),p(T,{title:"字典详情",size:"small",segmented:!0},_e({default:o(()=>[d.pid===void 0?(u(),p(q,{key:0,prefix:"bar"},{default:o(()=>[i($,{type:"primary"},{default:o(()=>[...t[5]||(t[5]=[b(" 点击字典查看详情",-1)])]),_:1})]),_:1})):(u(),p(z,{key:1,columns:e(D),data:e(c),pagination:e(s),loading:e(R),"row-key":e(L),striped:"",remote:!0},null,8,["columns","data","pagination","loading","row-key"])),i(P,{visible:e(r),"onUpdate:visible":t[3]||(t[3]=l=>ce(r)?r.value=l:null),title:e(x),loading:e(B),"show-footer":e(h),width:"450px",onSave:e(E)},{default:o(()=>[i(K,{ref_key:"modalFormRef",ref:I,"label-placement":"left","label-align":"right","label-width":80,model:e(a),rules:w,disabled:e(S)==="view"},{default:o(()=>[i(m,{label:"字典标签",path:"label"},{default:o(()=>[i(f,{value:e(a).label,"onUpdate:value":t[0]||(t[0]=l=>e(a).label=l)},null,8,["value"])]),_:1}),i(m,{label:"字典值",path:"value"},{default:o(()=>[i(f,{value:e(a).value,"onUpdate:value":t[1]||(t[1]=l=>e(a).value=l)},null,8,["value"])]),_:1}),i(m,{label:"字典排序",path:"dictSort"},{default:o(()=>[i(A,{value:e(a).dictSort,"onUpdate:value":t[2]||(t[2]=l=>e(a).dictSort=l)},null,8,["value"])]),_:1})]),_:1},8,["model","disabled"])]),_:1},8,["visible","title","loading","show-footer","onSave"])]),_:2},[e(k)(_.add)?{name:"header-extra",fn:o(()=>[i(N,{type:"primary",disabled:d.pid===void 0,size:"small",onClick:e(C)},{icon:o(()=>[i(M,{icon:"material-symbols:add-rounded"})]),default:o(()=>[t[4]||(t[4]=b(" 新增 ",-1))]),_:1},8,["disabled","onClick"])]),key:"0"}:void 0]),1024)}}}),Ze=ee(ve,[["__scopeId","data-v-61e5d6ab"]]);export{Ze as default};
