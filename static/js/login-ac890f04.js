import{r as a,l as e,u as l,g as s,_ as r,a as t}from"./index-4a70f3a6.js";import{aQ as n,h as o,M as i,aR as d,aS as c,aG as u,O as p,o as h,q as g,t as m,k as v,w as f,l as w,aT as b,C as y,X as _,F as U,Y as x,S as k,aU as C,a7 as q,aV as T,aB as F,aC as z}from"./.pnpm-49006307.js";import{c as E,a as K,b as R}from"./calibrationRules-6d34d65c.js";const S=n.enc.Utf8.parse("18873AC2978EC7FA"),j=n.enc.Utf8.parse("4FE46BE1C4485C95");function A(a){if("string"!=typeof a||!a)return a;try{const e=n.enc.Utf8.parse(a);return n.AES.encrypt(e,S,{iv:j,mode:n.mode.CBC,padding:n.pad.Pkcs7}).ciphertext.toString()}catch(e){return a}}const B=a=>(F("data-v-2de5ec13"),a=a(),z(),a),I={"wh-full":"","f-c-c":"",class:"bg-content"},G={class:"form-container sign-in-container"},L=B((()=>m("h1",{"m-0":""},"登录",-1))),M=B((()=>m("span",{"mb-10":"","font-size-12":""},"或者使用你的账号",-1))),O=B((()=>m("div",{flex:"","mb-10":"","min-w-308":""},[m("span",{"font-size-12":""},"忘记密码？")],-1))),P={class:"form-container sign-up-container"},Q=B((()=>m("h1",{"m-0":""},"注册",-1))),V={class:"overlay-container"},X={class:"overlay"},Y={class:"overlay-panel overlay-left"},D=B((()=>m("p",null,"要与我们保持联系，请使用您的个人信息登录",-1))),H={class:"overlay-panel overlay-right"},J=B((()=>m("p",null,"非常感谢您选择我们！我们将竭诚为您提供最优质、最全面的服务。",-1))),N=o({name:"Login"}),W=t(o({...N,setup(t){const n=i("signUp"),o=d({name:"admin",password:"123456",captchaText:"",captchaUid:""}),F=i(null),z=i(!1),S=c(),j={name:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],captchaText:[{required:!0,message:"请输入验证码",trigger:"blur"}]},B=u(),N=p(),W=()=>{var s;null==(s=F.value)||s.validate((s=>{if(!s){z.value=!0;const s={...o,password:A(o.password)};a(),e(s).then((async a=>{z.value=!1,S.success("登录成功,欢迎回来");l().setToken(a.data);const{redirect:e}=B.query;N.push(e||"/")})).catch((()=>{z.value=!1,$()}))}}))},Z=i(""),$=()=>{s().then((a=>{Z.value="data:image/*;base64, "+a.data.captcha,o.captchaUid=a.data.uid}))};$();const aa=d({name:"",pwd:"",email:"",phone:""}),ea={name:[{required:!0,message:"请输入用户名",trigger:"blur"}],pwd:[{required:!0,message:"请输入密码",trigger:"blur"},{validator:E,message:"密码格式不正确",trigger:"input"}],email:[{required:!0,message:"请输入邮箱",trigger:"blur"},{validator:K,message:"请输入正确的邮箱",trigger:"input"}],phone:[{required:!0,message:"请输入手机号",trigger:"blur"},{validator:R,message:"请输入正确的手机号",trigger:"input"}]},la=i(null),sa=i(!1),ra=()=>{var a;null==(a=la.value)||a.validate((a=>{}))};return(a,e)=>{const l=r,s=U,t=x,i=k,d=C,c=q,u=T;return h(),g("div",I,[m("div",{class:_(["bg-white rd-12 relative w768 max-w-full min-h-480 card-shadow dark:bg-dark",{"right-panel-active":"signIn"===w(n)}])},[m("div",G,[v(u,{ref_key:"loginFormRef",ref:F,size:"small","show-label":!1,model:w(o),rules:j,class:"flex-col-c bg-white h-full rounded-10"},{default:f((()=>[L,v(t,{"my-20":""},{default:f((()=>[v(s,{circle:""},{icon:f((()=>[v(l,{icon:"bi:tencent-qq"})])),_:1}),v(s,{circle:""},{icon:f((()=>[v(l,{icon:"tabler:brand-wechat"})])),_:1}),v(s,{circle:""},{icon:f((()=>[v(l,{icon:"mdi:github"})])),_:1})])),_:1}),M,v(d,{path:"name",class:"w-[80%]"},{default:f((()=>[v(i,{value:w(o).name,"onUpdate:value":e[0]||(e[0]=a=>w(o).name=a),placeholder:"请输入账户名称"},null,8,["value"])])),_:1}),v(d,{path:"password",class:"w-[80%]"},{default:f((()=>[v(i,{value:w(o).password,"onUpdate:value":e[1]||(e[1]=a=>w(o).password=a),type:"password","show-password-on":"mousedown",placeholder:"请输入账户密码",maxlength:12},null,8,["value"])])),_:1}),v(d,{path:"captchaText",class:"w-[80%]"},{default:f((()=>[v(i,{value:w(o).captchaText,"onUpdate:value":e[2]||(e[2]=a=>w(o).captchaText=a),placeholder:"请输入验证码"},null,8,["value"]),m("div",{onClick:$,"h-28":"","w-100":"","cursor-pointer":""},[v(c,{src:w(Z),"preview-disabled":!0,width:"100",height:"28"},null,8,["src"])])])),_:1}),O,v(s,{class:"w-[40%] font-bold",round:"",type:"primary",loading:w(z),onClick:W,onKeyup:b(W,["enter"])},{default:f((()=>[y("登录")])),_:1},8,["loading","onKeyup"])])),_:1},8,["model"])]),m("div",P,[v(u,{ref_key:"registFormRef",ref:la,size:"small","show-label":!1,model:w(aa),rules:ea,class:"flex-col-c bg-white h-full rounded-10"},{default:f((()=>[Q,v(d,{path:"name",class:"w-[80%]"},{default:f((()=>[v(i,{value:w(aa).name,"onUpdate:value":e[3]||(e[3]=a=>w(aa).name=a),placeholder:"请输入账户名称"},null,8,["value"])])),_:1}),v(d,{path:"pwd",class:"w-[80%]"},{default:f((()=>[v(i,{value:w(aa).pwd,"onUpdate:value":e[4]||(e[4]=a=>w(aa).pwd=a),type:"password","show-password-on":"click",placeholder:"请输入账户密码",maxlength:12},null,8,["value"])])),_:1}),v(d,{path:"email",class:"w-[80%]"},{default:f((()=>[v(i,{value:w(aa).email,"onUpdate:value":e[5]||(e[5]=a=>w(aa).email=a),placeholder:"请输入邮箱"},null,8,["value"])])),_:1}),v(d,{path:"phone",class:"w-[80%]"},{default:f((()=>[v(i,{value:w(aa).phone,"onUpdate:value":e[6]||(e[6]=a=>w(aa).phone=a),placeholder:"请输入手机号"},null,8,["value"])])),_:1}),v(s,{class:"w-[40%] font-bold",round:"",type:"primary",loading:w(sa),onKeyup:b(ra,["enter"]),onClick:ra},{default:f((()=>[y("注册")])),_:1},8,["loading","onKeyup"])])),_:1},8,["model"])]),m("div",V,[m("div",X,[m("div",Y,[m("h1",null,[y("欢迎回来！"),v(c,{width:"48",height:"48","preview-disabled":"",src:"/logo.webp",class:"b-rd-[50%]"})]),D,v(s,{ghost:"",round:"",color:"#fff",onClick:e[7]||(e[7]=a=>n.value="signUp")},{default:f((()=>[y("去登录")])),_:1})]),m("div",H,[m("h1",null,[y("你好，朋友！"),v(c,{width:"48",height:"48","preview-disabled":"",src:"/logo.webp",class:"b-rd-[50%]"})]),J,v(s,{ghost:"",round:"",color:"#fff",onClick:e[8]||(e[8]=a=>n.value="signIn")},{default:f((()=>[y("去注册")])),_:1})])])])],2)])}}}),[["__scopeId","data-v-2de5ec13"]]);export{W as default};
