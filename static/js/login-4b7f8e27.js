import{l as a,u as e,g as l,_ as s,a as r}from"./index-69a904c4.js";import{aS as n,h as t,M as o,aT as i,aU as d,aG as c,O as u,o as p,q as h,t as g,k as m,w as v,l as f,aV as w,C as b,X as y,F as _,Y as U,S as k,aW as x,aX as C,a7 as q,aB as T,aC as F}from"./.pnpm-13a7460c.js";import{c as z,a as E,b as K}from"./calibrationRules-6d34d65c.js";const S=n.enc.Utf8.parse("18873AC2978EC7FA"),j=n.enc.Utf8.parse("4FE46BE1C4485C95");function A(a){if("string"!=typeof a||!a)return a;try{const e=n.enc.Utf8.parse(a);return n.AES.encrypt(e,S,{iv:j,mode:n.mode.CBC,padding:n.pad.Pkcs7}).ciphertext.toString()}catch(e){return a}}const B=a=>(T("data-v-9f67518f"),a=a(),F(),a),I={"wh-full":"","f-c-c":"",class:"bg-content"},L={class:"form-container sign-in-container"},M=B((()=>g("h1",{"m-0":""},"登录",-1))),R=B((()=>g("span",{"mb-10":"","font-size-12":""},"或者使用你的账号",-1))),H=["innerHTML"],X=B((()=>g("div",{flex:"","mb-10":"","min-w-308":""},[g("span",{"font-size-12":""},"忘记密码？")],-1))),G={class:"form-container sign-up-container"},O=B((()=>g("h1",{"m-0":""},"注册",-1))),P={class:"overlay-container"},V={class:"overlay"},W={class:"overlay-panel overlay-left"},Y=B((()=>g("p",null,"要与我们保持联系，请使用您的个人信息登录",-1))),D={class:"overlay-panel overlay-right"},J=B((()=>g("p",null,"非常感谢您选择我们！我们将竭诚为您提供最优质、最全面的服务。",-1))),N=t({name:"Login"}),Q=r(t({...N,setup(r){const n=o("signUp"),t=i({name:"admin",password:"widgets@123",captchaText:"eybk",captchaUid:""}),T=o(null),F=o(!1),S=d(),j={name:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],captchaText:[{required:!0,message:"请输入验证码",trigger:"blur"}]},B=c(),N=u(),Q=()=>{var l;null==(l=T.value)||l.validate((l=>{if(!l){F.value=!0;const l={...t,password:A(t.password)};a(l).then((async a=>{F.value=!1,S.success("登录成功,欢迎回来");e().setToken(a.data);const{redirect:l}=B.query;N.push(l||"/")})).catch((()=>{F.value=!1,$()}))}}))},Z=o(""),$=()=>{l().then((a=>{Z.value=a.data.captcha,t.captchaUid=a.data.uid}))};$();const aa=i({name:"",pwd:"",email:"",phone:""}),ea={name:[{required:!0,message:"请输入用户名",trigger:"blur"}],pwd:[{required:!0,message:"请输入密码",trigger:"blur"},{validator:z,message:"密码格式不正确",trigger:"input"}],email:[{required:!0,message:"请输入邮箱",trigger:"blur"},{validator:E,message:"请输入正确的邮箱",trigger:"input"}],phone:[{required:!0,message:"请输入手机号",trigger:"blur"},{validator:K,message:"请输入正确的手机号",trigger:"input"}]},la=o(null),sa=o(!1),ra=()=>{var a;null==(a=la.value)||a.validate((a=>{}))};return(a,e)=>{const l=s,r=_,o=U,i=k,d=x,c=C,u=q;return p(),h("div",I,[g("div",{class:y(["bg-white rd-12 relative w768 max-w-full min-h-480 card-shadow dark:bg-dark",{"right-panel-active":"signIn"===f(n)}])},[g("div",L,[m(c,{ref_key:"loginFormRef",ref:T,size:"small","show-label":!1,model:f(t),rules:j,class:"flex-col-c bg-white h-full rounded-10"},{default:v((()=>[M,m(o,{"my-20":""},{default:v((()=>[m(r,{circle:""},{icon:v((()=>[m(l,{icon:"bi:tencent-qq"})])),_:1}),m(r,{circle:""},{icon:v((()=>[m(l,{icon:"tabler:brand-wechat"})])),_:1}),m(r,{circle:""},{icon:v((()=>[m(l,{icon:"mdi:github"})])),_:1})])),_:1}),R,m(d,{path:"name",class:"w-[80%]"},{default:v((()=>[m(i,{value:f(t).name,"onUpdate:value":e[0]||(e[0]=a=>f(t).name=a),placeholder:"请输入账户名称"},null,8,["value"])])),_:1}),m(d,{path:"password",class:"w-[80%]"},{default:v((()=>[m(i,{value:f(t).password,"onUpdate:value":e[1]||(e[1]=a=>f(t).password=a),type:"password","show-password-on":"mousedown",placeholder:"请输入账户密码",maxlength:12},null,8,["value"])])),_:1}),m(d,{path:"captchaText",class:"w-[80%]"},{default:v((()=>[m(i,{value:f(t).captchaText,"onUpdate:value":e[2]||(e[2]=a=>f(t).captchaText=a),placeholder:"请输入验证码"},null,8,["value"]),g("div",{onClick:$,innerHTML:f(Z),"h-28":"","w-100":"","cursor-pointer":""},null,8,H)])),_:1}),X,m(r,{class:"w-[40%] font-bold",round:"",type:"primary",loading:f(F),onClick:Q,onKeyup:w(Q,["enter"])},{default:v((()=>[b("登录")])),_:1},8,["loading","onKeyup"])])),_:1},8,["model"])]),g("div",G,[m(c,{ref_key:"registFormRef",ref:la,size:"small","show-label":!1,model:f(aa),rules:ea,class:"flex-col-c bg-white h-full rounded-10"},{default:v((()=>[O,m(d,{path:"name",class:"w-[80%]"},{default:v((()=>[m(i,{value:f(aa).name,"onUpdate:value":e[3]||(e[3]=a=>f(aa).name=a),placeholder:"请输入账户名称"},null,8,["value"])])),_:1}),m(d,{path:"pwd",class:"w-[80%]"},{default:v((()=>[m(i,{value:f(aa).pwd,"onUpdate:value":e[4]||(e[4]=a=>f(aa).pwd=a),type:"password","show-password-on":"click",placeholder:"请输入账户密码",maxlength:12},null,8,["value"])])),_:1}),m(d,{path:"email",class:"w-[80%]"},{default:v((()=>[m(i,{value:f(aa).email,"onUpdate:value":e[5]||(e[5]=a=>f(aa).email=a),placeholder:"请输入邮箱"},null,8,["value"])])),_:1}),m(d,{path:"phone",class:"w-[80%]"},{default:v((()=>[m(i,{value:f(aa).phone,"onUpdate:value":e[6]||(e[6]=a=>f(aa).phone=a),placeholder:"请输入手机号"},null,8,["value"])])),_:1}),m(r,{class:"w-[40%] font-bold",round:"",type:"primary",loading:f(sa),onKeyup:w(ra,["enter"]),onClick:ra},{default:v((()=>[b("注册")])),_:1},8,["loading","onKeyup"])])),_:1},8,["model"])]),g("div",P,[g("div",V,[g("div",W,[g("h1",null,[b("欢迎回来！"),m(u,{width:"48",height:"48","preview-disabled":"",src:"/logo.webp",class:"b-rd-[50%]"})]),Y,m(r,{ghost:"",round:"",color:"#fff",onClick:e[7]||(e[7]=a=>n.value="signUp")},{default:v((()=>[b("去登录")])),_:1})]),g("div",D,[g("h1",null,[b("你好，朋友！"),m(u,{width:"48",height:"48","preview-disabled":"",src:"/logo.webp",class:"b-rd-[50%]"})]),J,m(r,{ghost:"",round:"",color:"#fff",onClick:e[8]||(e[8]=a=>n.value="signIn")},{default:v((()=>[b("去注册")])),_:1})])])])],2)])}}}),[["__scopeId","data-v-9f67518f"]]);export{Q as default};
