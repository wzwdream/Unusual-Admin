import{u as J,_ as O,a as W}from"./index-DQ-dz4T7.js";import{_ as X,a as Y}from"./queryItem.vue_vue_type_style_index_0_scope_true_lang-BgsGTElP.js";import{a as Z,d as ee,e as oe}from"./dict-LdVKcx8G.js";import te from"./details-8zAv1sYm.js";import{d as b,a as v,h as ne,j as ie,ae,m as le,bK as a,y as t,u as e,f as y}from"./@vue-BxoxtTAP.js";import{G as re,T as de,n as me,M as se,L as pe,H as ue}from"./naive-ui-BLfgJAqn.js";import"./index-DRVtrlAz.js";import"./@vueuse-DrRc1vxu.js";import"./pinia-CmUssEbr.js";import"./vue-i18n-D8g7FhYN.js";import"./@intlify-ZcBRI--x.js";import"./vue-echarts-CTGpP_pZ.js";import"./resize-detector-G6vbKCU7.js";import"./echarts-CuRpVpP4.js";import"./zrender-DGX4euIw.js";import"./tslib-BDyQ-Jie.js";import"./vue-router-dgZRC-ml.js";import"./@iconify-CL9SbJpr.js";import"./axios-B9ygI19o.js";import"./@codemirror-Dl84AIwu.js";import"./@lezer-BKSZuLkY.js";import"./crelt-C8TCjufn.js";import"./@marijn-DXwl3gUT.js";import"./style-mod-Bc2inJdb.js";import"./w3c-keyname-Vcq4gwWv.js";import"./lodash-es-DkZVwyoF.js";import"./pinia-plugin-persistedstate-RV7uh3T-.js";import"./vite-plugin-mock-DJeSL9NM.js";import"./mockjs-CZ65nlWZ.js";import"./copy-to-clipboard-CoXQxBGa.js";import"./toggle-selection-BHUZwh74.js";import"./path-to-regexp-CkFk_Ecl.js";import"./date-fns-CMuzgvE5.js";import"./vueuc-CJldP7Lx.js";import"./evtd-CI_DDEu_.js";import"./seemly-DXTCRGqE.js";import"./@css-render-EhH995Cp.js";import"./vooks-Cw9CgJAa.js";import"./vdirs-DRH9Xvnd.js";import"./@juggle-C8OzoCMD.js";import"./css-render-BDrvWz3H.js";import"./@emotion-WldOFDRm.js";import"./treemate-DKekKYbv.js";import"./async-validator-9PlIezaS.js";const ce=b({name:"Dict"}),ao=b({...ce,setup(_e){const p={add:["admin","dict:add"],del:["admin","dict:del"],edit:["admin","dict:edit"],download:["admin","dict:download"]},d=v([{type:"selection"},{title:"ID",key:"id"},{title:"字典名称",key:"name"},{title:"字典描述",key:"description"},{title:"操作",key:"actions",align:"center",fixed:"right",render(i){return[ne(O,{permission:p,onHandleDelete:()=>u(i.id),onHandleEdit:()=>c(i),onHandleView:()=>F(i)})]}}]),l=v(),h=i=>({style:"cursor: pointer;",onClick:()=>{l.value=i}}),k=ie(()=>i=>{var o;return i.id===((o=l.value)==null?void 0:o.id)?"selected-row":""}),D={name:[{required:!0,message:"请输入字典名称",trigger:"blur"}]},{modalVisible:m,modalAction:R,modalShowFooter:x,modalTitle:U,modalLoading:B,handleAdd:C,handleDelete:u,handleEdit:c,handleDownload:S,handleView:F,handleSave:K,handlereset:A,defualtQuery:_,modalForm:r,modalFormRef:E,changeCheckRow:H,listQuery:L,listData:V,pagination:$,loading:q,rowKey:Q,btnDisabled:M,checkedRowKeys:N}=J({name:"字典",url:"/dict",key:"id",initForm:{name:"",description:"",id:void 0},initQuery:{name:""},doCreate:Z,doDelete:ee,doUpdate:oe,afterRefresh:i=>(l.value=void 0,i)});return(i,o)=>{const s=me,T=Y,j=de,z=X,f=pe,G=se,I=W,g=re,P=ue;return le(),ae(P,{cols:"4","item-responsive":"","y-gap":8,"x-gap":10,responsive:"screen"},{default:a(()=>[t(g,{span:"4 m:2 l:2 xl:2"},{default:a(()=>[t(z,{columns:e(d),"onUpdate:columns":o[1]||(o[1]=n=>y(d)?d.value=n:null),btnDisabled:e(M),permission:p,onSearch:e(L),onReset:e(A),onAdd:e(C),onDelete:e(u),onEdit:e(c),onDownload:e(S)},{queryBar:a(()=>[t(T,{label:"名称"},{default:a(()=>[t(s,{value:e(_).name,"onUpdate:value":o[0]||(o[0]=n=>e(_).name=n),size:"small",placeholder:"输入字典名称或者描述"},null,8,["value"])]),_:1})]),default:a(()=>[t(j,{columns:e(d),data:e(V),pagination:e($),loading:e(q),"row-key":e(Q),"row-props":h,"row-class-name":e(k),striped:"",remote:!0,"checked-row-keys":e(N),"onUpdate:checkedRowKeys":e(H)},null,8,["columns","data","pagination","loading","row-key","row-class-name","checked-row-keys","onUpdate:checkedRowKeys"])]),_:1},8,["columns","btnDisabled","onSearch","onReset","onAdd","onDelete","onEdit","onDownload"]),t(I,{visible:e(m),"onUpdate:visible":o[4]||(o[4]=n=>y(m)?m.value=n:null),title:e(U),loading:e(B),"show-footer":e(x),width:"450px",onSave:e(K)},{default:a(()=>[t(G,{ref_key:"modalFormRef",ref:E,"label-placement":"left","label-align":"right","label-width":80,model:e(r),rules:D,disabled:e(R)==="view"},{default:a(()=>[t(f,{label:"字典名称",path:"name"},{default:a(()=>[t(s,{value:e(r).name,"onUpdate:value":o[2]||(o[2]=n=>e(r).name=n)},null,8,["value"])]),_:1}),t(f,{label:"描述",path:"description"},{default:a(()=>[t(s,{value:e(r).description,"onUpdate:value":o[3]||(o[3]=n=>e(r).description=n)},null,8,["value"])]),_:1})]),_:1},8,["model","disabled"])]),_:1},8,["visible","title","loading","show-footer","onSave"])]),_:1}),t(g,{span:"4 m:2 l:2 xl:2"},{default:a(()=>{var n,w;return[t(te,{pid:(n=e(l))==null?void 0:n.id,name:(w=e(l))==null?void 0:w.name},null,8,["pid","name"])]}),_:1})]),_:1})}}});export{ao as default};
