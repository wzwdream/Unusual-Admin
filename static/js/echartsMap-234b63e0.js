import{h as a,ao as e,ap as o,ar as t,as as s,at as r,aw as l,a_ as n,a$ as i,b0 as c,b1 as d,M as p,i as m,o as u,q as f,k as b,l as h,ay as g,a5 as v,a6 as y,w,C,af as S,b2 as _,F as x,aE as $}from"./.pnpm-49006307.js";import{c as B}from"./index-4a70f3a6.js";const E=a({name:"EchartsMap"}),M=a({...E,setup(a){e([o,t,s,r,l,n,i,c]);const E=d(),M=p(),j=p([]),k=m((()=>0!==j.value.length)),I=async a=>{const e=await(async a=>{const e=`../../assets/mapJson/${a}.json`;return await $((()=>import(e)),[])})(a);_(a,e);const o=e.features.map((a=>({name:a.properties.name,value:a.properties.center,adcode:a.properties.adcode,level:a.properties.level,data:(100*Math.random()).toFixed(2)})));M.value=((a,e)=>({tooltip:{show:!0,formatter:function(a){if(a&&a.data){const{adcode:e,name:o,data:t}=a.data;return`adcode: ${e}<br>name: ${o}<br>data: ${t}`}}},geo:{map:a,roam:!0,select:!1,selectedMode:"single",label:{show:!0},itemStyle:{borderColor:"rgba(147, 235, 248, 1)",borderWidth:1,areaColor:{type:"radial",x:.5,y:.5,r:.8,colorStops:[{offset:0,color:"rgba(147, 235, 248, 0)"},{offset:1,color:"rgba(147, 235, 248, .2)"}],globalCoord:!1}},emphasis:{itemStyle:{areaColor:"#389BB7",borderColor:"#389BB7",borderWidth:0},label:{fontSize:14}}},series:[{type:"map",map:a,roam:!0,geoIndex:0,select:!1,data:e},{type:"effectScatter",coordinateSystem:"geo",geoIndex:0,itemStyle:{color:"#b02a02"},data:e}]}))(a,o)};I("china");const z=a=>{if("map"!==a.seriesType)return;const{adcode:e}=a.data;if(j.value[j.value.length-1]===e)return E.warning({content:"已经是最下层了",duration:1e3});j.value.push(e),I(e)},F=()=>{const a=j.value[j.value.length-2]||"china";j.value.pop(),I(a)};return(a,e)=>{const o=x;return u(),f("div",{style:S(`height: ${h(B)("main")};`),class:"wh-full pos-relative"},[b(h(g),{option:h(M),autoresize:!0,onClick:z},null,8,["option"]),v(b(o,{class:"pos-absolute top-10 left-10",onClick:F},{default:w((()=>[C("返回")])),_:1},512),[[y,h(k)]])],4)}}});export{M as default};
