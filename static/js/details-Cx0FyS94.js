import{_ as K,u as W,a as G}from"./index---NEwm2Z.js";import{e as J,a as O,_ as X}from"./index-CLgIaFez.js";import{b as Y,c as Z,f as ee}from"./dict-DTtxndqd.js";import{B as te,U as oe,V as ie,T as ae,j as ne,L as le,W as de,M as re,m as se}from"./naive-ui-ItunR-2b.js";import{d as g,a as me,h as v,o as pe,k as ue,l as p,ad as u,ak as _e,u as e,by as t,q as o,B as b,f as ce}from"./@vue-CRj7PaMA.js";import"./vue-i18n-BZ7cv-U7.js";import"./@intlify-Y34EtYYP.js";import"./lodash-es-q_UuXcXk.js";import"./@vueuse-Bot-wEr0.js";import"./pinia-B-btkknc.js";import"./vue-demi-Dq6ymT-8.js";import"./vue-echarts-C0IzmTCj.js";import"./resize-detector-G6vbKCU7.js";import"./echarts-BhkYWNed.js";import"./zrender-DGIA2jg-.js";import"./tslib-BDyQ-Jie.js";import"./vue-router-DYGa2EEA.js";import"./@iconify-D4xAYz74.js";import"./axios-B4uVmeYG.js";import"./@codemirror-DRVzKoOo.js";import"./@lezer-COsil1JX.js";import"./crelt-C8TCjufn.js";import"./style-mod-Bc2inJdb.js";import"./w3c-keyname-Vcq4gwWv.js";import"./pinia-plugin-persistedstate-RV7uh3T-.js";import"./vite-plugin-mock-CVu1TUMM.js";import"./mockjs-SqilSaKE.js";import"./@babel-dN-1QE0A.js";import"./path-to-regexp-D27XTR3m.js";import"./date-fns-BAYWyKT4.js";import"./vueuc-DHpchg3q.js";import"./evtd-CI_DDEu_.js";import"./seemly-pQYQdLy2.js";import"./@css-render-CcHFHqZ8.js";import"./vooks-Vv8Q4iio.js";import"./vdirs-Bxp-63WN.js";import"./@juggle-C8OzoCMD.js";import"./css-render-BDrvWz3H.js";import"./@emotion-WldOFDRm.js";import"./treemate-DKekKYbv.js";import"./async-validator-DKvM95Vc.js";const fe=g({name:"Details"}),ve=g({...fe,props:{pid:{},name:{}},setup(y){const{hasPermission:k}=J(),_={add:["admin","dictDetails:add"],del:["admin","dictDetails:del"],edit:["admin","dictDetails:edit"],download:["admin","dictDetails:download"]},d=y,D=me([{title:"ID",key:"id"},{title:"所属字典",key:"name",render(){return v("span",{},d.name)}},{title:"字典标签",key:"label"},{title:"字典值",key:"value"},{title:"排序",key:"dictSort"},{title:"操作",key:"actions",align:"center",fixed:"right",render(n){return[v(K,{permission:_,onHandleDelete:()=>U(n.id),onHandleEdit:()=>V(n),onHandleView:()=>F(n)})]}}]),h={value:[{required:!0,message:"请输入字典值",trigger:"blur"}],label:[{required:!0,message:"请输入字典标签",trigger:"blur"}]},{modalVisible:r,modalAction:w,modalShowFooter:S,modalTitle:x,modalLoading:B,handleAdd:C,handleDelete:U,handleEdit:V,handleView:F,handleSave:H,defualtQuery:I,modalForm:a,modalFormRef:Q,listQuery:R,listData:c,pagination:s,loading:q,rowKey:E}=W({name:"字典详情",url:"/dictDetails",key:"id",isInitQuery:!1,initForm:{id:void 0,pid:void 0,label:"",value:"",dictSort:1},initQuery:{pid:void 0},doCreate:Y,doDelete:Z,doUpdate:ee,beforeSave:n=>(n.pid=d.pid,n)});return pe(()=>{ue(()=>{d.pid?(I.pid=d.pid,R()):(c.value=[],s.itemCount=0,s.page=1)})}),(n,i)=>{const L=O,M=te,N=oe,T=ie,$=ae,f=ne,m=le,z=de,A=re,P=G,j=se;return p(),u(j,{title:"字典详情",size:"small",segmented:!0},_e({default:t(()=>[d.pid===void 0?(p(),u(T,{key:0,prefix:"bar"},{default:t(()=>[o(N,{type:"primary"},{default:t(()=>[b(" 点击字典查看详情")]),_:1})]),_:1})):(p(),u($,{key:1,columns:e(D),data:e(c),pagination:e(s),loading:e(q),"row-key":e(E),striped:"",remote:!0},null,8,["columns","data","pagination","loading","row-key"])),o(P,{visible:e(r),"onUpdate:visible":i[3]||(i[3]=l=>ce(r)?r.value=l:null),title:e(x),loading:e(B),"show-footer":e(S),width:"450px",onSave:e(H)},{default:t(()=>[o(A,{ref_key:"modalFormRef",ref:Q,"label-placement":"left","label-align":"right","label-width":80,model:e(a),rules:h,disabled:e(w)==="view"},{default:t(()=>[o(m,{label:"字典标签",path:"label"},{default:t(()=>[o(f,{value:e(a).label,"onUpdate:value":i[0]||(i[0]=l=>e(a).label=l)},null,8,["value"])]),_:1}),o(m,{label:"字典值",path:"value"},{default:t(()=>[o(f,{value:e(a).value,"onUpdate:value":i[1]||(i[1]=l=>e(a).value=l)},null,8,["value"])]),_:1}),o(m,{label:"字典排序",path:"dictSort"},{default:t(()=>[o(z,{value:e(a).dictSort,"onUpdate:value":i[2]||(i[2]=l=>e(a).dictSort=l)},null,8,["value"])]),_:1})]),_:1},8,["model","disabled"])]),_:1},8,["visible","title","loading","show-footer","onSave"])]),_:2},[e(k)(_.add)?{name:"header-extra",fn:t(()=>[o(M,{type:"primary",disabled:d.pid===void 0,size:"small",onClick:e(C)},{icon:t(()=>[o(L,{icon:"material-symbols:add-rounded"})]),default:t(()=>[b(" 新增 ")]),_:1},8,["disabled","onClick"])]),key:"0"}:void 0]),1024)}}}),at=X(ve,[["__scopeId","data-v-61e5d6ab"]]);export{at as default};
