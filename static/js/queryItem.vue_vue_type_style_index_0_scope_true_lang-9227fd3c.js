import{_ as e,n as t,o as l}from"./index-a1b3d2b0.js";import{h as a,M as n,o as d,j as s,w as o,k as i,l as r,Q as u,C as c,E as m,q as p,J as f,H as y,K as b,F as g,bj as h,Y as k,bk as _,bl as v,B as w,s as C,bm as $,a5 as x,bn as S,a6 as j,t as z,bo as q,W as B,af as W}from"./.pnpm-50f13181.js";const D=a({name:"ColumSetting"}),F=a({...D,props:{columns:{}},emits:["updateColumns"],setup(t,{emit:l}){const a=t,C=l,$=n(!0),x=n(!1),S=n([]),j=[...a.columns.map((e=>(S.value.push(e.key),{...e})))],z=e=>{x.value=!1,e?(j.map((e=>{S.value.push(e.key)})),C("updateColumns",j)):(S.value=[],C("updateColumns",[]))},q=e=>{var t;S.value=e,x.value=(null==(t=S.value)?void 0:t.length)!==j.length;const l=j.filter((e=>S.value.includes(e.key)));C("updateColumns",l)};return(t,l)=>{const a=e,n=g,C=h,B=k,W=_,D=v,F=w;return d(),s(F,{trigger:"hover"},{trigger:o((()=>[i(D,{trigger:"click",placement:"bottom"},{trigger:o((()=>[i(n,{ghost:""},{icon:o((()=>[i(a,{icon:"basil:settings-alt-outline"})])),_:1})])),header:o((()=>[i(B,{justify:"space-between"},{default:o((()=>[i(C,{checked:r($),"onUpdate:checked":[l[0]||(l[0]=e=>u($)?$.value=e:null),z],indeterminate:r(x)},{default:o((()=>[c(m(t.$t("colSetting")),1)])),_:1},8,["checked","indeterminate"])])),_:1})])),default:o((()=>[i(W,{value:r(S),"onUpdate:value":l[1]||(l[1]=e=>u(S)?S.value=e:null),"on-update:value":q},{default:o((()=>[i(B,{vertical:""},{default:o((()=>[(d(),p(f,null,y(j,(e=>(d(),p(f,null,["selection"!==e.type?(d(),s(C,{key:e.key,value:e.key,label:e.title},null,8,["value","label"])):b("",!0)],64)))),64))])),_:1})])),_:1},8,["value"])])),_:1})])),default:o((()=>[c(" "+m(t.$t("colShowcase")),1)])),_:1})}}}),U={flex:"","flex-items-center":""},L=a({name:"BasicLayout"}),Q=a({...L,props:{columns:{},optShow:{default:()=>({add:!0,edit:!0,del:!0,download:!0})},toolbar:{type:Boolean,default:!0},querybar:{type:Boolean,default:!0},btnDisabled:{default:()=>({edit:!1,del:!1,download:!1})},permission:{default:()=>({add:[],edit:[],del:[],download:[]})}},emits:["add","delete","edit","download","reset","search","update:columns"],setup(a,{emit:u}){const p=a,f=n(!0),y=t(),{fullContent:h}=C(y),_=()=>{y.setFullContent(!h)},v=u;return(t,a)=>{const n=g,u=k,y=e,C=w,W=F,D=q,L=B,Q=$("permission");return d(),s(L,{segmented:{content:!0},"content-style":"padding: 10px;","header-style":"padding: 10px;"},{header:o((()=>[x(i(u,{"mb-10":"",align:"center"},{default:o((()=>[S(t.$slots,"queryBar"),p.querybar?(d(),s(u,{key:0,"translate-y-3":""},{default:o((()=>[i(n,{type:"primary",size:"small",secondary:"","render-icon":r(l)("mdi:magnify",14),onClick:a[0]||(a[0]=e=>v("search"))},{default:o((()=>[c(m(t.$t("search")),1)])),_:1},8,["render-icon"]),i(n,{type:"warning",size:"small",secondary:"","render-icon":r(l)("mdi:restore",14),onClick:a[1]||(a[1]=e=>v("reset"))},{default:o((()=>[c(m(t.$t("reset")),1)])),_:1},8,["render-icon"])])),_:1})):b("",!0)])),_:3},512),[[j,r(f)]]),i(u,{justify:"space-between",align:"center"},{default:o((()=>[S(t.$slots,"toolbarLeft"),z("div",U,[p.optShow.add?x((d(),s(n,{key:0,"mr-10":"",type:"primary",size:"tiny","render-icon":r(l)("material-symbols:add-rounded",14),onClick:a[2]||(a[2]=e=>v("add"))},{default:o((()=>[c(m(t.$t("add")),1)])),_:1},8,["render-icon"])),[[Q,t.permission.add]]):b("",!0),p.optShow.edit?x((d(),s(n,{key:1,"mr-10":"",disabled:p.btnDisabled.edit,type:"warning",size:"tiny","render-icon":r(l)("material-symbols:edit-outline",14),onClick:a[3]||(a[3]=e=>v("edit"))},{default:o((()=>[c(m(t.$t("edit")),1)])),_:1},8,["disabled","render-icon"])),[[Q,t.permission.edit]]):b("",!0),p.optShow.del?x((d(),s(n,{key:2,"mr-10":"",disabled:p.btnDisabled.del,type:"error",size:"tiny","render-icon":r(l)("material-symbols:delete-outline",14),onClick:a[4]||(a[4]=e=>v("delete"))},{default:o((()=>[c(m(t.$t("delete")),1)])),_:1},8,["disabled","render-icon"])),[[Q,t.permission.del]]):b("",!0),p.optShow.download?x((d(),s(n,{key:3,disabled:p.btnDisabled.download,type:"info",size:"tiny","render-icon":r(l)("material-symbols:download-rounded",14),onClick:a[5]||(a[5]=e=>v("download"))},{default:o((()=>[c(m(t.$t("export")),1)])),_:1},8,["disabled","render-icon"])),[[Q,t.permission.download]]):b("",!0)]),p.toolbar?(d(),s(u,{key:0},{default:o((()=>[i(D,{size:"tiny"},{default:o((()=>[i(C,{trigger:"hover"},{trigger:o((()=>[i(n,{ghost:"",onClick:a[6]||(a[6]=e=>f.value=!r(f))},{default:o((()=>[r(f)?(d(),s(y,{key:0,icon:"ic:outline-search-off"})):(d(),s(y,{key:1,icon:"mdi:magnify"}))])),_:1})])),default:o((()=>[c(" "+m(r(f)?t.$t("retractSearch"):t.$t("expandSearch")),1)])),_:1}),i(C,{trigger:"hover"},{trigger:o((()=>[i(n,{ghost:"",onClick:_},{default:o((()=>[r(h)?(d(),s(y,{key:1,icon:"ant-design:fullscreen-exit-outlined"})):(d(),s(y,{key:0,icon:"ant-design:fullscreen-outlined"}))])),_:1})])),default:o((()=>[c(" "+m(r(h)?t.$t("exitFullscreen"):t.$t("fullscreen")),1)])),_:1}),i(C,{trigger:"hover"},{trigger:o((()=>[i(n,{ghost:"",onClick:a[7]||(a[7]=e=>v("search"))},{default:o((()=>[i(y,{icon:"ant-design:reload-outlined"})])),_:1})])),default:o((()=>[c(" "+m(t.$t("refresh")),1)])),_:1}),i(W,{columns:p.columns,onUpdateColumns:a[8]||(a[8]=e=>v("update:columns",e))},null,8,["columns"])])),_:1})])),_:1})):b("",!0),S(t.$slots,"toolbarRight")])),_:3})])),default:o((()=>[S(t.$slots,"default")])),_:3})}}}),E={key:0,class:"color-[#d03050] flex-shrink-0"},H=a({name:"QueryItem"}),I=a({...H,props:{label:{default:""},labelWidth:{default:"auto"},contentWidth:{default:180},required:{type:Boolean,default:!1}},setup(e){const t=e;return(e,l)=>{const a=k;return d(),s(a,{align:"center"},{default:o((()=>[t.label?(d(),p("label",{key:0,class:"flex-shrink-0 flex justify-end pr-10 text-font",style:W({width:t.labelWidth})},[t.required?(d(),p("span",E,"*Â ")):b("",!0),c(" "+m(e.label),1)],4)):b("",!0),z("div",{style:W({width:t.contentWidth+"px"}),"flex-shrink-0":""},[S(e.$slots,"default")],4)])),_:3})}}});export{I as _,Q as a};
