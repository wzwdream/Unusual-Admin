import{_ as e,u as a,a as l}from"./index-cf1fd3fe.js";import{_ as i,a as t}from"./index-df40bf96.js";import{b as d,c as o,f as s}from"./dict-58f3c91c.js";import{h as n,b7 as r,b8 as u,M as m,x as p,o as b,j as v,w as f,k as c,l as y,C as g,Q as h,F as k,b9 as _,ba as w,b6 as S,S as x,aW as D,bb as F,aX as j,W as C}from"./.pnpm-d4ef0e5d.js";const Q=n({name:"Details"}),U=t(n({...Q,props:{pid:{},name:{}},setup(t){const n=t;r((()=>{u((()=>{n.pid?(L.value.pid=n.pid,X()):(B.value=[],G.itemCount=0,G.page=1)}))}));const Q=m([{title:"ID",key:"id"},{title:"所属字典",key:"name",render:()=>p("span",{},n.name)},{title:"字典标签",key:"label"},{title:"字典值",key:"value"},{title:"排序",key:"dictSort"},{title:"操作",key:"actions",align:"center",fixed:"right",render:a=>[p(e,{onHandleDelete:()=>E([a.id]),onHandleEdit:()=>R(a),onHandleView:()=>W(a)})]}]),U={value:[{required:!0,message:"请输入字典值",trigger:"blur"}],label:[{required:!0,message:"请输入字典标签",trigger:"blur"}]},{modalVisible:H,modalAction:I,modalShowFooter:V,modalTitle:q,modalLoading:z,handleAdd:A,handleDelete:E,handleEdit:R,handleView:W,handleSave:K,defualtQuery:L,modalForm:M,modalFormRef:T,listQuery:X,listData:B,pagination:G,loading:J,rowKey:N}=a({name:"字典详情",url:"/dictDetails",key:"id",isInitQuery:!1,initForm:{id:void 0,pid:void 0,label:"",value:"",dictSort:1},initQuery:{pid:void 0},doCreate:d,doDelete:o,doUpdate:s,beforeSave:e=>(e.pid=n.pid,e)});return(e,a)=>{const t=i,d=k,o=_,s=w,r=S,u=x,m=D,p=F,E=j,R=l,W=C;return b(),v(W,{title:"字典详情",size:"small",segmented:!0},{"header-extra":f((()=>[c(d,{type:"primary",disabled:void 0===n.pid,size:"small",onClick:y(A)},{icon:f((()=>[c(t,{icon:"material-symbols:add-rounded"})])),default:f((()=>[g(" 新增 ")])),_:1},8,["disabled","onClick"])])),default:f((()=>[void 0===n.pid?(b(),v(s,{key:0,prefix:"bar"},{default:f((()=>[c(o,{type:"primary"},{default:f((()=>[g(" 点击字典查看详情")])),_:1})])),_:1})):(b(),v(r,{key:1,columns:y(Q),data:y(B),pagination:y(G),loading:y(J),"row-key":y(N),striped:"",remote:!0},null,8,["columns","data","pagination","loading","row-key"])),c(R,{visible:y(H),"onUpdate:visible":a[3]||(a[3]=e=>h(H)?H.value=e:null),title:y(q),loading:y(z),"show-footer":y(V),width:"450px",onSave:y(K)},{default:f((()=>[c(E,{ref_key:"modalFormRef",ref:T,"label-placement":"left","label-align":"right","label-width":80,model:y(M),rules:U,disabled:"view"===y(I)},{default:f((()=>[c(m,{label:"字典标签",path:"label"},{default:f((()=>[c(u,{value:y(M).label,"onUpdate:value":a[0]||(a[0]=e=>y(M).label=e)},null,8,["value"])])),_:1}),c(m,{label:"字典值",path:"value"},{default:f((()=>[c(u,{value:y(M).value,"onUpdate:value":a[1]||(a[1]=e=>y(M).value=e)},null,8,["value"])])),_:1}),c(m,{label:"字典排序",path:"dictSort"},{default:f((()=>[c(p,{value:y(M).dictSort,"onUpdate:value":a[2]||(a[2]=e=>y(M).dictSort=e)},null,8,["value"])])),_:1})])),_:1},8,["model","disabled"])])),_:1},8,["visible","title","loading","show-footer","onSave"])])),_:1})}}}),[["__scopeId","data-v-ad7f7ab2"]]);export{U as default};
