import{l as t}from"./cssfilter-uE9E6Id0.js";var r={exports:{}},e={},n={indexOf:function(t,r){var e,n;if(Array.prototype.indexOf)return t.indexOf(r);for(e=0,n=t.length;e<n;e++)if(t[e]===r)return e;return-1},forEach:function(t,r,e){var n,i;if(Array.prototype.forEach)return t.forEach(r,e);for(n=0,i=t.length;n<i;n++)r.call(e,t[n],n,t)},trim:function(t){return String.prototype.trim?t.trim():t.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(t){var r=/\s|\n|\t/.exec(t);return r?r.index:-1}},i=t.FilterCSS,o=t.getDefaultWhiteList,a=n;function s(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height","loading"],ins:["datetime"],kbd:[],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var l=new i;function c(t){return t.replace(u,"&lt;").replace(g,"&gt;")}var u=/</g,g=/>/g,f=/"/g,p=/&quot;/g,d=/&#([a-zA-Z0-9]*);?/gim,h=/&colon;?/gim,v=/&newline;?/gim,m=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,b=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,w=/u\s*r\s*l\s*\(.*/gi;function A(t){return t.replace(f,"&quot;")}function T(t){return t.replace(p,'"')}function y(t){return t.replace(d,(function(t,r){return"x"===r[0]||"X"===r[0]?String.fromCharCode(parseInt(r.substr(1),16)):String.fromCharCode(parseInt(r,10))}))}function x(t){return t.replace(h,":").replace(v," ")}function I(t){for(var r="",e=0,n=t.length;e<n;e++)r+=t.charCodeAt(e)<32?" ":t.charAt(e);return a.trim(r)}function S(t){return t=I(t=x(t=y(t=T(t))))}function C(t){return t=c(t=A(t))}e.whiteList={a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height","loading"],ins:["datetime"],kbd:[],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]},e.getDefaultWhiteList=s,e.onTag=function(t,r,e){},e.onIgnoreTag=function(t,r,e){},e.onTagAttr=function(t,r,e){},e.onIgnoreTagAttr=function(t,r,e){},e.safeAttrValue=function(t,r,e,n){if(e=S(e),"href"===r||"src"===r){if("#"===(e=a.trim(e)))return"#";if("http://"!==e.substr(0,7)&&"https://"!==e.substr(0,8)&&"mailto:"!==e.substr(0,7)&&"tel:"!==e.substr(0,4)&&"data:image/"!==e.substr(0,11)&&"ftp://"!==e.substr(0,6)&&"./"!==e.substr(0,2)&&"../"!==e.substr(0,3)&&"#"!==e[0]&&"/"!==e[0])return""}else if("background"===r){if(m.lastIndex=0,m.test(e))return""}else if("style"===r){if(b.lastIndex=0,b.test(e))return"";if(w.lastIndex=0,w.test(e)&&(m.lastIndex=0,m.test(e)))return"";!1!==n&&(e=(n=n||l).process(e))}return e=C(e)},e.escapeHtml=c,e.escapeQuote=A,e.unescapeQuote=T,e.escapeHtmlEntities=y,e.escapeDangerHtml5Entities=x,e.clearNonPrintableCharacter=I,e.friendlyAttrValue=S,e.escapeAttrValue=C,e.onIgnoreTagStripAll=function(){return""},e.StripTagBody=function(t,r){"function"!=typeof r&&(r=function(){});var e=!Array.isArray(t),n=[],i=!1;return{onIgnoreTag:function(o,s,l){if(function(r){return!!e||-1!==a.indexOf(t,r)}(o)){if(l.isClosing){var c="[/removed]",u=l.position+10;return n.push([!1!==i?i:l.position,u]),i=!1,c}return i||(i=l.position),"[removed]"}return r(o,s,l)},remove:function(t){var r="",e=0;return a.forEach(n,(function(n){r+=t.slice(e,n[0]),e=n[1]})),r+=t.slice(e)}}},e.stripCommentTag=function(t){for(var r="",e=0;e<t.length;){var n=t.indexOf("\x3c!--",e);if(-1===n){r+=t.slice(e);break}r+=t.slice(e,n);var i=t.indexOf("--\x3e",n);if(-1===i)break;e=i+3}return r},e.stripBlankChar=function(t){var r=t.split("");return(r=r.filter((function(t){var r=t.charCodeAt(0);return 127!==r&&(!(r<=31)||(10===r||13===r))}))).join("")},e.attributeWrapSign='"',e.cssFilter=l,e.getDefaultCSSWhiteList=o;var k={},L=n;function W(t){var r,e=L.spaceIndex(t);return r=-1===e?t.slice(1,-1):t.slice(1,e+1),"/"===(r=L.trim(r).toLowerCase()).slice(0,1)&&(r=r.slice(1)),"/"===r.slice(-1)&&(r=r.slice(0,-1)),r}function O(t){return"</"===t.slice(0,2)}var V=/[^a-zA-Z0-9\\_:.-]/gim;function B(t,r){for(;r<t.length;r++){var e=t[r];if(" "!==e)return"="===e?r:-1}}function F(t,r){for(;r<t.length;r++){var e=t[r];if(" "!==e)return"'"===e||'"'===e?r:-1}}function H(t,r){for(;r>0;r--){var e=t[r];if(" "!==e)return"="===e?r:-1}}function D(t){return function(t){return'"'===t[0]&&'"'===t[t.length-1]||"'"===t[0]&&"'"===t[t.length-1]}(t)?t.substr(1,t.length-2):t}k.parseTag=function(t,r,e){var n="",i=0,o=!1,a=!1,s=0,l=t.length,c="",u="";t:for(s=0;s<l;s++){var g=t.charAt(s);if(!1===o){if("<"===g){o=s;continue}}else if(!1===a){if("<"===g){n+=e(t.slice(i,s)),o=s,i=s;continue}if(">"===g||s===l-1){n+=e(t.slice(i,o)),c=W(u=t.slice(o,s+1)),n+=r(o,n.length,c,u,O(u)),i=s+1,o=!1;continue}if('"'===g||"'"===g)for(var f=1,p=t.charAt(s-f);""===p.trim()||"="===p;){if("="===p){a=g;continue t}p=t.charAt(s-++f)}}else if(g===a){a=!1;continue}}return i<l&&(n+=e(t.substr(i))),n},k.parseAttr=function(t,r){var e=0,n=0,i=[],o=!1,a=t.length;function s(t,e){if(!((t=(t=L.trim(t)).replace(V,"").toLowerCase()).length<1)){var n=r(t,e||"");n&&i.push(n)}}for(var l=0;l<a;l++){var c,u=t.charAt(l);if(!1!==o||"="!==u)if(!1===o||l!==n)if(/\s|\n|\t/.test(u)){if(t=t.replace(/\s|\n|\t/g," "),!1===o){if(-1===(c=B(t,l))){s(L.trim(t.slice(e,l))),o=!1,e=l+1;continue}l=c-1;continue}if(-1===(c=H(t,l-1))){s(o,D(L.trim(t.slice(e,l)))),o=!1,e=l+1;continue}}else;else{if(-1===(c=t.indexOf(u,l+1)))break;s(o,L.trim(t.slice(n+1,c))),o=!1,e=(l=c)+1}else o=t.slice(e,l),e=l+1,n='"'===t.charAt(e)||"'"===t.charAt(e)?e:F(t,l+1)}return e<t.length&&(!1===o?s(t.slice(e)):s(o,D(L.trim(t.slice(e))))),L.trim(i.join(" "))};var E=t.FilterCSS,j=e,X=k,q=X.parseTag,z=X.parseAttr,P=n;function Q(t){return null==t}function G(t){(t=function(t){var r={};for(var e in t)r[e]=t[e];return r}(t||{})).stripIgnoreTag&&(t.onIgnoreTag,t.onIgnoreTag=j.onIgnoreTagStripAll),t.whiteList||t.allowList?t.whiteList=function(t){var r={};for(var e in t)Array.isArray(t[e])?r[e.toLowerCase()]=t[e].map((function(t){return t.toLowerCase()})):r[e.toLowerCase()]=t[e];return r}(t.whiteList||t.allowList):t.whiteList=j.whiteList,this.attributeWrapSign=!0===t.singleQuotedAttributeValue?"'":j.attributeWrapSign,t.onTag=t.onTag||j.onTag,t.onTagAttr=t.onTagAttr||j.onTagAttr,t.onIgnoreTag=t.onIgnoreTag||j.onIgnoreTag,t.onIgnoreTagAttr=t.onIgnoreTagAttr||j.onIgnoreTagAttr,t.safeAttrValue=t.safeAttrValue||j.safeAttrValue,t.escapeHtml=t.escapeHtml||j.escapeHtml,this.options=t,!1===t.css?this.cssFilter=!1:(t.css=t.css||{},this.cssFilter=new E(t.css))}G.prototype.process=function(t){if(!(t=(t=t||"").toString()))return"";var r=this,e=r.options,n=e.whiteList,i=e.onTag,o=e.onIgnoreTag,a=e.onTagAttr,s=e.onIgnoreTagAttr,l=e.safeAttrValue,c=e.escapeHtml,u=r.attributeWrapSign,g=r.cssFilter;e.stripBlankChar&&(t=j.stripBlankChar(t)),e.allowCommentTag||(t=j.stripCommentTag(t));var f=!1;e.stripIgnoreTagBody&&(f=j.StripTagBody(e.stripIgnoreTagBody,o),o=f.onIgnoreTag);var p=q(t,(function(t,r,e,f,p){var d={sourcePosition:t,position:r,isClosing:p,isWhite:Object.prototype.hasOwnProperty.call(n,e)},h=i(e,f,d);if(!Q(h))return h;if(d.isWhite){if(d.isClosing)return"</"+e+">";var v=function(t){var r=P.spaceIndex(t);if(-1===r)return{html:"",closing:"/"===t[t.length-2]};var e="/"===(t=P.trim(t.slice(r+1,-1)))[t.length-1];return e&&(t=P.trim(t.slice(0,-1))),{html:t,closing:e}}(f),m=n[e],b=z(v.html,(function(t,r){var n=-1!==P.indexOf(m,t),i=a(e,t,r,n);return Q(i)?n?(r=l(e,t,r,g))?t+"="+u+r+u:t:Q(i=s(e,t,r,n))?void 0:i:i}));return f="<"+e,b&&(f+=" "+b),v.closing&&(f+=" /"),f+=">"}return Q(h=o(e,f,d))?c(f):h}),c);return f&&(p=f.remove(p)),p};var Z=G;!function(t,r){var n=e,i=k,o=Z;function a(t,r){return new o(r).process(t)}(r=t.exports=a).filterXSS=a,r.FilterXSS=o,function(){for(var t in n)r[t]=n[t];for(var e in i)r[e]=i[e]}(),"undefined"!=typeof window&&(window.filterXSS=t.exports),"undefined"!=typeof self&&"undefined"!=typeof DedicatedWorkerGlobalScope&&self instanceof DedicatedWorkerGlobalScope&&(self.filterXSS=t.exports)}(r,r.exports);var N=r.exports;export{N as l};
