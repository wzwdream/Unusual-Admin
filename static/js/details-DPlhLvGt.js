import{u as W,_ as j,a as G}from"./index-BANaz8LI.js";import{e as J,a as O,_ as X}from"./index-BukTgyxp.js";import{b as Y,c as Z,f as ee}from"./dict-0vpeiiAu.js";import{i as te,B as oe,U as ie,V as ae,T as ne,M as le,L as de,n as re,W as se}from"./naive-ui-B0x1dlqI.js";import{d as g,a as me,h as b,b as pe,k as ue,ae as p,m as u,al as _e,bI as o,u as e,y as i,E as v,f as ce}from"./@vue-hDPt79YI.js";import"./vue-i18n-Dk-SIn3V.js";import"./@intlify-ZcBRI--x.js";import"./lodash-es-DkZVwyoF.js";import"./@vueuse-BiuUNhkd.js";import"./pinia-BjKXS5ic.js";import"./vue-echarts-DSlFlwne.js";import"./resize-detector-G6vbKCU7.js";import"./echarts-CuRpVpP4.js";import"./zrender-DGX4euIw.js";import"./tslib-BDyQ-Jie.js";import"./vue-router-DqVd_W5F.js";import"./@iconify-BjyHS9ah.js";import"./axios-BQJyKPGC.js";import"./@codemirror-BcTyK8Ct.js";import"./@lezer-Bq4_8UpH.js";import"./crelt-C8TCjufn.js";import"./@marijn-DXwl3gUT.js";import"./style-mod-Bc2inJdb.js";import"./w3c-keyname-Vcq4gwWv.js";import"./pinia-plugin-persistedstate-RV7uh3T-.js";import"./vite-plugin-mock-m67_kHJ6.js";import"./mockjs-DcYjckXe.js";import"./copy-to-clipboard-CoXQxBGa.js";import"./toggle-selection-BHUZwh74.js";import"./path-to-regexp-CkFk_Ecl.js";import"./date-fns-pQOEqued.js";import"./vueuc-Cy6NzoKr.js";import"./evtd-CI_DDEu_.js";import"./seemly-DXTCRGqE.js";import"./@css-render-Ed7HajDt.js";import"./vooks-COlTATDB.js";import"./vdirs-DRH9Xvnd.js";import"./@juggle-C8OzoCMD.js";import"./css-render-BDrvWz3H.js";import"./@emotion-WldOFDRm.js";import"./treemate-DKekKYbv.js";import"./async-validator-9PlIezaS.js";const fe=g({name:"Details"}),be=g({...fe,props:{pid:{},name:{}},setup(y){const{hasPermission:k}=J(),_={add:["admin","dictDetails:add"],del:["admin","dictDetails:del"],edit:["admin","dictDetails:edit"],download:["admin","dictDetails:download"]},d=y,D=me([{title:"ID",key:"id"},{title:"所属字典",key:"name",render(){return b("span",{},d.name)}},{title:"字典标签",key:"label"},{title:"字典值",key:"value"},{title:"排序",key:"dictSort"},{title:"操作",key:"actions",align:"center",fixed:"right",render(n){return[b(j,{permission:_,onHandleDelete:()=>U(n.id),onHandleEdit:()=>V(n),onHandleView:()=>F(n)})]}}]),w={value:[{required:!0,message:"请输入字典值",trigger:"blur"}],label:[{required:!0,message:"请输入字典标签",trigger:"blur"}]},{modalVisible:r,modalAction:S,modalShowFooter:h,modalTitle:x,modalLoading:B,handleAdd:C,handleDelete:U,handleEdit:V,handleView:F,handleSave:I,defualtQuery:E,modalForm:a,modalFormRef:H,listQuery:Q,listData:c,pagination:s,loading:R,rowKey:L}=W({name:"字典详情",url:"/dictDetails",key:"id",isInitQuery:!1,initForm:{id:void 0,pid:void 0,label:"",value:"",dictSort:1},initQuery:{pid:void 0},doCreate:Y,doDelete:Z,doUpdate:ee,beforeSave:n=>(n.pid=d.pid,n)});return pe(()=>{ue(()=>{d.pid?(E.pid=d.pid,Q()):(c.value=[],s.itemCount=0,s.page=1)})}),(n,t)=>{const M=O,N=oe,T=ae,$=ie,q=ne,f=re,m=de,z=se,A=le,P=G,K=te;return u(),p(K,{title:"字典详情",size:"small",segmented:!0},_e({default:o(()=>[d.pid===void 0?(u(),p($,{key:0,prefix:"bar"},{default:o(()=>[i(T,{type:"primary"},{default:o(()=>[...t[5]||(t[5]=[v(" 点击字典查看详情",-1)])]),_:1})]),_:1})):(u(),p(q,{key:1,columns:e(D),data:e(c),pagination:e(s),loading:e(R),"row-key":e(L),striped:"",remote:!0},null,8,["columns","data","pagination","loading","row-key"])),i(P,{visible:e(r),"onUpdate:visible":t[3]||(t[3]=l=>ce(r)?r.value=l:null),title:e(x),loading:e(B),"show-footer":e(h),width:"450px",onSave:e(I)},{default:o(()=>[i(A,{ref_key:"modalFormRef",ref:H,"label-placement":"left","label-align":"right","label-width":80,model:e(a),rules:w,disabled:e(S)==="view"},{default:o(()=>[i(m,{label:"字典标签",path:"label"},{default:o(()=>[i(f,{value:e(a).label,"onUpdate:value":t[0]||(t[0]=l=>e(a).label=l)},null,8,["value"])]),_:1}),i(m,{label:"字典值",path:"value"},{default:o(()=>[i(f,{value:e(a).value,"onUpdate:value":t[1]||(t[1]=l=>e(a).value=l)},null,8,["value"])]),_:1}),i(m,{label:"字典排序",path:"dictSort"},{default:o(()=>[i(z,{value:e(a).dictSort,"onUpdate:value":t[2]||(t[2]=l=>e(a).dictSort=l)},null,8,["value"])]),_:1})]),_:1},8,["model","disabled"])]),_:1},8,["visible","title","loading","show-footer","onSave"])]),_:2},[e(k)(_.add)?{name:"header-extra",fn:o(()=>[i(N,{type:"primary",disabled:d.pid===void 0,size:"small",onClick:e(C)},{icon:o(()=>[i(M,{icon:"material-symbols:add-rounded"})]),default:o(()=>[t[4]||(t[4]=v(" 新增 ",-1))]),_:1},8,["disabled","onClick"])]),key:"0"}:void 0]),1024)}}}),nt=X(be,[["__scopeId","data-v-61e5d6ab"]]);export{nt as default};
