import{d as w,a as _,l as y,m as j,aa as c,q as e,bt as r,u as n,bv as q,bx as k,B as A}from"./@vue-b1321081.js";import{h as d}from"./index-54c8dad2.js";import{L as B,k as V,M as z,g as C,a7 as E,a8 as M,O as N}from"./naive-ui-e3a37dce.js";import"./@vueuse-d91fccee.js";import"./pinia-44adfabd.js";import"./vue-demi-71ba0ef2.js";import"./vue-i18n-d9dd9a4c.js";import"./@intlify-9ddbe450.js";import"./vue-echarts-f350ff7c.js";import"./resize-detector-a5205554.js";import"./echarts-8b4ffd07.js";import"./zrender-d04178fe.js";import"./tslib-54e39b60.js";import"./vue-router-655d402f.js";import"./@iconify-688b7688.js";import"./axios-47b9d439.js";import"./@codemirror-f87e1e31.js";import"./@lezer-42a0dbdf.js";import"./style-mod-fd510d21.js";import"./w3c-keyname-9fb136d3.js";import"./lodash-es-000674ce.js";import"./pinia-plugin-persistedstate-02097300.js";import"./date-fns-2c268c3c.js";import"./@babel-31db5498.js";import"./vueuc-e19c7b48.js";import"./evtd-b614532e.js";import"./seemly-4f9c12c5.js";import"./@css-render-490b4d85.js";import"./vooks-db1138e2.js";import"./vdirs-b0483831.js";import"./@juggle-41516555.js";import"./css-render-d3958e6a.js";import"./@emotion-8a8e73f6.js";import"./treemate-426a560e.js";import"./async-validator-dee29e8b.js";const U=()=>d.post("/user"),Z=m=>d.post("/mail",m),D={class:"w-100%"},K={class:"m-auto px-20px md:w-400px"},R={class:"flex justify-end"},ht=w({__name:"email",setup(m){const p=_(null),u=B(),o=_({email:"1758417159@qq.com",subject:"测试",text:"测试"}),f={email:[{required:!0,message:"请按规则填写",trigger:["input","blur"],validator(a,t){return/^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(.[a-zA-Z0-9_-]+)+$/.test(t)}}],subject:[{required:!0,trigger:["input","blur"],message:"请按规则填写"}],text:[{required:!0,message:"请按规则填写",trigger:["input","blur"]}]};U().then(a=>{console.table(a.data)});function g(){var a;(a=p.value)==null||a.validate(t=>{t?(console.error("Verification failure"),u.error("请按规则填写")):Z({...o.value}).then(i=>{i.code===200&&u.success("success")})})}return(a,t)=>{const i=V,l=z,b=C,v=E,x=M,h=N;return y(),j("div",D,[c("div",K,[e(h,{ref_key:"formRef",ref:p,model:n(o),rules:f},{default:r(()=>[e(l,{path:"email",label:"收件人"},{default:r(()=>[e(i,{value:n(o).email,"onUpdate:value":t[0]||(t[0]=s=>n(o).email=s),maxlength:"30",clearable:"","show-count":""},null,8,["value"])]),_:1}),e(l,{path:"subject",label:"主题"},{default:r(()=>[e(i,{value:n(o).subject,"onUpdate:value":t[1]||(t[1]=s=>n(o).subject=s),maxlength:"30",clearable:"","show-count":""},null,8,["value"])]),_:1}),e(l,{path:"text",label:"内容"},{default:r(()=>[e(i,{value:n(o).text,"onUpdate:value":t[2]||(t[2]=s=>n(o).text=s),type:"textarea",placeholder:"请输入",maxlength:"1000",clearable:"","show-count":""},null,8,["value"])]),_:1}),e(x,{gutter:[0,24]},{default:r(()=>[e(v,{span:24},{default:r(()=>[c("div",R,[e(b,{disabled:n(o).email===null,round:"",type:"primary",onKeydown:t[3]||(t[3]=q(k(()=>{},["prevent"]),["enter"])),onClick:t[4]||(t[4]=s=>g())},{default:r(()=>[A(" 发送 ")]),_:1},8,["disabled"])])]),_:1})]),_:1})]),_:1},8,["model"])])])}}});export{ht as default};
