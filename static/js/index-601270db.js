import{_ as e,u as a,a as l}from"./index-7e84b3aa.js";import{_ as d,a as o}from"./queryItem.vue_vue_type_style_index_0_scope_true_lang-08b989a5.js";import{a as n,d as i,e as t}from"./dict-3e304d61.js";import s from"./details-cc6f9543.js";import{h as r,M as m,x as u,i as c,o as p,j as v,w as h,k as w,l as f,Q as y,S as b,ba as g,aT as _,aU as k,aA as D,aB as x}from"./.pnpm-90504e03.js";import"./index-1bb12b99.js";const R=r({name:"Dict"}),U=r({...R,setup(r){const R={add:["admin","dict:add"],del:["admin","dict:del"],edit:["admin","dict:edit"],download:["admin","dict:download"]},U=m([{type:"selection"},{title:"ID",key:"id"},{title:"字典名称",key:"name"},{title:"字典描述",key:"description"},{title:"操作",key:"actions",align:"center",fixed:"right",render:a=>[u(e,{permission:R,onHandleDelete:()=>V(a.id),onHandleEdit:()=>B(a),onHandleView:()=>T(a)})]}]),j=m(),S=e=>({style:"cursor: pointer;",onClick:()=>{j.value=e}}),A=c((()=>e=>{var a;return e.id===(null==(a=j.value)?void 0:a.id)?"selected-row":""})),F={name:[{required:!0,message:"请输入字典名称",trigger:"blur"}]},{modalVisible:q,modalAction:E,modalShowFooter:K,modalTitle:Q,modalLoading:C,handleAdd:H,handleDelete:V,handleEdit:B,handleDownload:I,handleView:T,handleSave:z,handlereset:L,defualtQuery:M,modalForm:G,modalFormRef:J,changeCheckRow:N,listQuery:O,listData:P,pagination:W,loading:X,rowKey:Y,btnDisabled:Z,checkedRowKeys:$}=a({name:"字典",url:"/dict",key:"id",initForm:{name:"",description:"",id:void 0},initQuery:{name:""},doCreate:n,doDelete:i,doUpdate:t,afterRefresh:e=>(j.value=void 0,e)});return(e,a)=>{const n=b,i=d,t=g,r=o,m=_,u=k,c=l,T=D,ee=x;return p(),v(ee,{cols:"4","item-responsive":"","y-gap":8,"x-gap":10,responsive:"screen"},{default:h((()=>[w(T,{span:"4 m:2 l:2 xl:2"},{default:h((()=>[w(r,{columns:f(U),"onUpdate:columns":a[1]||(a[1]=e=>y(U)?U.value=e:null),btnDisabled:f(Z),permission:R,onSearch:f(O),onReset:f(L),onAdd:f(H),onDelete:f(V),onEdit:f(B),onDownload:f(I)},{queryBar:h((()=>[w(i,{label:"名称"},{default:h((()=>[w(n,{value:f(M).name,"onUpdate:value":a[0]||(a[0]=e=>f(M).name=e),size:"small",placeholder:"输入字典名称或者描述"},null,8,["value"])])),_:1})])),default:h((()=>[w(t,{columns:f(U),data:f(P),pagination:f(W),loading:f(X),"row-key":f(Y),"row-props":S,"row-class-name":f(A),striped:"",remote:!0,"checked-row-keys":f($),"onUpdate:checkedRowKeys":f(N)},null,8,["columns","data","pagination","loading","row-key","row-class-name","checked-row-keys","onUpdate:checkedRowKeys"])])),_:1},8,["columns","btnDisabled","onSearch","onReset","onAdd","onDelete","onEdit","onDownload"]),w(c,{visible:f(q),"onUpdate:visible":a[4]||(a[4]=e=>y(q)?q.value=e:null),title:f(Q),loading:f(C),"show-footer":f(K),width:"450px",onSave:f(z)},{default:h((()=>[w(u,{ref_key:"modalFormRef",ref:J,"label-placement":"left","label-align":"right","label-width":80,model:f(G),rules:F,disabled:"view"===f(E)},{default:h((()=>[w(m,{label:"字典名称",path:"name"},{default:h((()=>[w(n,{value:f(G).name,"onUpdate:value":a[2]||(a[2]=e=>f(G).name=e)},null,8,["value"])])),_:1}),w(m,{label:"描述",path:"description"},{default:h((()=>[w(n,{value:f(G).description,"onUpdate:value":a[3]||(a[3]=e=>f(G).description=e)},null,8,["value"])])),_:1})])),_:1},8,["model","disabled"])])),_:1},8,["visible","title","loading","show-footer","onSave"])])),_:1}),w(T,{span:"4 m:2 l:2 xl:2"},{default:h((()=>{var e,a;return[w(s,{pid:null==(e=f(j))?void 0:e.id,name:null==(a=f(j))?void 0:a.name},null,8,["pid","name"])]})),_:1})])),_:1})}}});export{U as default};
