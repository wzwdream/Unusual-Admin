import{h as e,ay as a,aG as t,aI as o,aJ as s,aK as r,aN as n,aZ as l,a_ as i,a$ as c,b0 as p,b1 as d,M as m,i as u,o as f,q as h,k as y,l as b,az as v,a5 as w,a6 as g,w as S,C,af as _,b2 as z,F as x,ao as $}from"./.pnpm-90504e03.js";import{c as j}from"./index-1bb12b99.js";const B=e({name:"EchartsMap"}),E=e({...B,setup(e){a([t,o,s,r,n,l,i,c,p]);const B=d(),E=m(),F=m([]),M=u((()=>0!==F.value.length)),k=async e=>{const a=await(async e=>{if("china"===e){const e="/public/mapJson/china.json";return await $((()=>import(e)),[])}{const a=`https://geo.datav.aliyun.com/areas_v3/bound/${e}.json`;return await fetch(a).then((e=>e.json()))}})(e);z(e,a);const t=a.features.map((e=>{const a=(80*Math.random()+20).toFixed(0),t=e.properties.center?[...e.properties.center,a]:e.properties.center;return{name:e.properties.name,value:t,adcode:e.properties.adcode,level:e.properties.level,data:a}}));E.value=((e,a)=>({tooltip:{show:!0,formatter:function(e){if(e&&e.data){const{adcode:a,name:t,data:o}=e.data;return`adcode: ${a}<br>name: ${t}<br>data: ${o}`}}},visualMap:{show:!0,min:0,max:100,left:"left",top:"bottom",text:["高","低"],calculable:!0,seriesIndex:[0],inRange:{color:["#00467F","#A5CC82"]}},geo:{map:e,roam:!0,select:!1,selectedMode:"single",label:{show:!0},emphasis:{itemStyle:{areaColor:"#389BB7",borderColor:"#389BB7",borderWidth:0},label:{fontSize:14}}},series:[{type:"map",map:e,roam:!0,geoIndex:0,select:!1,data:a},{name:"散点",type:"scatter",coordinateSystem:"geo",data:a,itemStyle:{color:"#05C3F9"}},{name:"点",type:"scatter",coordinateSystem:"geo",symbol:"pin",symbolSize:function(e){if(e)return e[2]/4+20},label:{show:!0,formatter:function(e){return e.data.data||0},color:"#fff",fontSize:9},itemStyle:{color:"#F62157"},zlevel:6,data:a},{name:"Top 5",type:"effectScatter",coordinateSystem:"geo",data:a.map((e=>{if(e.data>60)return e})),symbolSize:15,showEffectOn:"render",rippleEffect:{brushType:"stroke"},label:{formatter:"{b}",position:"right",show:!0},itemStyle:{color:"yellow",shadowBlur:10,shadowColor:"yellow"},zlevel:1}]}))(e,t)};k("china");const I=e=>{if("map"!==e.seriesType)return;const{adcode:a,level:t}=e.data,o="district"===t?a:a+"_full";if(F.value[F.value.length-1]===o)return B.warning({content:"已经是最下层了",duration:1e3});F.value.push(o),k(o)},T=()=>{const e=F.value[F.value.length-2]||"china";F.value.pop(),k(e)};return(e,a)=>{const t=x;return f(),h("div",{style:_(`height: ${b(j)("main")};`),class:"wh-full pos-relative"},[y(b(v),{option:b(E),autoresize:!0,onClick:I},null,8,["option"]),w(y(t,{class:"pos-absolute top-10 left-10",onClick:T},{default:S((()=>[C("返回")])),_:1},512),[[g,b(M)]])],4)}}});export{E as default};
