import{_ as e,u as a,a as i}from"./index-rQKpO1eD.js";import{e as t,a as l,_ as d}from"./index-BYCMBCbo.js";import{b as o,c as s,f as r}from"./dict-xpcayHuz.js";import{B as n,U as m,V as p,T as u,j as v,L as j,W as c,M as f,m as b}from"./naive-ui-DtZk0WJ8.js";import{d as y,a as g,h,o as k,k as w,l as _,ad as D,ak as S,u as x,by as U,q as z,B as F,f as Q}from"./@vue-7s647Hg9.js";import"./vue-i18n-Af_yDAzr.js";import"./@intlify-DTqJVEQS.js";import"./lodash-es-BqiBNFWB.js";import"./@vueuse-5kwDSbK9.js";import"./pinia-DxolVr3A.js";import"./vue-demi-Dq6ymT-8.js";import"./vue-echarts-DpynRI6o.js";import"./resize-detector-BnI0Kdmb.js";import"./echarts-BRR8dxA2.js";import"./zrender-BiYmND81.js";import"./tslib-ZseNXxlj.js";import"./vue-router-BiYFwnTs.js";import"./@iconify-BsjoIFlE.js";import"./axios-CURSphCx.js";import"./@codemirror-BDMijoIR.js";import"./@lezer-B1NhjyO5.js";import"./crelt-DSg10-ms.js";import"./style-mod-BCKp0_dq.js";import"./w3c-keyname-f-y9tSbI.js";import"./pinia-plugin-persistedstate-Cs-f0Iqr.js";import"./date-fns-YzY8oSGz.js";import"./@babel-DJq229zv.js";import"./vueuc-Bk9f_vlN.js";import"./evtd-hWw0KU7y.js";import"./seemly-B0CCZz1h.js";import"./@css-render-sXtP9vHb.js";import"./vooks-Dg4BxRLw.js";import"./vdirs-aWQMhJPa.js";import"./@juggle-BnTvdTVm.js";import"./css-render-7x70jhNC.js";import"./@emotion-DFFAhID7.js";import"./treemate-CC-CeH3d.js";import"./async-validator-Cuo4gI4y.js";const V=y({name:"Details"}),C=d(y({...V,props:{pid:{},name:{}},setup(d){const{hasPermission:y}=t(),V={add:["admin","dictDetails:add"],del:["admin","dictDetails:del"],edit:["admin","dictDetails:edit"],download:["admin","dictDetails:download"]},C=d,q=g([{title:"ID",key:"id"},{title:"所属字典",key:"name",render:()=>h("span",{},C.name)},{title:"字典标签",key:"label"},{title:"字典值",key:"value"},{title:"排序",key:"dictSort"},{title:"操作",key:"actions",align:"center",fixed:"right",render:a=>[h(e,{permission:V,onHandleDelete:()=>K(a.id),onHandleEdit:()=>M(a),onHandleView:()=>P(a)})]}]),H={value:[{required:!0,message:"请输入字典值",trigger:"blur"}],label:[{required:!0,message:"请输入字典标签",trigger:"blur"}]},{modalVisible:I,modalAction:L,modalShowFooter:R,modalTitle:A,modalLoading:B,handleAdd:E,handleDelete:K,handleEdit:M,handleView:P,handleSave:T,defualtQuery:W,modalForm:J,modalFormRef:N,listQuery:O,listData:G,pagination:X,loading:Y,rowKey:Z}=a({name:"字典详情",url:"/dictDetails",key:"id",isInitQuery:!1,initForm:{id:void 0,pid:void 0,label:"",value:"",dictSort:1},initQuery:{pid:void 0},doCreate:o,doDelete:s,doUpdate:r,beforeSave:e=>(e.pid=C.pid,e)});return k((()=>{w((()=>{C.pid?(W.pid=C.pid,O()):(G.value=[],X.itemCount=0,X.page=1)}))})),(e,a)=>{const t=l,d=n,o=m,s=p,r=u,g=v,h=j,k=c,w=f,K=i,M=b;return _(),D(M,{title:"字典详情",size:"small",segmented:!0},S({default:U((()=>[void 0===C.pid?(_(),D(s,{key:0,prefix:"bar"},{default:U((()=>[z(o,{type:"primary"},{default:U((()=>[F(" 点击字典查看详情")])),_:1})])),_:1})):(_(),D(r,{key:1,columns:x(q),data:x(G),pagination:x(X),loading:x(Y),"row-key":x(Z),striped:"",remote:!0},null,8,["columns","data","pagination","loading","row-key"])),z(K,{visible:x(I),"onUpdate:visible":a[3]||(a[3]=e=>Q(I)?I.value=e:null),title:x(A),loading:x(B),"show-footer":x(R),width:"450px",onSave:x(T)},{default:U((()=>[z(w,{ref_key:"modalFormRef",ref:N,"label-placement":"left","label-align":"right","label-width":80,model:x(J),rules:H,disabled:"view"===x(L)},{default:U((()=>[z(h,{label:"字典标签",path:"label"},{default:U((()=>[z(g,{value:x(J).label,"onUpdate:value":a[0]||(a[0]=e=>x(J).label=e)},null,8,["value"])])),_:1}),z(h,{label:"字典值",path:"value"},{default:U((()=>[z(g,{value:x(J).value,"onUpdate:value":a[1]||(a[1]=e=>x(J).value=e)},null,8,["value"])])),_:1}),z(h,{label:"字典排序",path:"dictSort"},{default:U((()=>[z(k,{value:x(J).dictSort,"onUpdate:value":a[2]||(a[2]=e=>x(J).dictSort=e)},null,8,["value"])])),_:1})])),_:1},8,["model","disabled"])])),_:1},8,["visible","title","loading","show-footer","onSave"])])),_:2},[x(y)(V.add)?{name:"header-extra",fn:U((()=>[z(d,{type:"primary",disabled:void 0===C.pid,size:"small",onClick:x(E)},{icon:U((()=>[z(t,{icon:"material-symbols:add-rounded"})])),default:U((()=>[F(" 新增 ")])),_:1},8,["disabled","onClick"])])),key:"0"}:void 0]),1024)}}}),[["__scopeId","data-v-61e5d6ab"]]);export{C as default};
