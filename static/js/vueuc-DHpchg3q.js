import{B as ke,F as Me,C as Le,d as C,z as He,e as Se,i as fe,a as I,x as R,L as Te,t as Q,j as _,h as A,T as Ve,o as q,w as U,n as ze,aZ as Ee,G as Ye,H as Xe,K as De}from"./@vue-CRj7PaMA.js";import{a as K,o as se}from"./evtd-CI_DDEu_.js";import{j as Ae,d as ce,p as G,f as Ne,a as _e}from"./seemly-pQYQdLy2.js";import{u as ee}from"./@css-render-CcHFHqZ8.js";import{h as je,u as ue,o as Pe,i as Ue}from"./vooks-Vv8Q4iio.js";import{z as Ke}from"./vdirs-Bxp-63WN.js";import{R as qe}from"./@juggle-C8OzoCMD.js";import{C as Ge}from"./css-render-BDrvWz3H.js";function ae(n,e,t="default"){const o=e[t];if(o===void 0)throw new Error(`[vueuc/${n}]: slot[${t}] is empty.`);return o()}function de(n,e=!0,t=[]){return n.forEach(o=>{if(o!==null){if(typeof o!="object"){(typeof o=="string"||typeof o=="number")&&t.push(ke(String(o)));return}if(Array.isArray(o)){de(o,e,t);return}if(o.type===Me){if(o.children===null)return;Array.isArray(o.children)&&de(o.children,e,t)}else o.type!==Le&&t.push(o)}}),t}function he(n,e,t="default"){const o=e[t];if(o===void 0)throw new Error(`[vueuc/${n}]: slot[${t}] is empty.`);const r=de(o());if(r.length===1)return r[0];throw new Error(`[vueuc/${n}]: slot[${t}] should have exactly one child.`)}let Y=null;function Fe(){if(Y===null&&(Y=document.getElementById("v-binder-view-measurer"),Y===null)){Y=document.createElement("div"),Y.id="v-binder-view-measurer";const{style:n}=Y;n.position="fixed",n.left="0",n.right="0",n.top="0",n.bottom="0",n.pointerEvents="none",n.visibility="hidden",document.body.appendChild(Y)}return Y.getBoundingClientRect()}function Ze(n,e){const t=Fe();return{top:e,left:n,height:0,width:0,right:t.width-n,bottom:t.height-e}}function re(n){const e=n.getBoundingClientRect(),t=Fe();return{left:e.left-t.left,top:e.top-t.top,bottom:t.height+t.top-e.bottom,right:t.width+t.left-e.right,width:e.width,height:e.height}}function Je(n){return n.nodeType===9?null:n.parentNode}function Be(n){if(n===null)return null;const e=Je(n);if(e===null)return null;if(e.nodeType===9)return document;if(e.nodeType===1){const{overflow:t,overflowX:o,overflowY:r}=getComputedStyle(e);if(/(auto|scroll|overlay)/.test(t+r+o))return e}return Be(e)}const xt=C({name:"Binder",props:{syncTargetWithParent:Boolean,syncTarget:{type:Boolean,default:!0}},setup(n){var e;He("VBinder",(e=Se())===null||e===void 0?void 0:e.proxy);const t=fe("VBinder",null),o=I(null),r=i=>{o.value=i,t&&n.syncTargetWithParent&&t.setTargetRef(i)};let l=[];const v=()=>{let i=o.value;for(;i=Be(i),i!==null;)l.push(i);for(const y of l)se("scroll",y,M,!0)},m=()=>{for(const i of l)K("scroll",i,M,!0);l=[]},d=new Set,w=i=>{d.size===0&&v(),d.has(i)||d.add(i)},g=i=>{d.has(i)&&d.delete(i),d.size===0&&m()},M=()=>{Ae(a)},a=()=>{d.forEach(i=>i())},c=new Set,p=i=>{c.size===0&&se("resize",window,s),c.has(i)||c.add(i)},h=i=>{c.has(i)&&c.delete(i),c.size===0&&K("resize",window,s)},s=()=>{c.forEach(i=>i())};return R(()=>{K("resize",window,s),m()}),{targetRef:o,setTargetRef:r,addScrollListener:w,removeScrollListener:g,addResizeListener:p,removeResizeListener:h}},render(){return ae("binder",this.$slots)}}),$t=C({name:"Target",setup(){const{setTargetRef:n,syncTarget:e}=fe("VBinder");return{syncTarget:e,setTargetDirective:{mounted:n,updated:n}}},render(){const{syncTarget:n,setTargetDirective:e}=this;return n?Te(he("follower",this.$slots),[[e]]):he("follower",this.$slots)}});function pe(n,e){console.error(`[vueuc/${n}]: ${e}`)}const{c:O}=Ge(),te="vueuc-style";function me(n){return n&-n}class Qe{constructor(e,t){this.l=e,this.min=t;const o=new Array(e+1);for(let r=0;r<e+1;++r)o[r]=0;this.ft=o}add(e,t){if(t===0)return;const{l:o,ft:r}=this;for(e+=1;e<=o;)r[e]+=t,e+=me(e)}get(e){return this.sum(e+1)-this.sum(e)}sum(e){if(e===void 0&&(e=this.l),e<=0)return 0;const{ft:t,min:o,l:r}=this;if(e>r)throw new Error("[FinweckTree.sum]: `i` is larger than length.");let l=e*o;for(;e>0;)l+=t[e],e-=me(e);return l}getBound(e){let t=0,o=this.l;for(;o>t;){const r=Math.floor((t+o)/2),l=this.sum(r);if(l>e){o=r;continue}else if(l<e){if(t===r)return this.sum(t+1)<=e?t+1:r;t=r}else return r}return t}}function ve(n){return typeof n=="string"?document.querySelector(n):n()}const Re=C({name:"LazyTeleport",props:{to:{type:[String,Object],default:void 0},disabled:Boolean,show:{type:Boolean,required:!0}},setup(n){return{showTeleport:je(Q(n,"show")),mergedTo:_(()=>{const{to:e}=n;return e??"body"})}},render(){return this.showTeleport?this.disabled?ae("lazy-teleport",this.$slots):A(Ve,{disabled:this.disabled,to:this.mergedTo},ae("lazy-teleport",this.$slots)):null}}),Z={top:"bottom",bottom:"top",left:"right",right:"left"},be={start:"end",center:"center",end:"start"},ie={top:"height",bottom:"height",left:"width",right:"width"},et={"bottom-start":"top left",bottom:"top center","bottom-end":"top right","top-start":"bottom left",top:"bottom center","top-end":"bottom right","right-start":"top left",right:"center left","right-end":"bottom left","left-start":"top right",left:"center right","left-end":"bottom right"},tt={"bottom-start":"bottom left",bottom:"bottom center","bottom-end":"bottom right","top-start":"top left",top:"top center","top-end":"top right","right-start":"top right",right:"center right","right-end":"bottom right","left-start":"top left",left:"center left","left-end":"bottom left"},nt={"bottom-start":"right","bottom-end":"left","top-start":"right","top-end":"left","right-start":"bottom","right-end":"top","left-start":"bottom","left-end":"top"},we={top:!0,bottom:!1,left:!0,right:!1},ge={top:"end",bottom:"start",left:"end",right:"start"};function ot(n,e,t,o,r,l){if(!r||l)return{placement:n,top:0,left:0};const[v,m]=n.split("-");let d=m??"center",w={top:0,left:0};const g=(c,p,h)=>{let s=0,i=0;const y=t[c]-e[p]-e[c];return y>0&&o&&(h?i=we[p]?y:-y:s=we[p]?y:-y),{left:s,top:i}},M=v==="left"||v==="right";if(d!=="center"){const c=nt[n],p=Z[c],h=ie[c];if(t[h]>e[h]){if(e[c]+e[h]<t[h]){const s=(t[h]-e[h])/2;e[c]<s||e[p]<s?e[c]<e[p]?(d=be[m],w=g(h,p,M)):w=g(h,c,M):d="center"}}else t[h]<e[h]&&e[p]<0&&e[c]>e[p]&&(d=be[m])}else{const c=v==="bottom"||v==="top"?"left":"top",p=Z[c],h=ie[c],s=(t[h]-e[h])/2;(e[c]<s||e[p]<s)&&(e[c]>e[p]?(d=ge[c],w=g(h,c,M)):(d=ge[p],w=g(h,p,M)))}let a=v;return e[v]<t[ie[v]]&&e[v]<e[Z[v]]&&(a=Z[v]),{placement:d!=="center"?`${a}-${d}`:a,left:w.left,top:w.top}}function rt(n,e){return e?tt[n]:et[n]}function it(n,e,t,o,r,l){if(l)switch(n){case"bottom-start":return{top:`${Math.round(t.top-e.top+t.height)}px`,left:`${Math.round(t.left-e.left)}px`,transform:"translateY(-100%)"};case"bottom-end":return{top:`${Math.round(t.top-e.top+t.height)}px`,left:`${Math.round(t.left-e.left+t.width)}px`,transform:"translateX(-100%) translateY(-100%)"};case"top-start":return{top:`${Math.round(t.top-e.top)}px`,left:`${Math.round(t.left-e.left)}px`,transform:""};case"top-end":return{top:`${Math.round(t.top-e.top)}px`,left:`${Math.round(t.left-e.left+t.width)}px`,transform:"translateX(-100%)"};case"right-start":return{top:`${Math.round(t.top-e.top)}px`,left:`${Math.round(t.left-e.left+t.width)}px`,transform:"translateX(-100%)"};case"right-end":return{top:`${Math.round(t.top-e.top+t.height)}px`,left:`${Math.round(t.left-e.left+t.width)}px`,transform:"translateX(-100%) translateY(-100%)"};case"left-start":return{top:`${Math.round(t.top-e.top)}px`,left:`${Math.round(t.left-e.left)}px`,transform:""};case"left-end":return{top:`${Math.round(t.top-e.top+t.height)}px`,left:`${Math.round(t.left-e.left)}px`,transform:"translateY(-100%)"};case"top":return{top:`${Math.round(t.top-e.top)}px`,left:`${Math.round(t.left-e.left+t.width/2)}px`,transform:"translateX(-50%)"};case"right":return{top:`${Math.round(t.top-e.top+t.height/2)}px`,left:`${Math.round(t.left-e.left+t.width)}px`,transform:"translateX(-100%) translateY(-50%)"};case"left":return{top:`${Math.round(t.top-e.top+t.height/2)}px`,left:`${Math.round(t.left-e.left)}px`,transform:"translateY(-50%)"};case"bottom":default:return{top:`${Math.round(t.top-e.top+t.height)}px`,left:`${Math.round(t.left-e.left+t.width/2)}px`,transform:"translateX(-50%) translateY(-100%)"}}switch(n){case"bottom-start":return{top:`${Math.round(t.top-e.top+t.height+o)}px`,left:`${Math.round(t.left-e.left+r)}px`,transform:""};case"bottom-end":return{top:`${Math.round(t.top-e.top+t.height+o)}px`,left:`${Math.round(t.left-e.left+t.width+r)}px`,transform:"translateX(-100%)"};case"top-start":return{top:`${Math.round(t.top-e.top+o)}px`,left:`${Math.round(t.left-e.left+r)}px`,transform:"translateY(-100%)"};case"top-end":return{top:`${Math.round(t.top-e.top+o)}px`,left:`${Math.round(t.left-e.left+t.width+r)}px`,transform:"translateX(-100%) translateY(-100%)"};case"right-start":return{top:`${Math.round(t.top-e.top+o)}px`,left:`${Math.round(t.left-e.left+t.width+r)}px`,transform:""};case"right-end":return{top:`${Math.round(t.top-e.top+t.height+o)}px`,left:`${Math.round(t.left-e.left+t.width+r)}px`,transform:"translateY(-100%)"};case"left-start":return{top:`${Math.round(t.top-e.top+o)}px`,left:`${Math.round(t.left-e.left+r)}px`,transform:"translateX(-100%)"};case"left-end":return{top:`${Math.round(t.top-e.top+t.height+o)}px`,left:`${Math.round(t.left-e.left+r)}px`,transform:"translateX(-100%) translateY(-100%)"};case"top":return{top:`${Math.round(t.top-e.top+o)}px`,left:`${Math.round(t.left-e.left+t.width/2+r)}px`,transform:"translateY(-100%) translateX(-50%)"};case"right":return{top:`${Math.round(t.top-e.top+t.height/2+o)}px`,left:`${Math.round(t.left-e.left+t.width+r)}px`,transform:"translateY(-50%)"};case"left":return{top:`${Math.round(t.top-e.top+t.height/2+o)}px`,left:`${Math.round(t.left-e.left+r)}px`,transform:"translateY(-50%) translateX(-100%)"};case"bottom":default:return{top:`${Math.round(t.top-e.top+t.height+o)}px`,left:`${Math.round(t.left-e.left+t.width/2+r)}px`,transform:"translateX(-50%)"}}}const lt=O([O(".v-binder-follower-container",{position:"absolute",left:"0",right:"0",top:"0",height:"0",pointerEvents:"none",zIndex:"auto"}),O(".v-binder-follower-content",{position:"absolute",zIndex:"auto"},[O("> *",{pointerEvents:"all"})])]),Mt=C({name:"Follower",inheritAttrs:!1,props:{show:Boolean,enabled:{type:Boolean,default:void 0},placement:{type:String,default:"bottom"},syncTrigger:{type:Array,default:["resize","scroll"]},to:[String,Object],flip:{type:Boolean,default:!0},internalShift:Boolean,x:Number,y:Number,width:String,minWidth:String,containerClass:String,teleportDisabled:Boolean,zindexable:{type:Boolean,default:!0},zIndex:Number,overlap:Boolean},setup(n){const e=fe("VBinder"),t=ue(()=>n.enabled!==void 0?n.enabled:n.show),o=I(null),r=I(null),l=()=>{const{syncTrigger:a}=n;a.includes("scroll")&&e.addScrollListener(d),a.includes("resize")&&e.addResizeListener(d)},v=()=>{e.removeScrollListener(d),e.removeResizeListener(d)};q(()=>{t.value&&(d(),l())});const m=ee();lt.mount({id:"vueuc/binder",head:!0,anchorMetaName:te,ssr:m}),R(()=>{v()}),Pe(()=>{t.value&&d()});const d=()=>{if(!t.value)return;const a=o.value;if(a===null)return;const c=e.targetRef,{x:p,y:h,overlap:s}=n,i=p!==void 0&&h!==void 0?Ze(p,h):re(c);a.style.setProperty("--v-target-width",`${Math.round(i.width)}px`),a.style.setProperty("--v-target-height",`${Math.round(i.height)}px`);const{width:y,minWidth:x,placement:B,internalShift:k,flip:N}=n;a.setAttribute("v-placement",B),s?a.setAttribute("v-overlap",""):a.removeAttribute("v-overlap");const{style:E}=a;y==="target"?E.width=`${i.width}px`:y!==void 0?E.width=y:E.width="",x==="target"?E.minWidth=`${i.width}px`:x!==void 0?E.minWidth=x:E.minWidth="";const X=re(a),L=re(r.value),{left:H,top:u,placement:f}=ot(B,i,X,k,N,s),b=rt(f,s),{left:$,top:S,transform:z}=it(f,L,i,u,H,s);a.setAttribute("v-placement",f),a.style.setProperty("--v-offset-left",`${Math.round(H)}px`),a.style.setProperty("--v-offset-top",`${Math.round(u)}px`),a.style.transform=`translateX(${$}) translateY(${S}) ${z}`,a.style.setProperty("--v-transform-origin",b),a.style.transformOrigin=b};U(t,a=>{a?(l(),w()):v()});const w=()=>{ze().then(d).catch(a=>console.error(a))};["placement","x","y","internalShift","flip","width","overlap","minWidth"].forEach(a=>{U(Q(n,a),d)}),["teleportDisabled"].forEach(a=>{U(Q(n,a),w)}),U(Q(n,"syncTrigger"),a=>{a.includes("resize")?e.addResizeListener(d):e.removeResizeListener(d),a.includes("scroll")?e.addScrollListener(d):e.removeScrollListener(d)});const g=Ue(),M=ue(()=>{const{to:a}=n;if(a!==void 0)return a;g.value});return{VBinder:e,mergedEnabled:t,offsetContainerRef:r,followerRef:o,mergedTo:M,syncPosition:d}},render(){return A(Re,{show:this.show,to:this.mergedTo,disabled:this.teleportDisabled},{default:()=>{var n,e;const t=A("div",{class:["v-binder-follower-container",this.containerClass],ref:"offsetContainerRef"},[A("div",{class:"v-binder-follower-content",ref:"followerRef"},(e=(n=this.$slots).default)===null||e===void 0?void 0:e.call(n))]);return this.zindexable?Te(t,[[Ke,{enabled:this.mergedEnabled,zIndex:this.zIndex}]]):t}})}});class st{constructor(){this.handleResize=this.handleResize.bind(this),this.observer=new(typeof window<"u"&&window.ResizeObserver||qe)(this.handleResize),this.elHandlersMap=new Map}handleResize(e){for(const t of e){const o=this.elHandlersMap.get(t.target);o!==void 0&&o(t)}}registerHandler(e,t){this.elHandlersMap.set(e,t),this.observer.observe(e)}unregisterHandler(e){this.elHandlersMap.has(e)&&(this.elHandlersMap.delete(e),this.observer.unobserve(e))}}const ye=new st,xe=C({name:"ResizeObserver",props:{onResize:Function},setup(n){let e=!1;const t=Se().proxy;function o(r){const{onResize:l}=n;l!==void 0&&l(r)}q(()=>{const r=t.$el;if(r===void 0){pe("resize-observer","$el does not exist.");return}if(r.nextElementSibling!==r.nextSibling&&r.nodeType===3&&r.nodeValue!==""){pe("resize-observer","$el can not be observed (it may be a text node).");return}r.nextElementSibling!==null&&(ye.registerHandler(r.nextElementSibling,o),e=!0)}),R(()=>{e&&ye.unregisterHandler(t.$el.nextElementSibling)})},render(){return Ee(this.$slots,"default")}});let J;function ut(){return typeof document>"u"?!1:(J===void 0&&("matchMedia"in window?J=window.matchMedia("(pointer:coarse)").matches:J=!1),J)}let le;function $e(){return typeof document>"u"?1:(le===void 0&&(le="chrome"in window?window.devicePixelRatio:1),le)}const at=O(".v-vl",{maxHeight:"inherit",height:"100%",overflow:"auto",minWidth:"1px"},[O("&:not(.v-vl--show-scrollbar)",{scrollbarWidth:"none"},[O("&::-webkit-scrollbar, &::-webkit-scrollbar-track-piece, &::-webkit-scrollbar-thumb",{width:0,height:0,display:"none"})])]),St=C({name:"VirtualList",inheritAttrs:!1,props:{showScrollbar:{type:Boolean,default:!0},items:{type:Array,default:()=>[]},itemSize:{type:Number,required:!0},itemResizable:Boolean,itemsStyle:[String,Object],visibleItemsTag:{type:[String,Object],default:"div"},visibleItemsProps:Object,ignoreItemResize:Boolean,onScroll:Function,onWheel:Function,onResize:Function,defaultScrollKey:[Number,String],defaultScrollIndex:Number,keyField:{type:String,default:"key"},paddingTop:{type:[Number,String],default:0},paddingBottom:{type:[Number,String],default:0}},setup(n){const e=ee();at.mount({id:"vueuc/virtual-list",head:!0,anchorMetaName:te,ssr:e}),q(()=>{const{defaultScrollIndex:u,defaultScrollKey:f}=n;u!=null?p({index:u}):f!=null&&p({key:f})});let t=!1,o=!1;Ye(()=>{if(t=!1,!o){o=!0;return}p({top:M.value,left:g})}),Xe(()=>{t=!0,o||(o=!0)});const r=_(()=>{const u=new Map,{keyField:f}=n;return n.items.forEach((b,$)=>{u.set(b[f],$)}),u}),l=I(null),v=I(void 0),m=new Map,d=_(()=>{const{items:u,itemSize:f,keyField:b}=n,$=new Qe(u.length,f);return u.forEach((S,z)=>{const T=S[b],F=m.get(T);F!==void 0&&$.add(z,F)}),$}),w=I(0);let g=0;const M=I(0),a=ue(()=>Math.max(d.value.getBound(M.value-ce(n.paddingTop))-1,0)),c=_(()=>{const{value:u}=v;if(u===void 0)return[];const{items:f,itemSize:b}=n,$=a.value,S=Math.min($+Math.ceil(u/b+1),f.length-1),z=[];for(let T=$;T<=S;++T)z.push(f[T]);return z}),p=(u,f)=>{if(typeof u=="number"){y(u,f,"auto");return}const{left:b,top:$,index:S,key:z,position:T,behavior:F,debounce:V=!0}=u;if(b!==void 0||$!==void 0)y(b,$,F);else if(S!==void 0)i(S,F,V);else if(z!==void 0){const ne=r.value.get(z);ne!==void 0&&i(ne,F,V)}else T==="bottom"?y(0,Number.MAX_SAFE_INTEGER,F):T==="top"&&y(0,0,F)};let h,s=null;function i(u,f,b){const{value:$}=d,S=$.sum(u)+ce(n.paddingTop);if(!b)l.value.scrollTo({left:0,top:S,behavior:f});else{h=u,s!==null&&window.clearTimeout(s),s=window.setTimeout(()=>{h=void 0,s=null},16);const{scrollTop:z,offsetHeight:T}=l.value;if(S>z){const F=$.get(u);S+F<=z+T||l.value.scrollTo({left:0,top:S+F-T,behavior:f})}else l.value.scrollTo({left:0,top:S,behavior:f})}}function y(u,f,b){l.value.scrollTo({left:u,top:f,behavior:b})}function x(u,f){var b,$,S;if(t||n.ignoreItemResize||H(f.target))return;const{value:z}=d,T=r.value.get(u),F=z.get(T),V=(S=($=(b=f.borderBoxSize)===null||b===void 0?void 0:b[0])===null||$===void 0?void 0:$.blockSize)!==null&&S!==void 0?S:f.contentRect.height;if(V===F)return;V-n.itemSize===0?m.delete(u):m.set(u,V-n.itemSize);const j=V-F;if(j===0)return;z.add(T,j);const D=l.value;if(D!=null){if(h===void 0){const oe=z.sum(T);D.scrollTop>oe&&D.scrollBy(0,j)}else if(T<h)D.scrollBy(0,j);else if(T===h){const oe=z.sum(T);V+oe>D.scrollTop+D.offsetHeight&&D.scrollBy(0,j)}L()}w.value++}const B=!ut();let k=!1;function N(u){var f;(f=n.onScroll)===null||f===void 0||f.call(n,u),(!B||!k)&&L()}function E(u){var f;if((f=n.onWheel)===null||f===void 0||f.call(n,u),B){const b=l.value;if(b!=null){if(u.deltaX===0&&(b.scrollTop===0&&u.deltaY<=0||b.scrollTop+b.offsetHeight>=b.scrollHeight&&u.deltaY>=0))return;u.preventDefault(),b.scrollTop+=u.deltaY/$e(),b.scrollLeft+=u.deltaX/$e(),L(),k=!0,Ae(()=>{k=!1})}}}function X(u){if(t||H(u.target)||u.contentRect.height===v.value)return;v.value=u.contentRect.height;const{onResize:f}=n;f!==void 0&&f(u)}function L(){const{value:u}=l;u!=null&&(M.value=u.scrollTop,g=u.scrollLeft)}function H(u){let f=u;for(;f!==null;){if(f.style.display==="none")return!0;f=f.parentElement}return!1}return{listHeight:v,listStyle:{overflow:"auto"},keyToIndex:r,itemsStyle:_(()=>{const{itemResizable:u}=n,f=G(d.value.sum());return w.value,[n.itemsStyle,{boxSizing:"content-box",height:u?"":f,minHeight:u?f:"",paddingTop:G(n.paddingTop),paddingBottom:G(n.paddingBottom)}]}),visibleItemsStyle:_(()=>(w.value,{transform:`translateY(${G(d.value.sum(a.value))})`})),viewportItems:c,listElRef:l,itemsElRef:I(null),scrollTo:p,handleListResize:X,handleListScroll:N,handleListWheel:E,handleItemResize:x}},render(){const{itemResizable:n,keyField:e,keyToIndex:t,visibleItemsTag:o}=this;return A(xe,{onResize:this.handleListResize},{default:()=>{var r,l;return A("div",De(this.$attrs,{class:["v-vl",this.showScrollbar&&"v-vl--show-scrollbar"],onScroll:this.handleListScroll,onWheel:this.handleListWheel,ref:"listElRef"}),[this.items.length!==0?A("div",{ref:"itemsElRef",class:"v-vl-items",style:this.itemsStyle},[A(o,Object.assign({class:"v-vl-visible-items",style:this.visibleItemsStyle},this.visibleItemsProps),{default:()=>this.viewportItems.map(v=>{const m=v[e],d=t.get(m),w=this.$slots.default({item:v,index:d})[0];return n?A(xe,{key:m,onResize:g=>this.handleItemResize(m,g)},{default:()=>w}):(w.key=m,w)})})]):(l=(r=this.$slots).empty)===null||l===void 0?void 0:l.call(r)])}})}}),dt=O(".v-x-scroll",{overflow:"auto",scrollbarWidth:"none"},[O("&::-webkit-scrollbar",{width:0,height:0})]),Tt=C({name:"XScroll",props:{disabled:Boolean,onScroll:Function},setup(){const n=I(null);function e(r){!(r.currentTarget.offsetWidth<r.currentTarget.scrollWidth)||r.deltaY===0||(r.currentTarget.scrollLeft+=r.deltaY+r.deltaX,r.preventDefault())}const t=ee();return dt.mount({id:"vueuc/x-scroll",head:!0,anchorMetaName:te,ssr:t}),Object.assign({selfRef:n,handleWheel:e},{scrollTo(...r){var l;(l=n.value)===null||l===void 0||l.scrollTo(...r)}})},render(){return A("div",{ref:"selfRef",onScroll:this.onScroll,onWheel:this.disabled?void 0:this.handleWheel,class:"v-x-scroll"},this.$slots)}}),W="v-hidden",ft=O("[v-hidden]",{display:"none!important"}),zt=C({name:"Overflow",props:{getCounter:Function,getTail:Function,updateCounter:Function,onUpdateCount:Function,onUpdateOverflow:Function},setup(n,{slots:e}){const t=I(null),o=I(null);function r(v){const{value:m}=t,{getCounter:d,getTail:w}=n;let g;if(d!==void 0?g=d():g=o.value,!m||!g)return;g.hasAttribute(W)&&g.removeAttribute(W);const{children:M}=m;if(v.showAllItemsBeforeCalculate)for(const x of M)x.hasAttribute(W)&&x.removeAttribute(W);const a=m.offsetWidth,c=[],p=e.tail?w==null?void 0:w():null;let h=p?p.offsetWidth:0,s=!1;const i=m.children.length-(e.tail?1:0);for(let x=0;x<i-1;++x){if(x<0)continue;const B=M[x];if(s){B.hasAttribute(W)||B.setAttribute(W,"");continue}else B.hasAttribute(W)&&B.removeAttribute(W);const k=B.offsetWidth;if(h+=k,c[x]=k,h>a){const{updateCounter:N}=n;for(let E=x;E>=0;--E){const X=i-1-E;N!==void 0?N(X):g.textContent=`${X}`;const L=g.offsetWidth;if(h-=c[E],h+L<=a||E===0){s=!0,x=E-1,p&&(x===-1?(p.style.maxWidth=`${a-L}px`,p.style.boxSizing="border-box"):p.style.maxWidth="");const{onUpdateCount:H}=n;H&&H(X);break}}}}const{onUpdateOverflow:y}=n;s?y!==void 0&&y(!0):(y!==void 0&&y(!1),g.setAttribute(W,""))}const l=ee();return ft.mount({id:"vueuc/overflow",head:!0,anchorMetaName:te,ssr:l}),q(()=>r({showAllItemsBeforeCalculate:!1})),{selfRef:t,counterRef:o,sync:r}},render(){const{$slots:n}=this;return ze(()=>this.sync({showAllItemsBeforeCalculate:!1})),A("div",{class:"v-overflow",ref:"selfRef"},[Ee(n,"default"),n.counter?n.counter():A("span",{style:{display:"inline-block"},ref:"counterRef"}),n.tail?n.tail():null])}});function Ie(n){return n instanceof HTMLElement}function Oe(n){for(let e=0;e<n.childNodes.length;e++){const t=n.childNodes[e];if(Ie(t)&&(Ce(t)||Oe(t)))return!0}return!1}function We(n){for(let e=n.childNodes.length-1;e>=0;e--){const t=n.childNodes[e];if(Ie(t)&&(Ce(t)||We(t)))return!0}return!1}function Ce(n){if(!ct(n))return!1;try{n.focus({preventScroll:!0})}catch{}return document.activeElement===n}function ct(n){if(n.tabIndex>0||n.tabIndex===0&&n.getAttribute("tabIndex")!==null)return!0;if(n.getAttribute("disabled"))return!1;switch(n.nodeName){case"A":return!!n.href&&n.rel!=="ignore";case"INPUT":return n.type!=="hidden"&&n.type!=="file";case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}}let P=[];const Et=C({name:"FocusTrap",props:{disabled:Boolean,active:Boolean,autoFocus:{type:Boolean,default:!0},onEsc:Function,initialFocusTo:String,finalFocusTo:String,returnFocusOnDeactivated:{type:Boolean,default:!0}},setup(n){const e=Ne(),t=I(null),o=I(null);let r=!1,l=!1;const v=typeof document>"u"?null:document.activeElement;function m(){return P[P.length-1]===e}function d(s){var i;s.code==="Escape"&&m()&&((i=n.onEsc)===null||i===void 0||i.call(n,s))}q(()=>{U(()=>n.active,s=>{s?(M(),se("keydown",document,d)):(K("keydown",document,d),r&&a())},{immediate:!0})}),R(()=>{K("keydown",document,d),r&&a()});function w(s){if(!l&&m()){const i=g();if(i===null||i.contains(_e(s)))return;c("first")}}function g(){const s=t.value;if(s===null)return null;let i=s;for(;i=i.nextSibling,!(i===null||i instanceof Element&&i.tagName==="DIV"););return i}function M(){var s;if(!n.disabled){if(P.push(e),n.autoFocus){const{initialFocusTo:i}=n;i===void 0?c("first"):(s=ve(i))===null||s===void 0||s.focus({preventScroll:!0})}r=!0,document.addEventListener("focus",w,!0)}}function a(){var s;if(n.disabled||(document.removeEventListener("focus",w,!0),P=P.filter(y=>y!==e),m()))return;const{finalFocusTo:i}=n;i!==void 0?(s=ve(i))===null||s===void 0||s.focus({preventScroll:!0}):n.returnFocusOnDeactivated&&v instanceof HTMLElement&&(l=!0,v.focus({preventScroll:!0}),l=!1)}function c(s){if(m()&&n.active){const i=t.value,y=o.value;if(i!==null&&y!==null){const x=g();if(x==null||x===y){l=!0,i.focus({preventScroll:!0}),l=!1;return}l=!0;const B=s==="first"?Oe(x):We(x);l=!1,B||(l=!0,i.focus({preventScroll:!0}),l=!1)}}}function p(s){if(l)return;const i=g();i!==null&&(s.relatedTarget!==null&&i.contains(s.relatedTarget)?c("last"):c("first"))}function h(s){l||(s.relatedTarget!==null&&s.relatedTarget===t.value?c("last"):c("first"))}return{focusableStartRef:t,focusableEndRef:o,focusableStyle:"position: absolute; height: 0; width: 0;",handleStartFocus:p,handleEndFocus:h}},render(){const{default:n}=this.$slots;if(n===void 0)return null;if(this.disabled)return n();const{active:e,focusableStyle:t}=this;return A(Me,null,[A("div",{"aria-hidden":"true",tabindex:e?"0":"-1",ref:"focusableStartRef",style:t,onFocus:this.handleStartFocus}),n(),A("div",{"aria-hidden":"true",style:t,ref:"focusableEndRef",tabindex:e?"0":"-1",onFocus:this.handleEndFocus})])}});export{xt as B,Et as F,Re as L,xe as V,St as a,Mt as b,$t as c,zt as d,Tt as e,ye as r};
