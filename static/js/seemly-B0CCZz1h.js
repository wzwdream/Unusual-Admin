let r=[];const t=new WeakMap;function e(){r.forEach((r=>r(...t.get(r)))),r=[]}function n(n,...o){t.set(n,o),r.includes(n)||1===r.push(n)&&requestAnimationFrame(e)}function o(r){if(null===r)return null;const t=function(r){return 9===r.nodeType?null:r.parentNode}(r);if(null===t)return null;if(9===t.nodeType)return document.documentElement;if(1===t.nodeType){const{overflow:r,overflowX:e,overflowY:n}=getComputedStyle(t);if(/(auto|scroll|overlay)/.test(r+n+e))return t}return o(t)}function u(r){return"string"==typeof r?document.querySelector(r):"function"==typeof r?r():r}function i(r,t){let{target:e}=r;for(;e;){if(e.dataset&&void 0!==e.dataset[t])return!0;e=e.parentElement}return!1}function a(r){return r.composedPath()[0]||null}function s(r,t){var e;if(null==r)return;const n=function(r){if("number"==typeof r)return{"":r.toString()};const t={};return r.split(/ +/).forEach((r=>{if(""===r)return;const[e,n]=r.split(":");void 0===n?t[""]=e:t[e]=n})),t}(r);if(void 0===t)return n[""];if("string"==typeof t)return null!==(e=n[t])&&void 0!==e?e:n[""];if(Array.isArray(t)){for(let r=t.length-1;r>=0;--r){const e=t[r];if(e in n)return n[e]}return n[""]}{let r,e=-1;return Object.keys(n).forEach((o=>{const u=Number(o);!Number.isNaN(u)&&t>=u&&u>=e&&(e=u,r=n[o])})),r}}function c(r){return"string"==typeof r?r.endsWith("px")?Number(r.slice(0,r.length-2)):Number(r):r}function f(r){if(null!=r)return"number"==typeof r?`${r}px`:r.endsWith("px")?r:`${r}px`}function l(r,t){const e=r.trim().split(/\s+/g),n={top:e[0]};switch(e.length){case 1:n.right=e[0],n.bottom=e[0],n.left=e[0];break;case 2:n.right=e[1],n.left=e[1],n.bottom=e[0];break;case 3:n.right=e[1],n.bottom=e[2],n.left=e[1];break;case 4:n.right=e[1],n.bottom=e[2],n.left=e[3];break;default:throw new Error("[seemly/getMargin]:"+r+" is not a valid value.")}return void 0===t?n:n[t]}function $(r,t){const[e,n]=r.split(" ");return{row:e,col:n||e}}const p={black:"#000",silver:"#C0C0C0",gray:"#808080",white:"#FFF",maroon:"#800000",red:"#F00",purple:"#800080",fuchsia:"#F0F",green:"#008000",lime:"#0F0",olive:"#808000",yellow:"#FF0",navy:"#000080",blue:"#00F",teal:"#008080",aqua:"#0FF",transparent:"#0000"},g="^\\s*",d="\\s*$",h="\\s*((\\.\\d+)|(\\d+(\\.\\d*)?))\\s*",y="([0-9A-Fa-f])",m="([0-9A-Fa-f]{2})",b=new RegExp(`${g}rgb\\s*\\(${h},${h},${h}\\)${d}`),w=new RegExp(`${g}rgba\\s*\\(${h},${h},${h},${h}\\)${d}`),v=new RegExp(`${g}#${y}${y}${y}${d}`),x=new RegExp(`${g}#${m}${m}${m}${d}`),F=new RegExp(`${g}#${y}${y}${y}${y}${d}`),A=new RegExp(`${g}#${m}${m}${m}${m}${d}`);function E(r){return parseInt(r,16)}function N(r){try{let t;if(t=x.exec(r))return[E(t[1]),E(t[2]),E(t[3]),1];if(t=b.exec(r))return[T(t[1]),T(t[5]),T(t[9]),1];if(t=w.exec(r))return[T(t[1]),T(t[5]),T(t[9]),q(t[13])];if(t=v.exec(r))return[E(t[1]+t[1]),E(t[2]+t[2]),E(t[3]+t[3]),1];if(t=A.exec(r))return[E(t[1]),E(t[2]),E(t[3]),q(E(t[4])/255)];if(t=F.exec(r))return[E(t[1]+t[1]),E(t[2]+t[2]),E(t[3]+t[3]),q(E(t[4]+t[4])/255)];if(r in p)return N(p[r]);throw new Error(`[seemly/rgba]: Invalid color value ${r}.`)}catch(t){throw t}}function k(r,t,e,n){return`rgba(${T(r)}, ${T(t)}, ${T(e)}, ${o=n,o>1?1:o<0?0:o})`;var o}function R(r,t,e,n,o){return T((r*t*(1-n)+e*n)/o)}function M(r,t){Array.isArray(r)||(r=N(r)),Array.isArray(t)||(t=N(t));const e=r[3],n=t[3],o=q(e+n-e*n);return k(R(r[0],e,t[0],n,o),R(r[1],e,t[1],n,o),R(r[2],e,t[2],n,o),o)}function C(r,t){const[e,n,o,u=1]=Array.isArray(r)?r:N(r);return t.alpha?k(e,n,o,t.alpha):k(e,n,o,u)}function S(r,t){const[e,n,o,u=1]=Array.isArray(r)?r:N(r),{lightness:i=1,alpha:a=1}=t;return function(r){const[t,e,n]=r;if(3 in r)return`rgba(${T(t)}, ${T(e)}, ${T(n)}, ${q(r[3])})`;return`rgba(${T(t)}, ${T(e)}, ${T(n)}, 1)`}([e*i,n*i,o*i,u*a])}function q(r){const t=Math.round(100*Number(r))/100;return t>1?1:t<0?0:t}function T(r){const t=Math.round(Number(r));return t>255?255:t<0?0:t}function W(r=8){return Math.random().toString(16).slice(2,2+r)}function j(r,t){const e=[];for(let n=0;n<r;++n)e.push(t);return e}export{a,C as b,M as c,c as d,o as e,W as f,l as g,i as h,j as i,n as j,$ as k,s as l,f as p,N as r,S as s,u};
