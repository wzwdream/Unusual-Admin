import{u as J,_ as O,a as W}from"./index-BDHnYcWd.js";import{_ as X,a as Y}from"./queryItem.vue_vue_type_style_index_0_scope_true_lang-9s5bM4f4.js";import{e as Z,f as ee,i as oe}from"./index-EnRswSS-.js";import te from"./details-DGRd_NC2.js";import{d as b,a as v,h as ne,j as ae,ae as ie,m as le,bK as i,y as t,u as e,f as y}from"./@vue-BxoxtTAP.js";import{G as de,T as re,n as se,M as me,L as pe,H as ue}from"./naive-ui-BLfgJAqn.js";import"./vue-i18n-D8g7FhYN.js";import"./@intlify-ZcBRI--x.js";import"./lodash-es-DkZVwyoF.js";import"./pinia-CmUssEbr.js";import"./@vueuse-DrRc1vxu.js";import"./vue-echarts-CTGpP_pZ.js";import"./resize-detector-G6vbKCU7.js";import"./echarts-CuRpVpP4.js";import"./zrender-DGX4euIw.js";import"./tslib-BDyQ-Jie.js";import"./vue-router-dgZRC-ml.js";import"./@iconify-CL9SbJpr.js";import"./axios-B9ygI19o.js";import"./@codemirror-Dl84AIwu.js";import"./@lezer-BKSZuLkY.js";import"./crelt-C8TCjufn.js";import"./@marijn-DXwl3gUT.js";import"./style-mod-Bc2inJdb.js";import"./w3c-keyname-Vcq4gwWv.js";import"./pinia-plugin-persistedstate-RV7uh3T-.js";import"./date-fns-CMuzgvE5.js";import"./vueuc-CJldP7Lx.js";import"./evtd-CI_DDEu_.js";import"./seemly-DXTCRGqE.js";import"./@css-render-EhH995Cp.js";import"./vooks-Cw9CgJAa.js";import"./vdirs-DRH9Xvnd.js";import"./@juggle-C8OzoCMD.js";import"./css-render-BDrvWz3H.js";import"./@emotion-WldOFDRm.js";import"./treemate-DKekKYbv.js";import"./async-validator-9PlIezaS.js";const ce=b({name:"Dict"}),Ze=b({...ce,setup(_e){const p={add:["admin","dict:add"],del:["admin","dict:del"],edit:["admin","dict:edit"],download:["admin","dict:download"]},r=v([{type:"selection"},{title:"ID",key:"id"},{title:"字典名称",key:"name"},{title:"字典描述",key:"description"},{title:"操作",key:"actions",align:"center",fixed:"right",render(a){return[ne(O,{permission:p,onHandleDelete:()=>u(a.id),onHandleEdit:()=>c(a),onHandleView:()=>F(a)})]}}]),l=v(),h=a=>({style:"cursor: pointer;",onClick:()=>{l.value=a}}),k=ae(()=>a=>{var o;return a.id===((o=l.value)==null?void 0:o.id)?"selected-row":""}),D={name:[{required:!0,message:"请输入字典名称",trigger:"blur"}]},{modalVisible:s,modalAction:R,modalShowFooter:x,modalTitle:U,modalLoading:B,handleAdd:C,handleDelete:u,handleEdit:c,handleDownload:S,handleView:F,handleSave:K,handlereset:A,defualtQuery:_,modalForm:d,modalFormRef:E,changeCheckRow:H,listQuery:L,listData:V,pagination:$,loading:q,rowKey:Q,btnDisabled:M,checkedRowKeys:N}=J({name:"字典",url:"/dict",key:"id",initForm:{name:"",description:"",id:void 0},initQuery:{name:""},doCreate:Z,doDelete:ee,doUpdate:oe,afterRefresh:a=>(l.value=void 0,a)});return(a,o)=>{const m=se,T=Y,j=re,z=X,f=pe,G=me,I=W,g=de,P=ue;return le(),ie(P,{cols:"4","item-responsive":"","y-gap":8,"x-gap":10,responsive:"screen"},{default:i(()=>[t(g,{span:"4 m:2 l:2 xl:2"},{default:i(()=>[t(z,{columns:e(r),"onUpdate:columns":o[1]||(o[1]=n=>y(r)?r.value=n:null),btnDisabled:e(M),permission:p,onSearch:e(L),onReset:e(A),onAdd:e(C),onDelete:e(u),onEdit:e(c),onDownload:e(S)},{queryBar:i(()=>[t(T,{label:"名称"},{default:i(()=>[t(m,{value:e(_).name,"onUpdate:value":o[0]||(o[0]=n=>e(_).name=n),size:"small",placeholder:"输入字典名称或者描述"},null,8,["value"])]),_:1})]),default:i(()=>[t(j,{columns:e(r),data:e(V),pagination:e($),loading:e(q),"row-key":e(Q),"row-props":h,"row-class-name":e(k),striped:"",remote:!0,"checked-row-keys":e(N),"onUpdate:checkedRowKeys":e(H)},null,8,["columns","data","pagination","loading","row-key","row-class-name","checked-row-keys","onUpdate:checkedRowKeys"])]),_:1},8,["columns","btnDisabled","onSearch","onReset","onAdd","onDelete","onEdit","onDownload"]),t(I,{visible:e(s),"onUpdate:visible":o[4]||(o[4]=n=>y(s)?s.value=n:null),title:e(U),loading:e(B),"show-footer":e(x),width:"450px",onSave:e(K)},{default:i(()=>[t(G,{ref_key:"modalFormRef",ref:E,"label-placement":"left","label-align":"right","label-width":80,model:e(d),rules:D,disabled:e(R)==="view"},{default:i(()=>[t(f,{label:"字典名称",path:"name"},{default:i(()=>[t(m,{value:e(d).name,"onUpdate:value":o[2]||(o[2]=n=>e(d).name=n)},null,8,["value"])]),_:1}),t(f,{label:"描述",path:"description"},{default:i(()=>[t(m,{value:e(d).description,"onUpdate:value":o[3]||(o[3]=n=>e(d).description=n)},null,8,["value"])]),_:1})]),_:1},8,["model","disabled"])]),_:1},8,["visible","title","loading","show-footer","onSave"])]),_:1}),t(g,{span:"4 m:2 l:2 xl:2"},{default:i(()=>{var n,w;return[t(te,{pid:(n=e(l))==null?void 0:n.id,name:(w=e(l))==null?void 0:w.name},null,8,["pid","name"])]}),_:1})]),_:1})}}});export{Ze as default};
