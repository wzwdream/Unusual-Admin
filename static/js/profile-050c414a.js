import{u as e}from"./useDict-ee6d694e.js";import{u as a}from"./index-1bb12b99.js";import{a as l,b as n}from"./calibrationRules-6d34d65c.js";import{h as s,s as u,M as t,aR as r,aP as p,o as i,q as o,k as d,w as m,t as f,E as v,l as _,Q as b,C as c,a3 as g,Y as h,aV as w,W as y,aA as j,S as q,aT as x,F as E,aU as R,aW as U,aX as k,aB as P}from"./.pnpm-90504e03.js";import{_ as C}from"./resetPwd.vue_vue_type_script_setup_true_name_ResetPwd_lang-2f4ca697.js";import"./dict-3e304d61.js";const D=f("span",null,"登录账号：",-1),F=f("span",null,"邮箱：",-1),I=f("span",null,"手机号：",-1),S=f("span",null,"性别：",-1),W=s({name:"Profile"}),z=s({...W,setup(s){const W=a(),{userInfo:z}=u(W),{getDictLabel:A}=e(["sex"]),B=t(null),L=t("user");r().query.pwd&&(L.value="pwd");const M=t(null),N=p({phone:z.value.phone,name:z.value.name,email:z.value.email}),Q={name:[{required:!0,message:"请输入用户昵称",trigger:"blur"}],email:[{required:!0,validator:(e,a)=>a?!!l(e,a)||new Error("邮箱格式不正确"):new Error("请输入邮箱"),trigger:["input","blur"]}],phone:[{required:!0,validator:(e,a)=>a?!!n(e,a)||new Error("手机号格式不正确"):new Error("请输入手机号"),trigger:["input","blur"]}]},T=()=>{var e;null==(e=M.value)||e.validate((e=>{}))};return(e,a)=>{const l=g,n=h,s=w,u=y,t=j,r=q,p=x,W=E,V=R,X=U,Y=k,G=P;return i(),o("div",null,[d(G,{cols:"5","item-responsive":"","y-gap":8,"x-gap":10},{default:m((()=>[d(t,{span:"0:5 768:2"},{default:m((()=>[d(u,{segmented:{content:!0}},{header:m((()=>[d(n,{align:"center"},{default:m((()=>[d(l,{round:"",size:64,src:"/logo.webp",class:"bg-[#fff]"}),f("span",null,v(_(z).name),1)])),_:1})])),default:m((()=>[f("div",null,[D,f("span",null,v(_(z).userName),1)]),d(s),f("div",null,[F,f("span",null,v(_(z).email),1)]),d(s),f("div",null,[I,f("span",null,v(_(z).phone),1)]),d(s),f("div",null,[S,f("span",null,v(_(A)("sex",String(_(z).sex))),1)])])),_:1})])),_:1}),d(t,{span:"0:5 768:3"},{default:m((()=>[d(u,{title:"基本资料",segmented:{content:!0}},{default:m((()=>[d(Y,{ref_key:"tabsInstRef",ref:B,type:"line",animated:"",value:_(L),"onUpdate:value":a[3]||(a[3]=e=>b(L)?L.value=e:null)},{default:m((()=>[d(X,{name:"user",tab:"用户设置"},{default:m((()=>[d(V,{ref_key:"modalFormRef",ref:M,"label-placement":"left","label-align":"right","label-width":80,model:_(N),rules:Q},{default:m((()=>[d(p,{label:"用户昵称",path:"name"},{default:m((()=>[d(r,{value:_(N).name,"onUpdate:value":a[0]||(a[0]=e=>_(N).name=e),clearable:""},null,8,["value"])])),_:1}),d(p,{label:"电话",path:"phone"},{default:m((()=>[d(r,{value:_(N).phone,"onUpdate:value":a[1]||(a[1]=e=>_(N).phone=e),clearable:""},null,8,["value"])])),_:1}),d(p,{label:"邮箱",path:"email"},{default:m((()=>[d(r,{value:_(N).email,"onUpdate:value":a[2]||(a[2]=e=>_(N).email=e),clearable:""},null,8,["value"])])),_:1}),d(W,{type:"primary",onClick:T},{default:m((()=>[c("保存")])),_:1})])),_:1},8,["model"])])),_:1}),d(X,{name:"pwd",tab:"修改密码"},{default:m((()=>[d(C)])),_:1})])),_:1},8,["value"])])),_:1})])),_:1})])),_:1})])}}});export{z as default};
