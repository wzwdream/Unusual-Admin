import{e as a,l as e,u as l,g as s,_ as r,a as n}from"./index-fab4c514.js";import{h as o,M as t,aT as i,aU as d,aG as u,O as c,o as p,q as h,t as g,k as m,w as v,l as f,aV as w,C as b,X as y,F as _,Y as k,S as x,aW as U,aX as q,a7 as T,aB as C,aC as z}from"./.pnpm-d3a0ebca.js";import{c as K,a as j,b as F}from"./calibrationRules-6d34d65c.js";const I=a=>(C("data-v-9f67518f"),a=a(),z(),a),L={"wh-full":"","f-c-c":"",class:"bg-content"},M={class:"form-container sign-in-container"},R=I((()=>g("h1",{"m-0":""},"登录",-1))),H=I((()=>g("span",{"mb-10":"","font-size-12":""},"或者使用你的账号",-1))),X=["innerHTML"],B=I((()=>g("div",{flex:"","mb-10":"","min-w-308":""},[g("span",{"font-size-12":""},"忘记密码？")],-1))),G={class:"form-container sign-up-container"},O=I((()=>g("h1",{"m-0":""},"注册",-1))),S={class:"overlay-container"},V={class:"overlay"},W={class:"overlay-panel overlay-left"},Y=I((()=>g("p",null,"要与我们保持联系，请使用您的个人信息登录",-1))),A={class:"overlay-panel overlay-right"},D=I((()=>g("p",null,"非常感谢您选择我们！我们将竭诚为您提供最优质、最全面的服务。",-1))),E=o({name:"Login"}),J=n(o({...E,setup(n){const o=t("signUp"),C=i({name:"admin",password:"widgets@123",captchaText:"eybk",captchaUid:""}),z=t(null),I=t(!1),E=d(),J={name:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],captchaText:[{required:!0,message:"请输入验证码",trigger:"blur"}]},N=u(),P=c(),Q=()=>{var s;null==(s=z.value)||s.validate((s=>{if(!s){I.value=!0;const s={...C,password:a(C.password)};e(s).then((async a=>{I.value=!1,E.success("登录成功,欢迎回来");l().setToken(a.data);const{redirect:e}=N.query;P.push(e||"/")})).catch((()=>{I.value=!1,$()}))}}))},Z=t(""),$=()=>{s().then((a=>{Z.value=a.data.captcha,C.captchaUid=a.data.uid}))};$();const aa=i({name:"",pwd:"",email:"",phone:""}),ea={name:[{required:!0,message:"请输入用户名",trigger:"blur"}],pwd:[{required:!0,message:"请输入密码",trigger:"blur"},{validator:K,message:"密码格式不正确",trigger:"input"}],email:[{required:!0,message:"请输入邮箱",trigger:"blur"},{validator:j,message:"请输入正确的邮箱",trigger:"input"}],phone:[{required:!0,message:"请输入手机号",trigger:"blur"},{validator:F,message:"请输入正确的手机号",trigger:"input"}]},la=t(null),sa=t(!1),ra=()=>{var a;null==(a=la.value)||a.validate((a=>{}))};return(a,e)=>{const l=r,s=_,n=k,t=x,i=U,d=q,u=T;return p(),h("div",L,[g("div",{class:y(["bg-white rd-12 relative w768 max-w-full min-h-480 card-shadow dark:bg-dark",{"right-panel-active":"signIn"===f(o)}])},[g("div",M,[m(d,{ref_key:"loginFormRef",ref:z,size:"small","show-label":!1,model:f(C),rules:J,class:"flex-col-c bg-white h-full rounded-10"},{default:v((()=>[R,m(n,{"my-20":""},{default:v((()=>[m(s,{circle:""},{icon:v((()=>[m(l,{icon:"bi:tencent-qq"})])),_:1}),m(s,{circle:""},{icon:v((()=>[m(l,{icon:"tabler:brand-wechat"})])),_:1}),m(s,{circle:""},{icon:v((()=>[m(l,{icon:"mdi:github"})])),_:1})])),_:1}),H,m(i,{path:"name",class:"w-[80%]"},{default:v((()=>[m(t,{value:f(C).name,"onUpdate:value":e[0]||(e[0]=a=>f(C).name=a),placeholder:"请输入账户名称"},null,8,["value"])])),_:1}),m(i,{path:"password",class:"w-[80%]"},{default:v((()=>[m(t,{value:f(C).password,"onUpdate:value":e[1]||(e[1]=a=>f(C).password=a),type:"password","show-password-on":"mousedown",placeholder:"请输入账户密码",maxlength:12},null,8,["value"])])),_:1}),m(i,{path:"captchaText",class:"w-[80%]"},{default:v((()=>[m(t,{value:f(C).captchaText,"onUpdate:value":e[2]||(e[2]=a=>f(C).captchaText=a),placeholder:"请输入验证码"},null,8,["value"]),g("div",{onClick:$,innerHTML:f(Z),"h-28":"","w-100":"","cursor-pointer":""},null,8,X)])),_:1}),B,m(s,{class:"w-[40%] font-bold",round:"",type:"primary",loading:f(I),onClick:Q,onKeyup:w(Q,["enter"])},{default:v((()=>[b("登录")])),_:1},8,["loading","onKeyup"])])),_:1},8,["model"])]),g("div",G,[m(d,{ref_key:"registFormRef",ref:la,size:"small","show-label":!1,model:f(aa),rules:ea,class:"flex-col-c bg-white h-full rounded-10"},{default:v((()=>[O,m(i,{path:"name",class:"w-[80%]"},{default:v((()=>[m(t,{value:f(aa).name,"onUpdate:value":e[3]||(e[3]=a=>f(aa).name=a),placeholder:"请输入账户名称"},null,8,["value"])])),_:1}),m(i,{path:"pwd",class:"w-[80%]"},{default:v((()=>[m(t,{value:f(aa).pwd,"onUpdate:value":e[4]||(e[4]=a=>f(aa).pwd=a),type:"password","show-password-on":"click",placeholder:"请输入账户密码",maxlength:12},null,8,["value"])])),_:1}),m(i,{path:"email",class:"w-[80%]"},{default:v((()=>[m(t,{value:f(aa).email,"onUpdate:value":e[5]||(e[5]=a=>f(aa).email=a),placeholder:"请输入邮箱"},null,8,["value"])])),_:1}),m(i,{path:"phone",class:"w-[80%]"},{default:v((()=>[m(t,{value:f(aa).phone,"onUpdate:value":e[6]||(e[6]=a=>f(aa).phone=a),placeholder:"请输入手机号"},null,8,["value"])])),_:1}),m(s,{class:"w-[40%] font-bold",round:"",type:"primary",loading:f(sa),onKeyup:w(ra,["enter"]),onClick:ra},{default:v((()=>[b("注册")])),_:1},8,["loading","onKeyup"])])),_:1},8,["model"])]),g("div",S,[g("div",V,[g("div",W,[g("h1",null,[b("欢迎回来！"),m(u,{width:"48",height:"48","preview-disabled":"",src:"/logo.webp",class:"b-rd-[50%]"})]),Y,m(s,{ghost:"",round:"",color:"#fff",onClick:e[7]||(e[7]=a=>o.value="signUp")},{default:v((()=>[b("去登录")])),_:1})]),g("div",A,[g("h1",null,[b("你好，朋友！"),m(u,{width:"48",height:"48","preview-disabled":"",src:"/logo.webp",class:"b-rd-[50%]"})]),D,m(s,{ghost:"",round:"",color:"#fff",onClick:e[8]||(e[8]=a=>o.value="signIn")},{default:v((()=>[b("去注册")])),_:1})])])])],2)])}}}),[["__scopeId","data-v-9f67518f"]]);export{J as default};
