import{_ as A}from"./index-B38VnuD9.js";import{a as F,v as $,j as J,w as L,l as u,m,af as s,bb as g,F as y,aY as N,aK as S,aU as V,aS as B}from"./@vue-CRj7PaMA.js";import"./@vueuse-Bot-wEr0.js";import"./pinia-B-btkknc.js";import"./vue-demi-Dq6ymT-8.js";import"./vue-i18n-BZ7cv-U7.js";import"./@intlify-Y34EtYYP.js";import"./naive-ui-ItunR-2b.js";import"./date-fns-BAYWyKT4.js";import"./@babel-dN-1QE0A.js";import"./vueuc-DHpchg3q.js";import"./evtd-CI_DDEu_.js";import"./seemly-pQYQdLy2.js";import"./@css-render-CcHFHqZ8.js";import"./vooks-Vv8Q4iio.js";import"./vdirs-Bxp-63WN.js";import"./@juggle-C8OzoCMD.js";import"./css-render-BDrvWz3H.js";import"./@emotion-WldOFDRm.js";import"./lodash-es-q_UuXcXk.js";import"./treemate-DKekKYbv.js";import"./async-validator-DKvM95Vc.js";import"./vue-echarts-C0IzmTCj.js";import"./resize-detector-G6vbKCU7.js";import"./echarts-BhkYWNed.js";import"./zrender-DGIA2jg-.js";import"./tslib-BDyQ-Jie.js";import"./vue-router-DYGa2EEA.js";import"./@iconify-D4xAYz74.js";import"./axios-B4uVmeYG.js";import"./@codemirror-uT1p_ncg.js";import"./@lezer-COsil1JX.js";import"./crelt-C8TCjufn.js";import"./style-mod-Bc2inJdb.js";import"./w3c-keyname-Vcq4gwWv.js";import"./pinia-plugin-persistedstate-RV7uh3T-.js";import"./vite-plugin-mock-CVu1TUMM.js";import"./mockjs-SqilSaKE.js";import"./path-to-regexp-D27XTR3m.js";const w=d=>(V("data-v-df242aae"),d=d(),B(),d),E={class:"diy-calendar-wrapper"},P={class:"calendar-header"},R=w(()=>s("svg",{width:"30",height:"30"},[s("path",{d:"M 19,9 L 11,15 18,21",stroke:"rgba(95,147,238,0.3)",fill:"none","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),W=[R],z={class:"center-title"},K=w(()=>s("svg",{width:"30",height:"30"},[s("path",{d:"M 11,9 L 18,15 11,21",stroke:"rgba(95,147,238,0.3)",fill:"none","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),U=[K],X={class:"diy-calendar-table"},q={class:"table-header-row"},G=["data-date"],H={class:"td-content-box"},Q=["onClick"],Z=1900,ee=9999,te={__name:"CalendarComponent",props:{modelValue:Date},emits:["update:modelValue"],setup(d,{emit:M}){const k=d,j=M,o=F(k.modelValue),D={chineseFullName:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],fullName:["January","February","March","April","May","June","July","August","September","October","November","December"],mmm:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},f=[{chineseFullName:"周日",chineseShortName:"日",fullName:"Sunday",shortName:"Sun",dayNumber:0},{chineseFullName:"周一",chineseShortName:"一",fullName:"Monday",shortName:"Mon",dayNumber:1},{chineseFullName:"周二",chineseShortName:"二",fullName:"Tuesday",shortName:"Tue",dayNumber:2},{chineseFullName:"周三",chineseShortName:"三",fullName:"Wednesday",shortName:"Wed",dayNumber:3},{chineseFullName:"周四",chineseShortName:"四",fullName:"Thursday",shortName:"Thu",dayNumber:4},{chineseFullName:"周五",chineseShortName:"五",fullName:"Friday",shortName:"Fri",dayNumber:5},{chineseFullName:"周六",chineseShortName:"六",fullName:"Saturday",shortName:"Sat",dayNumber:6}],C=new Date,e=$({target:{year:null,month:null,date:null,day:null,monthShortName:null,monthFullName:null,monthChineseFullName:null,firstDay:null,firstDayIndex:null,totalDays:null},previous:{totalDays:null}}),b=F([]);p();function p(){v(),T()}function v(){if(o.value||(o.value=C),e.target.year=o.value.getFullYear(),e.target.month=o.value.getMonth(),e.target.date=o.value.getDate(),e.target.day=o.value.getDay(),e.target.year<Z||e.target.year>ee){console.error("无效的年份，请检查传入的数据是否是正常");return}let a;a=o.value.toString().split(" "),e.target.monthShortName=a[1],e.target.monthFullName=D.fullName[e.target.month],e.target.monthChineseFullName=D.chineseFullName[e.target.month];const t=new Date(e.target.year,e.target.month,1);e.target.firstDay=t.getDay(),e.target.firstDayIndex=f.findIndex(n=>n.dayNumber===e.target.firstDay);const r=new Date(e.target.year,e.target.month+1,0);e.target.totalDays=r.getDate();const l=new Date(e.target.year,e.target.month,0);e.previous.totalDays=l.getDate(),console.log("calendarProps:",e)}function T(){let a,t=1;const r=[],l=[];for(a=0;a<=6;a++)if(a<e.target.firstDayIndex){const n=e.previous.totalDays-e.target.firstDayIndex+(a+1);l.push({dateObj:new Date(e.target.year,e.target.month-1,n),dateNumber:n,dateType:"previous"})}else l.push({dateObj:new Date(e.target.year,e.target.month,t),dateNumber:t,dateType:"current"}),t++;r.push(l);for(let n=0;n<=4;n++){const i=[];for(let c=0;c<=6;c++){if(t<=e.target.totalDays)i.push({dateObj:new Date(e.target.year,e.target.month,t),dateNumber:t,dateType:"current"});else{const h=t-e.target.totalDays;i.push({dateObj:new Date(e.target.year,e.target.month+1,h),dateNumber:h,dateType:"next"})}t++}r.push(i)}b.value=r}function O(a){const t=a.dateObj,r=t.getFullYear(),l=t.getMonth(),n=t.getDate(),i=o.value.getFullYear(),c=o.value.getMonth(),h=o.value.getDate();return r===i&&l===c&&n===h}function x(a){return a.dateType==="current"}function I(a){const t=a.dateObj,r=o.value;t.getTime()!==r.getTime()&&(a.dateType==="current"?(o.value=a.dateObj,v()):(o.value=a.dateObj,p()))}function _(a){let t=e.target.month,r=e.target.year;o.value=e.target.date,t+=a,t>11?(r+=1,t=0):t<0&&(r-=1,t=11),o.value=new Date(r,t,o.value),p()}const Y=J(()=>{const a=o.value.getMonth()+1;let t="";return a>10?t=a+"":t="0"+a,`${o.value.getFullYear()}.${t}`});return L(o,a=>{j("update:modelValue",a)}),(a,t)=>(u(),m("div",E,[s("div",P,[s("div",{class:"left-arrow",onClick:t[0]||(t[0]=r=>_(-1))},W),s("div",z,g(Y.value),1),s("div",{class:"right-arrow",onClick:t[1]||(t[1]=r=>_(1))},U)]),s("table",X,[s("thead",null,[s("tr",q,[(u(),m(y,null,N(f,r=>s("th",{key:r.chineseShortName,class:"table-header"},g(r.shortName),1)),64))])]),s("tbody",null,[(u(!0),m(y,null,N(b.value,(r,l)=>(u(),m("tr",{class:"table-body-row",key:l},[(u(!0),m(y,null,N(r,n=>(u(),m("td",{class:"table-data","data-date":n.dateNumber,key:`${n.dateObj.getMonth()}-${n.dateNumber}`},[s("div",H,[s("div",{class:S(["content-border",{selected:O(n)}]),onClick:i=>I(n)},[s("div",{class:S(["date-number",{current:x(n)}])},g(n.dateNumber),3)],10,Q)])],8,G))),128))]))),128))])])]))}},Ee=A(te,[["__scopeId","data-v-df242aae"]]);export{Ee as default};
