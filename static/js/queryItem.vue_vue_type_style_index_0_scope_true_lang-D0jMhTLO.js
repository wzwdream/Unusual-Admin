import{a as T,d as P,q as C}from"./index-B38VnuD9.js";import{B as U,a3 as Q,n as V,a4 as Y,a5 as Z,f as A,a6 as G,m as H}from"./naive-ui-ItunR-2b.js";import{d as S,a as I,l as s,ad as i,by as e,q as o,u as r,f as W,B as c,bb as p,m as L,F as j,aY as J,ae as y,a$ as K,L as z,aZ as D,D as M,af as E,P as R}from"./@vue-CRj7PaMA.js";import{s as O}from"./pinia-B-btkknc.js";const X=S({name:"ColumSetting"}),x=S({...X,props:{columns:{}},emits:["updateColumns"],setup(B,{emit:b}){const a=B,f=b,k=I(!0),h=I(!1),m=I([]),d=[...a.columns.map(l=>(m.value.push(l.key),{...l}))],t=l=>{h.value=!1,l?(d.map(u=>{m.value.push(u.key)}),f("updateColumns",d)):(m.value=[],f("updateColumns",[]))},n=l=>{var g;m.value=l,h.value=((g=m.value)==null?void 0:g.length)!==d.length;const u=d.filter($=>m.value.includes($.key));f("updateColumns",u)};return(l,u)=>{const g=T,$=U,q=Q,F=V,N=Y,w=Z,_=A;return s(),i(_,{trigger:"hover"},{trigger:e(()=>[o(w,{trigger:"click",placement:"bottom"},{trigger:e(()=>[o($,{ghost:""},{icon:e(()=>[o(g,{icon:"basil:settings-alt-outline"})]),_:1})]),header:e(()=>[o(F,{justify:"space-between"},{default:e(()=>[o(q,{checked:r(k),"onUpdate:checked":[u[0]||(u[0]=v=>W(k)?k.value=v:null),t],indeterminate:r(h)},{default:e(()=>[c(p(l.$t("colSetting")),1)]),_:1},8,["checked","indeterminate"])]),_:1})]),default:e(()=>[o(N,{value:r(m),"onUpdate:value":u[1]||(u[1]=v=>W(m)?m.value=v:null),"on-update:value":n},{default:e(()=>[o(F,{vertical:""},{default:e(()=>[(s(),L(j,null,J(d,v=>(s(),L(j,null,[v.type!=="selection"?(s(),i(q,{key:v.key,value:v.key,label:v.title},null,8,["value","label"])):y("",!0)],64))),64))]),_:1})]),_:1},8,["value"])]),_:1})]),default:e(()=>[c(" "+p(l.$t("colShowcase")),1)]),_:1})}}}),ee={flex:"","flex-items-center":""},te=S({name:"BasicLayout"}),de=S({...te,props:{columns:{},optShow:{default:()=>({add:!0,edit:!0,del:!0,download:!0})},toolbar:{type:Boolean,default:!0},querybar:{type:Boolean,default:!0},btnDisabled:{default:()=>({edit:!1,del:!1,download:!1})},permission:{default:()=>({add:[],edit:[],del:[],download:[]})}},emits:["add","delete","edit","download","reset","search","update:columns"],setup(B,{emit:b}){const a=B,f=I(!0),k=P(),{fullContent:h}=O(k),m=()=>{k.setFullContent(!h)},d=b;return(t,n)=>{const l=U,u=V,g=T,$=A,q=x,F=G,N=H,w=K("permission");return s(),i(N,{segmented:{content:!0},"content-style":"padding: 10px;","header-style":"padding: 10px;"},{header:e(()=>[z(o(u,{"mb-10":"",align:"center"},{default:e(()=>[D(t.$slots,"queryBar"),a.querybar?(s(),i(u,{key:0,"translate-y-3":""},{default:e(()=>[o(l,{type:"primary",size:"small",secondary:"","render-icon":r(C)("mdi:magnify",14),onClick:n[0]||(n[0]=_=>d("search"))},{default:e(()=>[c(p(t.$t("search")),1)]),_:1},8,["render-icon"]),o(l,{type:"warning",size:"small",secondary:"","render-icon":r(C)("mdi:restore",14),onClick:n[1]||(n[1]=_=>d("reset"))},{default:e(()=>[c(p(t.$t("reset")),1)]),_:1},8,["render-icon"])]),_:1})):y("",!0)]),_:3},512),[[M,r(f)]]),o(u,{justify:"space-between",align:"center"},{default:e(()=>[D(t.$slots,"toolbarLeft"),E("div",ee,[a.optShow.add?z((s(),i(l,{key:0,"mr-10":"",type:"primary",size:"tiny","render-icon":r(C)("material-symbols:add-rounded",14),onClick:n[2]||(n[2]=_=>d("add"))},{default:e(()=>[c(p(t.$t("add")),1)]),_:1},8,["render-icon"])),[[w,t.permission.add]]):y("",!0),a.optShow.edit?z((s(),i(l,{key:1,"mr-10":"",disabled:a.btnDisabled.edit,type:"warning",size:"tiny","render-icon":r(C)("material-symbols:edit-outline",14),onClick:n[3]||(n[3]=_=>d("edit"))},{default:e(()=>[c(p(t.$t("edit")),1)]),_:1},8,["disabled","render-icon"])),[[w,t.permission.edit]]):y("",!0),a.optShow.del?z((s(),i(l,{key:2,"mr-10":"",disabled:a.btnDisabled.del,type:"error",size:"tiny","render-icon":r(C)("material-symbols:delete-outline",14),onClick:n[4]||(n[4]=_=>d("delete"))},{default:e(()=>[c(p(t.$t("delete")),1)]),_:1},8,["disabled","render-icon"])),[[w,t.permission.del]]):y("",!0),a.optShow.download?z((s(),i(l,{key:3,disabled:a.btnDisabled.download,type:"info",size:"tiny","render-icon":r(C)("material-symbols:download-rounded",14),onClick:n[5]||(n[5]=_=>d("download"))},{default:e(()=>[c(p(t.$t("export")),1)]),_:1},8,["disabled","render-icon"])),[[w,t.permission.download]]):y("",!0)]),a.toolbar?(s(),i(u,{key:0},{default:e(()=>[o(F,{size:"tiny"},{default:e(()=>[o($,{trigger:"hover"},{trigger:e(()=>[o(l,{ghost:"",onClick:n[6]||(n[6]=_=>f.value=!r(f))},{default:e(()=>[r(f)?(s(),i(g,{key:0,icon:"ic:outline-search-off"})):(s(),i(g,{key:1,icon:"mdi:magnify"}))]),_:1})]),default:e(()=>[c(" "+p(r(f)?t.$t("retractSearch"):t.$t("expandSearch")),1)]),_:1}),o($,{trigger:"hover"},{trigger:e(()=>[o(l,{ghost:"",onClick:m},{default:e(()=>[r(h)?(s(),i(g,{key:1,icon:"ant-design:fullscreen-exit-outlined"})):(s(),i(g,{key:0,icon:"ant-design:fullscreen-outlined"}))]),_:1})]),default:e(()=>[c(" "+p(r(h)?t.$t("exitFullscreen"):t.$t("fullscreen")),1)]),_:1}),o($,{trigger:"hover"},{trigger:e(()=>[o(l,{ghost:"",onClick:n[7]||(n[7]=_=>d("search"))},{default:e(()=>[o(g,{icon:"ant-design:reload-outlined"})]),_:1})]),default:e(()=>[c(" "+p(t.$t("refresh")),1)]),_:1}),o(q,{columns:a.columns,onUpdateColumns:n[8]||(n[8]=_=>d("update:columns",_))},null,8,["columns"])]),_:1})]),_:1})):y("",!0),D(t.$slots,"toolbarRight")]),_:3})]),default:e(()=>[D(t.$slots,"default")]),_:3})}}}),ne={key:0,class:"color-[#d03050] flex-shrink-0"},oe=S({name:"QueryItem"}),ie=S({...oe,props:{label:{default:""},labelWidth:{default:"auto"},contentWidth:{default:180},required:{type:Boolean,default:!1}},setup(B){const b=B;return(a,f)=>{const k=V;return s(),i(k,{align:"center"},{default:e(()=>[b.label?(s(),L("label",{key:0,class:"flex-shrink-0 flex justify-end pr-10 text-font",style:R({width:b.labelWidth})},[b.required?(s(),L("span",ne,"*Â ")):y("",!0),c(" "+p(a.label),1)],4)):y("",!0),E("div",{style:R({width:b.contentWidth+"px"}),"flex-shrink-0":""},[D(a.$slots,"default")],4)]),_:3})}}});export{ie as _,de as a};
