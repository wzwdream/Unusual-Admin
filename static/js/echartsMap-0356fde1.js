import{h as e,ao as a,ap as t,ar as o,as as s,at as r,aw as n,a_ as l,a$ as i,b0 as c,b1 as p,b2 as d,M as m,i as u,o as f,q as h,k as y,l as b,ay as v,a5 as w,a6 as g,w as S,C,af as x,b3 as z,F as _,aE as E}from"./.pnpm-6218793e.js";import{c as $}from"./index-efa1ea8b.js";const B=e({name:"EchartsMap"}),F=e({...B,setup(e){a([t,o,s,r,n,l,i,c,p]);const B=d(),F=m(),M=m([]),k=u((()=>0!==M.value.length)),T=async e=>{const a=await(async e=>{const a=`../../assets/mapJson/${e}.json`;return await E((()=>import(a)),[])})(e);z(e,a);const t=a.features.map((e=>{const a=(80*Math.random()+20).toFixed(0),t=e.properties.center?[...e.properties.center,a]:e.properties.center;return{name:e.properties.name,value:t,adcode:e.properties.adcode,level:e.properties.level,data:a}}));F.value=((e,a)=>({tooltip:{show:!0,formatter:function(e){if(e&&e.data){const{adcode:a,name:t,data:o}=e.data;return`adcode: ${a}<br>name: ${t}<br>data: ${o}`}}},visualMap:{show:!0,min:0,max:100,left:"left",top:"bottom",text:["高","低"],calculable:!0,seriesIndex:[0],inRange:{color:["#00467F","#A5CC82"]}},geo:{map:e,roam:!0,select:!1,selectedMode:"single",label:{show:!0},emphasis:{itemStyle:{areaColor:"#389BB7",borderColor:"#389BB7",borderWidth:0},label:{fontSize:14}}},series:[{type:"map",map:e,roam:!0,geoIndex:0,select:!1,data:a},{name:"散点",type:"scatter",coordinateSystem:"geo",data:a,itemStyle:{color:"#05C3F9"}},{name:"点",type:"scatter",coordinateSystem:"geo",symbol:"pin",symbolSize:function(e){if(e)return e[2]/4+20},label:{show:!0,formatter:function(e){return e.data.data||0},color:"#fff",fontSize:9},itemStyle:{color:"#F62157"},zlevel:6,data:a},{name:"Top 5",type:"effectScatter",coordinateSystem:"geo",data:a.map((e=>{if(e.data>60)return e})),symbolSize:15,showEffectOn:"render",rippleEffect:{brushType:"stroke"},label:{formatter:"{b}",position:"right",show:!0},itemStyle:{color:"yellow",shadowBlur:10,shadowColor:"yellow"},zlevel:1}]}))(e,t)};T("china");const j=e=>{if("map"!==e.seriesType)return;const{adcode:a}=e.data;if(M.value[M.value.length-1]===a)return B.warning({content:"已经是最下层了",duration:1e3});M.value.push(a),T(a)},I=()=>{const e=M.value[M.value.length-2]||"china";M.value.pop(),T(e)};return(e,a)=>{const t=_;return f(),h("div",{style:x(`height: ${b($)("main")};`),class:"wh-full pos-relative"},[y(b(v),{option:b(F),autoresize:!0,onClick:j},null,8,["option"]),w(y(t,{class:"pos-absolute top-10 left-10",onClick:I},{default:S((()=>[C("返回")])),_:1},512),[[g,b(k)]])],4)}}});export{F as default};
