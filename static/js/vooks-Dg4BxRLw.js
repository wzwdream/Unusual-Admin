import{a as e,r as t,w as n,j as o,e as a,o as c,x as i,E as u,v as r}from"./@vue-7s647Hg9.js";import{o as s,a as l}from"./evtd-hWw0KU7y.js";function d(o){const a=e(!!o.value);if(a.value)return t(a);const c=n(o,(e=>{e&&(a.value=!0,c())}));return t(a)}function f(t){const a=o(t),c=e(a.value);return n(a,(e=>{c.value=e})),"function"==typeof t?c:{__v_isRef:!0,get value(){return c.value},set value(e){t.set(e)}}}function v(){return null!==a()}const w="undefined"!=typeof window;let m,h;var k,p;function y(e){if(h)return;let t=!1;c((()=>{h||null==m||m.then((()=>{t||e()}))})),i((()=>{t=!0}))}m=w?null===(p=null===(k=document)||void 0===k?void 0:k.fonts)||void 0===p?void 0:p.ready:void 0,h=!1,void 0!==m?m.then((()=>{h=!0})):h=!0;const b=e(null);function g(e){if(e.clientX>0||e.clientY>0)b.value={x:e.clientX,y:e.clientY};else{const{target:t}=e;if(t instanceof Element){const{left:e,top:n,width:o,height:a}=t.getBoundingClientRect();b.value=e>0||n>0?{x:e+o/2,y:n+a/2}:{x:0,y:0}}else b.value=null}}let E=0,x=!0;function j(){if(!w)return t(e(null));0===E&&s("click",document,g,!0);const n=()=>{E+=1};return x&&(x=v())?(u(n),i((()=>{E-=1,0===E&&l("click",document,g,!0)}))):n(),t(b)}const M=e(void 0);let P=0;function S(){M.value=Date.now()}let T=!0;function L(n){if(!w)return t(e(!1));const o=e(!1);let a=null;function c(){null!==a&&window.clearTimeout(a)}function r(){c(),o.value=!0,a=window.setTimeout((()=>{o.value=!1}),n)}0===P&&s("click",window,S,!0);const d=()=>{P+=1,s("click",window,r,!0)};return T&&(T=v())?(u(d),i((()=>{P-=1,0===P&&l("click",window,S,!0),l("click",window,r,!0),c()}))):d(),t(o)}function C(e,t){return n(e,(e=>{void 0!==e&&(t.value=e)})),o((()=>void 0===e.value?t.value:e.value))}function D(){const n=e(!1);return c((()=>{n.value=!0})),t(n)}function O(e,t){return o((()=>{for(const n of t)if(void 0!==e[n])return e[n];return e[t[t.length-1]]}))}const _="undefined"!=typeof window&&(/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!window.MSStream;function q(){return _}const R={xs:0,s:640,m:1024,l:1280,xl:1536,"2xl":1920};const X={};function Y(t=R){if(!w)return o((()=>[]));if("function"!=typeof window.matchMedia)return o((()=>[]));const n=e({}),a=Object.keys(t),c=(e,t)=>{e.matches?n.value[t]=!0:n.value[t]=!1};return a.forEach((e=>{const n=t[e];let o,a;void 0===X[n]?(o=window.matchMedia(`(min-width: ${n}px)`),o.addEventListener?o.addEventListener("change",(t=>{a.forEach((n=>{n(t,e)}))})):o.addListener&&o.addListener((t=>{a.forEach((n=>{n(t,e)}))})),a=new Set,X[n]={mql:o,cbs:a}):(o=X[n].mql,a=X[n].cbs),a.add(c),o.matches&&a.forEach((t=>{t(o,e)}))})),i((()=>{a.forEach((e=>{const{cbs:n}=X[t[e]];n.has(c)&&n.delete(c)}))})),o((()=>{const{value:e}=n;return a.filter((t=>e[t]))}))}function B(e={},o){const a=r({ctrl:!1,command:!1,win:!1,shift:!1,tab:!1}),{keydown:c,keyup:d}=e,f=e=>{switch(e.key){case"Control":a.ctrl=!0;break;case"Meta":a.command=!0,a.win=!0;break;case"Shift":a.shift=!0;break;case"Tab":a.tab=!0}void 0!==c&&Object.keys(c).forEach((t=>{if(t!==e.key)return;const n=c[t];if("function"==typeof n)n(e);else{const{stop:t=!1,prevent:o=!1}=n;t&&e.stopPropagation(),o&&e.preventDefault(),n.handler(e)}}))},w=e=>{switch(e.key){case"Control":a.ctrl=!1;break;case"Meta":a.command=!1,a.win=!1;break;case"Shift":a.shift=!1;break;case"Tab":a.tab=!1}void 0!==d&&Object.keys(d).forEach((t=>{if(t!==e.key)return;const n=d[t];if("function"==typeof n)n(e);else{const{stop:t=!1,prevent:o=!1}=n;t&&e.stopPropagation(),o&&e.preventDefault(),n.handler(e)}}))},m=()=>{(void 0===o||o.value)&&(s("keydown",document,f),s("keyup",document,w)),void 0!==o&&n(o,(e=>{e?(s("keydown",document,f),s("keyup",document,w)):(l("keydown",document,f),l("keyup",document,w))}))};return v()?(u(m),i((()=>{(void 0===o||o.value)&&(l("keydown",document,f),l("keyup",document,w))}))):m(),t(a)}export{q as a,C as b,O as c,B as d,L as e,j as f,Y as g,d as h,D as i,y as o,f as u};
