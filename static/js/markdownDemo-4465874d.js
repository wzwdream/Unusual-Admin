import{h as e,i as a,o,j as d,l as t,Q as l,af as m,a_ as n,M as r}from"./.pnpm-222492af.js";import{b as s,s as u}from"./index-b3536dae.js";const p=e({name:"Markdown"}),i=e({...p,props:{editorId:{default:"markRaw_MdEditor"},previewTheme:{default:"default"},codeTheme:{default:"atom"},readOnly:{type:Boolean},mStyle:{default:""},toolbarsExclude:{default:()=>["htmlPreview","codeRow","code","unorderedList","orderedList","quote"]},modelValue:{default:""},uploadImgMethod:{},methodParams:{}},emits:["update:modelValue","save","uploadImg"],setup(e,{emit:r}){const p=e,i=r,h=a({get:()=>p.modelValue,set(e){i("update:modelValue",e)}}),c=s(),g=a((()=>c.isDark?"dark":"light")),f=a((()=>"en"===c.language?"en-US":"zh-CN")),w=(e,a)=>{i("save",e,a)},v=async(e,a)=>{const o=await Promise.all(e.map((e=>new Promise(((a,o)=>{const d=new FormData;d.append("file",e);const t=p.methodParams;t&&Object.keys(t).map((e=>{t.hasOwn(e)&&d.append(e,t[e])}));const l=p.uploadImgMethod;l&&l(t).then((e=>{a(e)})).catch((e=>{o(e)}))})))));a(o.map((e=>e.data.url))),i("uploadImg",o)};return(e,a)=>(o(),d(t(n),{modelValue:t(h),"onUpdate:modelValue":a[0]||(a[0]=e=>l(h)?h.value=e:null),editorId:p.editorId,theme:t(g),language:t(f),previewTheme:p.previewTheme,codeTheme:p.codeTheme,noImgZoomIn:!0,autofocus:!0,"read-only":e.readOnly,style:m(p.mStyle||{height:t(u)("page")}),toolbarsExclude:p.toolbarsExclude,onSave:w,onUploadImg:v},null,8,["modelValue","editorId","theme","language","previewTheme","codeTheme","read-only","style","toolbarsExclude"]))}}),h=e({name:"MarkdownDemo"}),c=e({...h,setup(e){const a=r("Markdown基于[MdEditorV3](https://imzbf.github.io/md-editor-v3/en-US/index)");return(e,m)=>{const n=i;return o(),d(n,{modelValue:t(a),"onUpdate:modelValue":m[0]||(m[0]=e=>l(a)?a.value=e:null)},null,8,["modelValue"])}}});export{c as default};
