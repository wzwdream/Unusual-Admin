import{_ as e,u as a,a as l}from"./index-184429e3.js";import{_ as i,a as t}from"./index-a15d8d1d.js";import{b as d,c as o,f as s}from"./dict-5bec13a6.js";import{h as n,b5 as r,b6 as u,M as m,x as p,o as b,j as v,w as f,k as c,l as y,C as g,Q as h,F as k,b7 as _,b8 as w,b4 as S,S as x,aU as D,b9 as F,aV as U,W as j}from"./.pnpm-222492af.js";const C=n({name:"Details"}),Q=t(n({...C,props:{pid:{},name:{}},setup(t){const n=t;r((()=>{u((()=>{n.pid?(M.value.pid=n.pid,B()):(G.value=[],J.itemCount=0,J.page=1)}))}));const C=m([{title:"ID",key:"id"},{title:"所属字典",key:"name",render:()=>p("span",{},n.name)},{title:"字典标签",key:"label"},{title:"字典值",key:"value"},{title:"排序",key:"dictSort"},{title:"操作",key:"actions",align:"center",fixed:"right",render:a=>[p(e,{onHandleDelete:()=>E([a.id]),onHandleEdit:()=>R(a),onHandleView:()=>K(a)})]}]),Q={value:[{required:!0,message:"请输入字典值",trigger:"blur"}],label:[{required:!0,message:"请输入字典标签",trigger:"blur"}]},{modalVisible:V,modalAction:H,modalShowFooter:I,modalTitle:q,modalLoading:z,handleAdd:A,handleDelete:E,handleEdit:R,handleView:K,handleSave:L,defualtQuery:M,modalForm:T,modalFormRef:W,listQuery:B,listData:G,pagination:J,loading:N,rowKey:O}=a({name:"字典详情",url:"/dictDetails",key:"id",isInitQuery:!1,initForm:{id:void 0,pid:void 0,label:"",value:"",dictSort:1},initQuery:{pid:void 0},doCreate:d,doDelete:o,doUpdate:s,beforeSave:e=>(e.pid=n.pid,e)});return(e,a)=>{const t=i,d=k,o=_,s=w,r=S,u=x,m=D,p=F,E=U,R=l,K=j;return b(),v(K,{title:"字典详情",size:"small",segmented:!0},{"header-extra":f((()=>[c(d,{type:"primary",disabled:void 0===n.pid,size:"small",onClick:y(A)},{icon:f((()=>[c(t,{icon:"material-symbols:add-rounded"})])),default:f((()=>[g(" 新增 ")])),_:1},8,["disabled","onClick"])])),default:f((()=>[void 0===n.pid?(b(),v(s,{key:0,prefix:"bar"},{default:f((()=>[c(o,{type:"primary"},{default:f((()=>[g(" 点击字典查看详情")])),_:1})])),_:1})):(b(),v(r,{key:1,columns:y(C),data:y(G),pagination:y(J),loading:y(N),"row-key":y(O),striped:"",remote:!0},null,8,["columns","data","pagination","loading","row-key"])),c(R,{visible:y(V),"onUpdate:visible":a[3]||(a[3]=e=>h(V)?V.value=e:null),title:y(q),loading:y(z),"show-footer":y(I),width:"450px",onSave:y(L)},{default:f((()=>[c(E,{ref_key:"modalFormRef",ref:W,"label-placement":"left","label-align":"right","label-width":80,model:y(T),rules:Q,disabled:"view"===y(H)},{default:f((()=>[c(m,{label:"字典标签",path:"label"},{default:f((()=>[c(u,{value:y(T).label,"onUpdate:value":a[0]||(a[0]=e=>y(T).label=e)},null,8,["value"])])),_:1}),c(m,{label:"字典值",path:"value"},{default:f((()=>[c(u,{value:y(T).value,"onUpdate:value":a[1]||(a[1]=e=>y(T).value=e)},null,8,["value"])])),_:1}),c(m,{label:"字典排序",path:"dictSort"},{default:f((()=>[c(p,{value:y(T).dictSort,"onUpdate:value":a[2]||(a[2]=e=>y(T).dictSort=e)},null,8,["value"])])),_:1})])),_:1},8,["model","disabled"])])),_:1},8,["visible","title","loading","show-footer","onSave"])])),_:1})}}}),[["__scopeId","data-v-ad7f7ab2"]]);export{Q as default};
