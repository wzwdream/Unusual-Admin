import{_ as e,u as a,a as l}from"./index-7e84b3aa.js";import{e as d,a as i,_ as t}from"./index-1bb12b99.js";import{b as o,c as s,f as n}from"./dict-3e304d61.js";import{h as r,M as u,x as m,bb as p,bc as b,o as v,j as f,bd as c,l as y,w as g,k as h,C as k,Q as w,F as _,be as D,bf as S,ba as x,S as F,aT as U,bg as j,aU as C,W as Q}from"./.pnpm-90504e03.js";const q=r({name:"Details"}),H=t(r({...q,props:{pid:{},name:{}},setup(t){const{hasPermission:r}=d(),q={add:["admin","dictDetails:add"],del:["admin","dictDetails:del"],edit:["admin","dictDetails:edit"],download:["admin","dictDetails:download"]},H=t,I=u([{title:"ID",key:"id"},{title:"所属字典",key:"name",render:()=>m("span",{},H.name)},{title:"字典标签",key:"label"},{title:"字典值",key:"value"},{title:"排序",key:"dictSort"},{title:"操作",key:"actions",align:"center",fixed:"right",render:a=>[m(e,{permission:q,onHandleDelete:()=>L(a.id),onHandleEdit:()=>M(a),onHandleView:()=>P(a)})]}]),V={value:[{required:!0,message:"请输入字典值",trigger:"blur"}],label:[{required:!0,message:"请输入字典标签",trigger:"blur"}]},{modalVisible:z,modalAction:A,modalShowFooter:E,modalTitle:R,modalLoading:T,handleAdd:K,handleDelete:L,handleEdit:M,handleView:P,handleSave:W,defualtQuery:B,modalForm:G,modalFormRef:J,listQuery:N,listData:O,pagination:X,loading:Y,rowKey:Z}=a({name:"字典详情",url:"/dictDetails",key:"id",isInitQuery:!1,initForm:{id:void 0,pid:void 0,label:"",value:"",dictSort:1},initQuery:{pid:void 0},doCreate:o,doDelete:s,doUpdate:n,beforeSave:e=>(e.pid=H.pid,e)});return p((()=>{b((()=>{H.pid?(B.pid=H.pid,N()):(O.value=[],X.itemCount=0,X.page=1)}))})),(e,a)=>{const d=i,t=_,o=D,s=S,n=x,u=F,m=U,p=j,b=C,L=l,M=Q;return v(),f(M,{title:"字典详情",size:"small",segmented:!0},c({default:g((()=>[void 0===H.pid?(v(),f(s,{key:0,prefix:"bar"},{default:g((()=>[h(o,{type:"primary"},{default:g((()=>[k(" 点击字典查看详情")])),_:1})])),_:1})):(v(),f(n,{key:1,columns:y(I),data:y(O),pagination:y(X),loading:y(Y),"row-key":y(Z),striped:"",remote:!0},null,8,["columns","data","pagination","loading","row-key"])),h(L,{visible:y(z),"onUpdate:visible":a[3]||(a[3]=e=>w(z)?z.value=e:null),title:y(R),loading:y(T),"show-footer":y(E),width:"450px",onSave:y(W)},{default:g((()=>[h(b,{ref_key:"modalFormRef",ref:J,"label-placement":"left","label-align":"right","label-width":80,model:y(G),rules:V,disabled:"view"===y(A)},{default:g((()=>[h(m,{label:"字典标签",path:"label"},{default:g((()=>[h(u,{value:y(G).label,"onUpdate:value":a[0]||(a[0]=e=>y(G).label=e)},null,8,["value"])])),_:1}),h(m,{label:"字典值",path:"value"},{default:g((()=>[h(u,{value:y(G).value,"onUpdate:value":a[1]||(a[1]=e=>y(G).value=e)},null,8,["value"])])),_:1}),h(m,{label:"字典排序",path:"dictSort"},{default:g((()=>[h(p,{value:y(G).dictSort,"onUpdate:value":a[2]||(a[2]=e=>y(G).dictSort=e)},null,8,["value"])])),_:1})])),_:1},8,["model","disabled"])])),_:1},8,["visible","title","loading","show-footer","onSave"])])),_:2},[y(r)(q.add)?{name:"header-extra",fn:g((()=>[h(t,{type:"primary",disabled:void 0===H.pid,size:"small",onClick:y(K)},{icon:g((()=>[h(d,{icon:"material-symbols:add-rounded"})])),default:g((()=>[k(" 新增 ")])),_:1},8,["disabled","onClick"])])),key:"0"}:void 0]),1024)}}}),[["__scopeId","data-v-61e5d6ab"]]);export{H as default};
