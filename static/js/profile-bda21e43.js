import{u as e}from"./useDict-7b19ad1f.js";import{u as a}from"./index-4a70f3a6.js";import{a as l,b as n}from"./calibrationRules-6d34d65c.js";import{h as s,s as u,M as t,aG as r,aR as i,o as p,q as o,k as d,w as m,t as f,E as v,l as _,Q as b,C as c,a3 as g,Y as h,aW as w,W as y,az as j,S as x,aU as k,F as q,aV as E,aX as R,aY as U,ax as P}from"./.pnpm-49006307.js";import{_ as z}from"./resetPwd.vue_vue_type_script_setup_true_name_ResetPwd_lang-cc0e2a2c.js";import"./dict-aa3c3f13.js";const C=f("span",null,"登录账号：",-1),D=f("span",null,"邮箱：",-1),F=f("span",null,"手机号：",-1),I=f("span",null,"性别：",-1),S=s({name:"Profile"}),W=s({...S,setup(s){const S=a(),{userInfo:W}=u(S),{getDictLabel:Y}=e(["sex"]),G=t(null),L=t("user");r().query.pwd&&(L.value="pwd");const M=t(null),N=i({phone:W.value.phone,name:W.value.name,email:W.value.email}),Q={name:[{required:!0,message:"请输入用户昵称",trigger:"blur"}],email:[{required:!0,validator:(e,a)=>a?!!l(e,a)||new Error("邮箱格式不正确"):new Error("请输入邮箱"),trigger:["input","blur"]}],phone:[{required:!0,validator:(e,a)=>a?!!n(e,a)||new Error("手机号格式不正确"):new Error("请输入手机号"),trigger:["input","blur"]}]},V=()=>{var e;null==(e=M.value)||e.validate((e=>{}))};return(e,a)=>{const l=g,n=h,s=w,u=y,t=j,r=x,i=k,S=q,X=E,A=R,B=U,H=P;return p(),o("div",null,[d(H,{cols:"5","item-responsive":"","y-gap":8,"x-gap":10},{default:m((()=>[d(t,{span:"0:5 768:2"},{default:m((()=>[d(u,{segmented:{content:!0}},{header:m((()=>[d(n,{align:"center"},{default:m((()=>[d(l,{round:"",size:64,src:"/logo.webp",class:"bg-[#fff]"}),f("span",null,v(_(W).name),1)])),_:1})])),default:m((()=>[f("div",null,[C,f("span",null,v(_(W).userName),1)]),d(s),f("div",null,[D,f("span",null,v(_(W).email),1)]),d(s),f("div",null,[F,f("span",null,v(_(W).phone),1)]),d(s),f("div",null,[I,f("span",null,v(_(Y)("sex",String(_(W).sex))),1)])])),_:1})])),_:1}),d(t,{span:"0:5 768:3"},{default:m((()=>[d(u,{title:"基本资料",segmented:{content:!0}},{default:m((()=>[d(B,{ref_key:"tabsInstRef",ref:G,type:"line",animated:"",value:_(L),"onUpdate:value":a[3]||(a[3]=e=>b(L)?L.value=e:null)},{default:m((()=>[d(A,{name:"user",tab:"用户设置"},{default:m((()=>[d(X,{ref_key:"modalFormRef",ref:M,"label-placement":"left","label-align":"right","label-width":80,model:_(N),rules:Q},{default:m((()=>[d(i,{label:"用户昵称",path:"name"},{default:m((()=>[d(r,{value:_(N).name,"onUpdate:value":a[0]||(a[0]=e=>_(N).name=e),clearable:""},null,8,["value"])])),_:1}),d(i,{label:"电话",path:"phone"},{default:m((()=>[d(r,{value:_(N).phone,"onUpdate:value":a[1]||(a[1]=e=>_(N).phone=e),clearable:""},null,8,["value"])])),_:1}),d(i,{label:"邮箱",path:"email"},{default:m((()=>[d(r,{value:_(N).email,"onUpdate:value":a[2]||(a[2]=e=>_(N).email=e),clearable:""},null,8,["value"])])),_:1}),d(S,{type:"primary",onClick:V},{default:m((()=>[c("保存")])),_:1})])),_:1},8,["model"])])),_:1}),d(A,{name:"pwd",tab:"修改密码"},{default:m((()=>[d(z)])),_:1})])),_:1},8,["value"])])),_:1})])),_:1})])),_:1})])}}});export{W as default};
