import{a as R,d as E,z as S}from"./index-EnRswSS-.js";import{f as T,a3 as H,a4 as K,m as L,a5 as Q,B as U,a6 as G,i as J}from"./naive-ui-BLfgJAqn.js";import{d as B,a as x,ae as i,m as l,bK as e,E as c,bj as m,y as n,u as a,f as N,l as F,F as V,b4 as M,af as b,b7 as O,b5 as D,L as z,H as P,ag as A,S as W}from"./@vue-BxoxtTAP.js";import{s as X}from"./pinia-CmUssEbr.js";const Y=B({name:"ColumSetting"}),Z=B({...Y,props:{columns:{}},emits:["updateColumns"],setup(_,{emit:k}){const r=_,g=k,v=x(!0),$=x(!1),p=x([]),d=[...r.columns.map(o=>(p.value.push(o.key),{...o}))],s=o=>{$.value=!1,o?(d.map(u=>{p.value.push(u.key)}),g("updateColumns",d)):(p.value=[],g("updateColumns",[]))},t=o=>{var y;p.value=o,$.value=((y=p.value)==null?void 0:y.length)!==d.length;const u=d.filter(w=>p.value.includes(w.key));g("updateColumns",u)};return(o,u)=>{const y=R,w=U,q=Q,j=L,I=K,C=H,f=T;return l(),i(f,{trigger:"hover"},{trigger:e(()=>[n(C,{trigger:"click",placement:"bottom"},{trigger:e(()=>[n(w,{ghost:""},{icon:e(()=>[n(y,{icon:"basil:settings-alt-outline"})]),_:1})]),header:e(()=>[n(j,{justify:"space-between"},{default:e(()=>[n(q,{checked:a(v),"onUpdate:checked":[u[0]||(u[0]=h=>N(v)?v.value=h:null),s],indeterminate:a($)},{default:e(()=>[c(m(o.$t("colSetting")),1)]),_:1},8,["checked","indeterminate"])]),_:1})]),default:e(()=>[n(I,{value:a(p),"onUpdate:value":u[1]||(u[1]=h=>N(p)?p.value=h:null),"on-update:value":t},{default:e(()=>[n(j,{vertical:""},{default:e(()=>[(l(),F(V,null,M(d,h=>(l(),F(V,null,[h.type!=="selection"?(l(),i(q,{key:h.key,value:h.key,label:h.title},null,8,["value","label"])):b("",!0)],64))),64))]),_:1})]),_:1},8,["value"])]),_:1})]),default:e(()=>[c(" "+m(o.$t("colShowcase")),1)]),_:1})}}}),ee={flex:"","flex-items-center":""},te=B({name:"BasicLayout"}),de=B({...te,props:{columns:{},optShow:{default:()=>({add:!0,edit:!0,del:!0,download:!0})},toolbar:{type:Boolean,default:!0},querybar:{type:Boolean,default:!0},btnDisabled:{default:()=>({edit:!1,del:!1,download:!1})},permission:{default:()=>({add:[],edit:[],del:[],download:[]})}},emits:["add","delete","edit","download","reset","search","update:columns"],setup(_,{emit:k}){const r=_,g=x(!0),v=E(),{fullContent:$}=X(v),p=()=>{v.setFullContent(!$)},d=k;return(s,t)=>{const o=U,u=L,y=R,w=T,q=Z,j=G,I=J,C=O("permission");return l(),i(I,{segmented:{content:!0},"content-style":"padding: 10px;","header-style":"padding: 10px;"},{header:e(()=>[z(n(u,{"mb-10":"",align:"center"},{default:e(()=>[D(s.$slots,"queryBar"),r.querybar?(l(),i(u,{key:0,"translate-y-3":""},{default:e(()=>[n(o,{type:"primary",size:"small",secondary:"","render-icon":a(S)("mdi:magnify",14),onClick:t[0]||(t[0]=f=>d("search"))},{default:e(()=>[c(m(s.$t("search")),1)]),_:1},8,["render-icon"]),n(o,{type:"warning",size:"small",secondary:"","render-icon":a(S)("mdi:restore",14),onClick:t[1]||(t[1]=f=>d("reset"))},{default:e(()=>[c(m(s.$t("reset")),1)]),_:1},8,["render-icon"])]),_:1})):b("",!0)]),_:3},512),[[P,a(g)]]),n(u,{justify:"space-between",align:"center"},{default:e(()=>[D(s.$slots,"toolbarLeft"),A("div",ee,[r.optShow.add?z((l(),i(o,{key:0,"mr-10":"",type:"primary",size:"tiny","render-icon":a(S)("material-symbols:add-rounded",14),onClick:t[2]||(t[2]=f=>d("add"))},{default:e(()=>[c(m(s.$t("add")),1)]),_:1},8,["render-icon"])),[[C,_.permission.add]]):b("",!0),r.optShow.edit?z((l(),i(o,{key:1,"mr-10":"",disabled:r.btnDisabled.edit,type:"warning",size:"tiny","render-icon":a(S)("material-symbols:edit-outline",14),onClick:t[3]||(t[3]=f=>d("edit"))},{default:e(()=>[c(m(s.$t("edit")),1)]),_:1},8,["disabled","render-icon"])),[[C,_.permission.edit]]):b("",!0),r.optShow.del?z((l(),i(o,{key:2,"mr-10":"",disabled:r.btnDisabled.del,type:"error",size:"tiny","render-icon":a(S)("material-symbols:delete-outline",14),onClick:t[4]||(t[4]=f=>d("delete"))},{default:e(()=>[c(m(s.$t("delete")),1)]),_:1},8,["disabled","render-icon"])),[[C,_.permission.del]]):b("",!0),r.optShow.download?z((l(),i(o,{key:3,disabled:r.btnDisabled.download,type:"info",size:"tiny","render-icon":a(S)("material-symbols:download-rounded",14),onClick:t[5]||(t[5]=f=>d("download"))},{default:e(()=>[c(m(s.$t("export")),1)]),_:1},8,["disabled","render-icon"])),[[C,_.permission.download]]):b("",!0)]),r.toolbar?(l(),i(u,{key:0},{default:e(()=>[n(j,{size:"tiny"},{default:e(()=>[n(w,{trigger:"hover"},{trigger:e(()=>[n(o,{ghost:"",onClick:t[6]||(t[6]=f=>g.value=!a(g))},{default:e(()=>[a(g)?(l(),i(y,{key:0,icon:"ic:outline-search-off"})):(l(),i(y,{key:1,icon:"mdi:magnify"}))]),_:1})]),default:e(()=>[c(" "+m(a(g)?s.$t("retractSearch"):s.$t("expandSearch")),1)]),_:1}),n(w,{trigger:"hover"},{trigger:e(()=>[n(o,{ghost:"",onClick:p},{default:e(()=>[a($)?(l(),i(y,{key:1,icon:"ant-design:fullscreen-exit-outlined"})):(l(),i(y,{key:0,icon:"ant-design:fullscreen-outlined"}))]),_:1})]),default:e(()=>[c(" "+m(a($)?s.$t("exitFullscreen"):s.$t("fullscreen")),1)]),_:1}),n(w,{trigger:"hover"},{trigger:e(()=>[n(o,{ghost:"",onClick:t[7]||(t[7]=f=>d("search"))},{default:e(()=>[n(y,{icon:"ant-design:reload-outlined"})]),_:1})]),default:e(()=>[c(" "+m(s.$t("refresh")),1)]),_:1}),n(q,{columns:r.columns,onUpdateColumns:t[8]||(t[8]=f=>d("update:columns",f))},null,8,["columns"])]),_:1})]),_:1})):b("",!0),D(s.$slots,"toolbarRight")]),_:3})]),default:e(()=>[D(s.$slots,"default")]),_:3})}}}),ne={key:0,class:"color-[#d03050] flex-shrink-0"},oe=B({name:"QueryItem"}),ie=B({...oe,props:{label:{default:""},labelWidth:{default:"auto"},contentWidth:{default:180},required:{type:Boolean,default:!1}},setup(_){const k=_;return(r,g)=>{const v=L;return l(),i(v,{align:"center"},{default:e(()=>[k.label?(l(),F("label",{key:0,class:"flex-shrink-0 flex justify-end pr-10 text-font",style:W({width:k.labelWidth})},[k.required?(l(),F("span",ne,"*Â ")):b("",!0),c(" "+m(_.label),1)],4)):b("",!0),A("div",{style:W({width:k.contentWidth+"px"}),"flex-shrink-0":""},[D(r.$slots,"default")],4)]),_:3})}}});export{de as _,ie as a};
