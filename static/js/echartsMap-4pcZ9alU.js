import{d as e,a as t,j as o,l as s,m as a,q as r,u as i,L as l,D as n,by as m,B as p,P as c}from"./@vue-7s647Hg9.js";import{H as d}from"./vue-echarts-DpynRI6o.js";import{c as u}from"./index-BYCMBCbo.js";import{u as f,a as j,c as v,d as y,e as h,h as b,j as g,k as w,l as S,m as z,r as x}from"./echarts-BRR8dxA2.js";import{R as C,B}from"./naive-ui-DtZk0WJ8.js";import"./resize-detector-BnI0Kdmb.js";import"./@vueuse-5kwDSbK9.js";import"./pinia-DxolVr3A.js";import"./vue-demi-Dq6ymT-8.js";import"./vue-i18n-Af_yDAzr.js";import"./@intlify-DTqJVEQS.js";import"./vue-router-BiYFwnTs.js";import"./@iconify-BsjoIFlE.js";import"./axios-CURSphCx.js";import"./@codemirror-BDMijoIR.js";import"./@lezer-B1NhjyO5.js";import"./crelt-DSg10-ms.js";import"./style-mod-BCKp0_dq.js";import"./w3c-keyname-f-y9tSbI.js";import"./lodash-es-BqiBNFWB.js";import"./pinia-plugin-persistedstate-Cs-f0Iqr.js";import"./date-fns-YzY8oSGz.js";import"./@babel-DJq229zv.js";import"./vueuc-Bk9f_vlN.js";import"./evtd-hWw0KU7y.js";import"./seemly-B0CCZz1h.js";import"./@css-render-sXtP9vHb.js";import"./vooks-Dg4BxRLw.js";import"./vdirs-aWQMhJPa.js";import"./@juggle-BnTvdTVm.js";import"./css-render-7x70jhNC.js";import"./@emotion-DFFAhID7.js";import"./treemate-CC-CeH3d.js";import"./async-validator-Cuo4gI4y.js";import"./zrender-BiYmND81.js";import"./tslib-ZseNXxlj.js";const k=e({name:"EchartsMap"}),M=e({...k,setup(e){f([j,v,y,h,b,g,w,S,z]);const k=C(),M=t(),$=t([]),_=o((()=>0!==$.value.length)),F=async e=>{const t=await(async e=>{const t=`https://geo.datav.aliyun.com/areas_v3/bound/${e}.json`;return await fetch(t).then((e=>e.json()))})(e);x(e,t);const o=t.features.map((e=>{const t=(80*Math.random()+20).toFixed(0),o=e.properties.center?[...e.properties.center,t]:e.properties.center;return{name:e.properties.name,value:o,adcode:e.properties.adcode,level:e.properties.level,data:t}}));M.value=((e,t)=>({tooltip:{show:!0,formatter:function(e){if(e&&e.data){const{adcode:t,name:o,data:s}=e.data;return`adcode: ${t}<br>name: ${o}<br>data: ${s}`}}},visualMap:{show:!0,min:0,max:100,left:"left",top:"bottom",text:["高","低"],calculable:!0,seriesIndex:[0],inRange:{color:["#00467F","#A5CC82"]}},geo:{map:e,roam:!0,select:!1,selectedMode:"single",label:{show:!0},emphasis:{itemStyle:{areaColor:"#389BB7",borderColor:"#389BB7",borderWidth:0},label:{fontSize:14}}},series:[{type:"map",map:e,roam:!0,geoIndex:0,select:!1,data:t},{name:"散点",type:"scatter",coordinateSystem:"geo",data:t,itemStyle:{color:"#05C3F9"}},{name:"点",type:"scatter",coordinateSystem:"geo",symbol:"pin",symbolSize:function(e){if(e)return e[2]/4+20},label:{show:!0,formatter:function(e){return e.data.data||0},color:"#fff",fontSize:9},itemStyle:{color:"#F62157"},zlevel:6,data:t},{name:"Top 5",type:"effectScatter",coordinateSystem:"geo",data:t.map((e=>{if(e.data>60)return e})),symbolSize:15,showEffectOn:"render",rippleEffect:{brushType:"stroke"},label:{formatter:"{b}",position:"right",show:!0},itemStyle:{color:"yellow",shadowBlur:10,shadowColor:"yellow"},zlevel:1}]}))(e,o)};F("100000_full");const E=e=>{if("map"!==e.seriesType)return;const{adcode:t,level:o}=e.data,s="district"===o?t:t+"_full";if($.value[$.value.length-1]===s)return k.warning({content:"已经是最下层了",duration:1e3});$.value.push(s),F(s)},R=()=>{const e=$.value[$.value.length-2]||"100000_full";$.value.pop(),F(e)};return(e,t)=>{const o=B;return s(),a("div",{style:c(`height: ${i(u)("main")};`),class:"wh-full pos-relative"},[r(i(d),{option:i(M),autoresize:!0,onClick:E},null,8,["option"]),l(r(o,{class:"pos-absolute top-10 left-10",onClick:R},{default:m((()=>[p("返回")])),_:1},512),[[n,i(_)]])],4)}}});export{M as default};
