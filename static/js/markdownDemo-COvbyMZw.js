import{E as x}from"./md-editor-v3-CzAdrqDP.js";import{b as E,c as M}from"./index-B38VnuD9.js";import{d as u,j as c,l as _,ad as w,u as a,f as v,P as S,a as P}from"./@vue-CRj7PaMA.js";import"./@vavt-PwnvuMkC.js";import"./@codemirror-uT1p_ncg.js";import"./@lezer-COsil1JX.js";import"./crelt-C8TCjufn.js";import"./style-mod-Bc2inJdb.js";import"./w3c-keyname-Vcq4gwWv.js";import"./medium-zoom-bWEtUbjf.js";import"./copy-to-clipboard-C1SuVluP.js";import"./@babel-dN-1QE0A.js";import"./toggle-selection-BHUZwh74.js";import"./markdown-it-DI8MEbma.js";import"./mdurl-k9Sl0PQj.js";import"./uc.micro-kMc2yuuw.js";import"./entities-C20TfXL6.js";import"./linkify-it-DmNjr4Kv.js";import"./punycode.js-Dj65hjkv.js";import"./markdown-it-image-figures-BD49Kf-b.js";import"./markdown-it-task-lists-Bk_P1Bh3.js";import"./markdown-it-xss-S5L45IPD.js";import"./xss-DnjGkJ2-.js";import"./cssfilter-BjxKUPhv.js";import"./lru-cache-DBLXwll_.js";import"./@vueuse-Bot-wEr0.js";import"./pinia-B-btkknc.js";import"./vue-demi-Dq6ymT-8.js";import"./vue-i18n-BZ7cv-U7.js";import"./@intlify-Y34EtYYP.js";import"./naive-ui-ItunR-2b.js";import"./date-fns-BAYWyKT4.js";import"./vueuc-DHpchg3q.js";import"./evtd-CI_DDEu_.js";import"./seemly-pQYQdLy2.js";import"./@css-render-CcHFHqZ8.js";import"./vooks-Vv8Q4iio.js";import"./vdirs-Bxp-63WN.js";import"./@juggle-C8OzoCMD.js";import"./css-render-BDrvWz3H.js";import"./@emotion-WldOFDRm.js";import"./lodash-es-q_UuXcXk.js";import"./treemate-DKekKYbv.js";import"./async-validator-DKvM95Vc.js";import"./vue-echarts-C0IzmTCj.js";import"./resize-detector-G6vbKCU7.js";import"./echarts-BhkYWNed.js";import"./zrender-DGIA2jg-.js";import"./tslib-BDyQ-Jie.js";import"./vue-router-DYGa2EEA.js";import"./@iconify-D4xAYz74.js";import"./axios-B4uVmeYG.js";import"./pinia-plugin-persistedstate-RV7uh3T-.js";import"./vite-plugin-mock-CVu1TUMM.js";import"./mockjs-SqilSaKE.js";import"./path-to-regexp-D27XTR3m.js";const U=u({name:"Markdown"}),O=u({...U,props:{editorId:{default:"markRaw_MdEditor"},previewTheme:{default:"default"},codeTheme:{default:"atom"},readOnly:{type:Boolean},mStyle:{default:""},toolbarsExclude:{default:()=>["htmlPreview","codeRow","code","unorderedList","orderedList","quote"]},modelValue:{default:""},uploadImgMethod:{},methodParams:{}},emits:["update:modelValue","save","uploadImg"],setup(f,{emit:i}){const e=f,r=i,p=c({get(){return e.modelValue},set(o){r("update:modelValue",o)}}),l=E(),y=c(()=>l.isDark?"dark":"light"),I=c(()=>l.language==="en"?"en-US":"zh-CN"),V=(o,m)=>{r("save",o,m)},k=async(o,m)=>{const n=await Promise.all(o.map(s=>new Promise((T,b)=>{const h=new FormData;h.append("file",s);const d=e.methodParams;d&&Object.keys(d).map(t=>{d.hasOwn(t)&&h.append(t,d[t])});const g=e.uploadImgMethod;g&&g(d).then(t=>{T(t)}).catch(t=>{b(t)})})));m(n.map(s=>s.data.url)),r("uploadImg",n)};return(o,m)=>(_(),w(a(x),{modelValue:a(p),"onUpdate:modelValue":m[0]||(m[0]=n=>v(p)?p.value=n:null),editorId:e.editorId,theme:a(y),language:a(I),previewTheme:e.previewTheme,codeTheme:e.codeTheme,noImgZoomIn:!0,autofocus:!0,"read-only":o.readOnly,style:S(e.mStyle||{height:a(M)("main")}),toolbarsExclude:e.toolbarsExclude,onSave:V,onUploadImg:k},null,8,["modelValue","editorId","theme","language","previewTheme","codeTheme","read-only","style","toolbarsExclude"]))}}),z=u({name:"MarkdownDemo"}),Re=u({...z,setup(f){const i=P("Markdown基于[MdEditorV3](https://imzbf.github.io/md-editor-v3/en-US/index)");return(e,r)=>{const p=O;return _(),w(p,{modelValue:a(i),"onUpdate:modelValue":r[0]||(r[0]=l=>v(i)?i.value=l:null)},null,8,["modelValue"])}}});export{Re as default};
