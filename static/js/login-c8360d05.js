import{l as a,u as e,g as l,_ as s,a as r}from"./index-b3536dae.js";import{aQ as t,h as n,M as o,aR as i,aS as d,aG as c,O as u,o as p,q as h,t as g,k as m,w as v,l as f,aT as w,C as b,X as y,F as _,Y as U,S as k,aU as x,a7 as C,aV as q,aB as T,aC as F}from"./.pnpm-222492af.js";import{c as z,a as E,b as K}from"./calibrationRules-6d34d65c.js";const R=t.enc.Utf8.parse("18873AC2978EC7FA"),S=t.enc.Utf8.parse("4FE46BE1C4485C95");function j(a){if("string"!=typeof a||!a)return a;try{const e=t.enc.Utf8.parse(a);return t.AES.encrypt(e,R,{iv:S,mode:t.mode.CBC,padding:t.pad.Pkcs7}).ciphertext.toString()}catch(e){return a}}const A=a=>(T("data-v-69cc6948"),a=a(),F(),a),B={"wh-full":"","f-c-c":"",class:"bg-content"},I={class:"form-container sign-in-container"},G=A((()=>g("h1",{"m-0":""},"登录",-1))),L=A((()=>g("span",{"mb-10":"","font-size-12":""},"或者使用你的账号",-1))),M=A((()=>g("div",{flex:"","mb-10":"","min-w-308":""},[g("span",{"font-size-12":""},"忘记密码？")],-1))),O={class:"form-container sign-up-container"},P=A((()=>g("h1",{"m-0":""},"注册",-1))),Q={class:"overlay-container"},V={class:"overlay"},X={class:"overlay-panel overlay-left"},Y=A((()=>g("p",null,"要与我们保持联系，请使用您的个人信息登录",-1))),D={class:"overlay-panel overlay-right"},H=A((()=>g("p",null,"非常感谢您选择我们！我们将竭诚为您提供最优质、最全面的服务。",-1))),J=n({name:"Login"}),N=r(n({...J,setup(r){const t=o("signUp"),n=i({name:"admin",password:"widgets@123",captchaText:"eybk",captchaUid:""}),T=o(null),F=o(!1),R=d(),S={name:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],captchaText:[{required:!0,message:"请输入验证码",trigger:"blur"}]},A=c(),J=u(),N=()=>{var l;null==(l=T.value)||l.validate((l=>{if(!l){F.value=!0;const l={...n,password:j(n.password)};a(l).then((async a=>{F.value=!1,R.success("登录成功,欢迎回来");e().setToken(a.data);const{redirect:l}=A.query;J.push(l||"/")})).catch((()=>{F.value=!1,Z()}))}}))},W=o(""),Z=()=>{l().then((a=>{W.value="data:image/*;base64, "+a.data.captcha,n.captchaUid=a.data.uid}))};Z();const $=i({name:"",pwd:"",email:"",phone:""}),aa={name:[{required:!0,message:"请输入用户名",trigger:"blur"}],pwd:[{required:!0,message:"请输入密码",trigger:"blur"},{validator:z,message:"密码格式不正确",trigger:"input"}],email:[{required:!0,message:"请输入邮箱",trigger:"blur"},{validator:E,message:"请输入正确的邮箱",trigger:"input"}],phone:[{required:!0,message:"请输入手机号",trigger:"blur"},{validator:K,message:"请输入正确的手机号",trigger:"input"}]},ea=o(null),la=o(!1),sa=()=>{var a;null==(a=ea.value)||a.validate((a=>{}))};return(a,e)=>{const l=s,r=_,o=U,i=k,d=x,c=C,u=q;return p(),h("div",B,[g("div",{class:y(["bg-white rd-12 relative w768 max-w-full min-h-480 card-shadow dark:bg-dark",{"right-panel-active":"signIn"===f(t)}])},[g("div",I,[m(u,{ref_key:"loginFormRef",ref:T,size:"small","show-label":!1,model:f(n),rules:S,class:"flex-col-c bg-white h-full rounded-10"},{default:v((()=>[G,m(o,{"my-20":""},{default:v((()=>[m(r,{circle:""},{icon:v((()=>[m(l,{icon:"bi:tencent-qq"})])),_:1}),m(r,{circle:""},{icon:v((()=>[m(l,{icon:"tabler:brand-wechat"})])),_:1}),m(r,{circle:""},{icon:v((()=>[m(l,{icon:"mdi:github"})])),_:1})])),_:1}),L,m(d,{path:"name",class:"w-[80%]"},{default:v((()=>[m(i,{value:f(n).name,"onUpdate:value":e[0]||(e[0]=a=>f(n).name=a),placeholder:"请输入账户名称"},null,8,["value"])])),_:1}),m(d,{path:"password",class:"w-[80%]"},{default:v((()=>[m(i,{value:f(n).password,"onUpdate:value":e[1]||(e[1]=a=>f(n).password=a),type:"password","show-password-on":"mousedown",placeholder:"请输入账户密码",maxlength:12},null,8,["value"])])),_:1}),m(d,{path:"captchaText",class:"w-[80%]"},{default:v((()=>[m(i,{value:f(n).captchaText,"onUpdate:value":e[2]||(e[2]=a=>f(n).captchaText=a),placeholder:"请输入验证码"},null,8,["value"]),g("div",{onClick:Z,"h-28":"","w-100":"","cursor-pointer":""},[m(c,{src:f(W),"preview-disabled":!0,width:"100",height:"28"},null,8,["src"])])])),_:1}),M,m(r,{class:"w-[40%] font-bold",round:"",type:"primary",loading:f(F),onClick:N,onKeyup:w(N,["enter"])},{default:v((()=>[b("登录")])),_:1},8,["loading","onKeyup"])])),_:1},8,["model"])]),g("div",O,[m(u,{ref_key:"registFormRef",ref:ea,size:"small","show-label":!1,model:f($),rules:aa,class:"flex-col-c bg-white h-full rounded-10"},{default:v((()=>[P,m(d,{path:"name",class:"w-[80%]"},{default:v((()=>[m(i,{value:f($).name,"onUpdate:value":e[3]||(e[3]=a=>f($).name=a),placeholder:"请输入账户名称"},null,8,["value"])])),_:1}),m(d,{path:"pwd",class:"w-[80%]"},{default:v((()=>[m(i,{value:f($).pwd,"onUpdate:value":e[4]||(e[4]=a=>f($).pwd=a),type:"password","show-password-on":"click",placeholder:"请输入账户密码",maxlength:12},null,8,["value"])])),_:1}),m(d,{path:"email",class:"w-[80%]"},{default:v((()=>[m(i,{value:f($).email,"onUpdate:value":e[5]||(e[5]=a=>f($).email=a),placeholder:"请输入邮箱"},null,8,["value"])])),_:1}),m(d,{path:"phone",class:"w-[80%]"},{default:v((()=>[m(i,{value:f($).phone,"onUpdate:value":e[6]||(e[6]=a=>f($).phone=a),placeholder:"请输入手机号"},null,8,["value"])])),_:1}),m(r,{class:"w-[40%] font-bold",round:"",type:"primary",loading:f(la),onKeyup:w(sa,["enter"]),onClick:sa},{default:v((()=>[b("注册")])),_:1},8,["loading","onKeyup"])])),_:1},8,["model"])]),g("div",Q,[g("div",V,[g("div",X,[g("h1",null,[b("欢迎回来！"),m(c,{width:"48",height:"48","preview-disabled":"",src:"/logo.webp",class:"b-rd-[50%]"})]),Y,m(r,{ghost:"",round:"",color:"#fff",onClick:e[7]||(e[7]=a=>t.value="signUp")},{default:v((()=>[b("去登录")])),_:1})]),g("div",D,[g("h1",null,[b("你好，朋友！"),m(c,{width:"48",height:"48","preview-disabled":"",src:"/logo.webp",class:"b-rd-[50%]"})]),H,m(r,{ghost:"",round:"",color:"#fff",onClick:e[8]||(e[8]=a=>t.value="signIn")},{default:v((()=>[b("去注册")])),_:1})])])])],2)])}}}),[["__scopeId","data-v-69cc6948"]]);export{N as default};
